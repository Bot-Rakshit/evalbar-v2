/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/b/[state]/page"],{

/***/ "(app-pages-browser)/./node_modules/@badrap/result/dist/mjs/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@badrap/result/dist/mjs/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Result: () => (/* binding */ Result)\n/* harmony export */ });\nclass _Result {\n    unwrap(ok, err) {\n        const r = this._chain((value) => Result.ok(ok ? ok(value) : value), (error) => (err ? Result.ok(err(error)) : Result.err(error)));\n        if (r.isErr) {\n            throw r.error;\n        }\n        return r.value;\n    }\n    map(ok, err) {\n        return this._chain((value) => Result.ok(ok(value)), (error) => Result.err(err ? err(error) : error));\n    }\n    chain(ok, err) {\n        return this._chain(ok, err !== null && err !== void 0 ? err : ((error) => Result.err(error)));\n    }\n}\nclass _Ok extends _Result {\n    constructor(value) {\n        super();\n        this.value = value;\n        this.isOk = true;\n        this.isErr = false;\n    }\n    _chain(ok, _err) {\n        return ok(this.value);\n    }\n}\nclass _Err extends _Result {\n    constructor(error) {\n        super();\n        this.error = error;\n        this.isOk = false;\n        this.isErr = true;\n    }\n    _chain(_ok, err) {\n        return err(this.error);\n    }\n}\nvar Result;\n(function (Result) {\n    function ok(value) {\n        return new _Ok(value);\n    }\n    Result.ok = ok;\n    function err(error) {\n        return new _Err(error || new Error());\n    }\n    Result.err = err;\n    function all(obj) {\n        if (Array.isArray(obj)) {\n            const res = [];\n            for (let i = 0; i < obj.length; i++) {\n                const item = obj[i];\n                if (item.isErr) {\n                    return item;\n                }\n                res.push(item.value);\n            }\n            return Result.ok(res);\n        }\n        const res = {};\n        const keys = Object.keys(obj);\n        for (let i = 0; i < keys.length; i++) {\n            const item = obj[keys[i]];\n            if (item.isErr) {\n                return item;\n            }\n            res[keys[i]] = item.value;\n        }\n        return Result.ok(res);\n    }\n    Result.all = all;\n})(Result || (Result = {}));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYmFkcmFwL3Jlc3VsdC9kaXN0L21qcy9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QjtBQUN6QiIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL25vZGVfbW9kdWxlcy9AYmFkcmFwL3Jlc3VsdC9kaXN0L21qcy9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgX1Jlc3VsdCB7XG4gICAgdW53cmFwKG9rLCBlcnIpIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuX2NoYWluKCh2YWx1ZSkgPT4gUmVzdWx0Lm9rKG9rID8gb2sodmFsdWUpIDogdmFsdWUpLCAoZXJyb3IpID0+IChlcnIgPyBSZXN1bHQub2soZXJyKGVycm9yKSkgOiBSZXN1bHQuZXJyKGVycm9yKSkpO1xuICAgICAgICBpZiAoci5pc0Vycikge1xuICAgICAgICAgICAgdGhyb3cgci5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gci52YWx1ZTtcbiAgICB9XG4gICAgbWFwKG9rLCBlcnIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYWluKCh2YWx1ZSkgPT4gUmVzdWx0Lm9rKG9rKHZhbHVlKSksIChlcnJvcikgPT4gUmVzdWx0LmVycihlcnIgPyBlcnIoZXJyb3IpIDogZXJyb3IpKTtcbiAgICB9XG4gICAgY2hhaW4ob2ssIGVycikge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhaW4ob2ssIGVyciAhPT0gbnVsbCAmJiBlcnIgIT09IHZvaWQgMCA/IGVyciA6ICgoZXJyb3IpID0+IFJlc3VsdC5lcnIoZXJyb3IpKSk7XG4gICAgfVxufVxuY2xhc3MgX09rIGV4dGVuZHMgX1Jlc3VsdCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmlzT2sgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzRXJyID0gZmFsc2U7XG4gICAgfVxuICAgIF9jaGFpbihvaywgX2Vycikge1xuICAgICAgICByZXR1cm4gb2sodGhpcy52YWx1ZSk7XG4gICAgfVxufVxuY2xhc3MgX0VyciBleHRlbmRzIF9SZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGVycm9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5pc09rID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNFcnIgPSB0cnVlO1xuICAgIH1cbiAgICBfY2hhaW4oX29rLCBlcnIpIHtcbiAgICAgICAgcmV0dXJuIGVycih0aGlzLmVycm9yKTtcbiAgICB9XG59XG5leHBvcnQgdmFyIFJlc3VsdDtcbihmdW5jdGlvbiAoUmVzdWx0KSB7XG4gICAgZnVuY3Rpb24gb2sodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfT2sodmFsdWUpO1xuICAgIH1cbiAgICBSZXN1bHQub2sgPSBvaztcbiAgICBmdW5jdGlvbiBlcnIoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfRXJyKGVycm9yIHx8IG5ldyBFcnJvcigpKTtcbiAgICB9XG4gICAgUmVzdWx0LmVyciA9IGVycjtcbiAgICBmdW5jdGlvbiBhbGwob2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gb2JqW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmlzRXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXMucHVzaChpdGVtLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQub2socmVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IG9ialtrZXlzW2ldXTtcbiAgICAgICAgICAgIGlmIChpdGVtLmlzRXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNba2V5c1tpXV0gPSBpdGVtLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZXN1bHQub2socmVzKTtcbiAgICB9XG4gICAgUmVzdWx0LmFsbCA9IGFsbDtcbn0pKFJlc3VsdCB8fCAoUmVzdWx0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@badrap/result/dist/mjs/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/attacks.js":
/*!***************************************************!*\
  !*** ./node_modules/chessops/dist/esm/attacks.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   attacks: () => (/* binding */ attacks),\n/* harmony export */   between: () => (/* binding */ between),\n/* harmony export */   bishopAttacks: () => (/* binding */ bishopAttacks),\n/* harmony export */   kingAttacks: () => (/* binding */ kingAttacks),\n/* harmony export */   knightAttacks: () => (/* binding */ knightAttacks),\n/* harmony export */   pawnAttacks: () => (/* binding */ pawnAttacks),\n/* harmony export */   queenAttacks: () => (/* binding */ queenAttacks),\n/* harmony export */   ray: () => (/* binding */ ray),\n/* harmony export */   rookAttacks: () => (/* binding */ rookAttacks)\n/* harmony export */ });\n/* harmony import */ var _squareSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./squareSet.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/util.js\");\n/**\n * Compute attacks and rays.\n *\n * These are low-level functions that can be used to implement chess rules.\n *\n * Implementation notes: Sliding attacks are computed using\n * [Hyperbola Quintessence](https://www.chessprogramming.org/Hyperbola_Quintessence).\n * Magic Bitboards would deliver slightly faster lookups, but also require\n * initializing considerably larger attack tables. On the web, initialization\n * time is important, so the chosen method may strike a better balance.\n *\n * @packageDocumentation\n */\n\n\nconst computeRange = (square, deltas) => {\n    let range = _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.empty();\n    for (const delta of deltas) {\n        const sq = square + delta;\n        if (0 <= sq && sq < 64 && Math.abs((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(square) - (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(sq)) <= 2) {\n            range = range.with(sq);\n        }\n    }\n    return range;\n};\nconst tabulate = (f) => {\n    const table = [];\n    for (let square = 0; square < 64; square++)\n        table[square] = f(square);\n    return table;\n};\nconst KING_ATTACKS = tabulate(sq => computeRange(sq, [-9, -8, -7, -1, 1, 7, 8, 9]));\nconst KNIGHT_ATTACKS = tabulate(sq => computeRange(sq, [-17, -15, -10, -6, 6, 10, 15, 17]));\nconst PAWN_ATTACKS = {\n    white: tabulate(sq => computeRange(sq, [7, 9])),\n    black: tabulate(sq => computeRange(sq, [-7, -9])),\n};\n/**\n * Gets squares attacked or defended by a king on `square`.\n */\nconst kingAttacks = (square) => KING_ATTACKS[square];\n/**\n * Gets squares attacked or defended by a knight on `square`.\n */\nconst knightAttacks = (square) => KNIGHT_ATTACKS[square];\n/**\n * Gets squares attacked or defended by a pawn of the given `color`\n * on `square`.\n */\nconst pawnAttacks = (color, square) => PAWN_ATTACKS[color][square];\nconst FILE_RANGE = tabulate(sq => _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.fromFile((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(sq)).without(sq));\nconst RANK_RANGE = tabulate(sq => _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.fromRank((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareRank)(sq)).without(sq));\nconst DIAG_RANGE = tabulate(sq => {\n    const diag = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(134480385, 2151686160);\n    const shift = 8 * ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareRank)(sq) - (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(sq));\n    return (shift >= 0 ? diag.shl64(shift) : diag.shr64(-shift)).without(sq);\n});\nconst ANTI_DIAG_RANGE = tabulate(sq => {\n    const diag = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(270549120, 16909320);\n    const shift = 8 * ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareRank)(sq) + (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(sq) - 7);\n    return (shift >= 0 ? diag.shl64(shift) : diag.shr64(-shift)).without(sq);\n});\nconst hyperbola = (bit, range, occupied) => {\n    let forward = occupied.intersect(range);\n    let reverse = forward.bswap64(); // Assumes no more than 1 bit per rank\n    forward = forward.minus64(bit);\n    reverse = reverse.minus64(bit.bswap64());\n    return forward.xor(reverse.bswap64()).intersect(range);\n};\nconst fileAttacks = (square, occupied) => hyperbola(_squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.fromSquare(square), FILE_RANGE[square], occupied);\nconst rankAttacks = (square, occupied) => {\n    const range = RANK_RANGE[square];\n    let forward = occupied.intersect(range);\n    let reverse = forward.rbit64();\n    forward = forward.minus64(_squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.fromSquare(square));\n    reverse = reverse.minus64(_squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.fromSquare(63 - square));\n    return forward.xor(reverse.rbit64()).intersect(range);\n};\n/**\n * Gets squares attacked or defended by a bishop on `square`, given `occupied`\n * squares.\n */\nconst bishopAttacks = (square, occupied) => {\n    const bit = _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.fromSquare(square);\n    return hyperbola(bit, DIAG_RANGE[square], occupied).xor(hyperbola(bit, ANTI_DIAG_RANGE[square], occupied));\n};\n/**\n * Gets squares attacked or defended by a rook on `square`, given `occupied`\n * squares.\n */\nconst rookAttacks = (square, occupied) => fileAttacks(square, occupied).xor(rankAttacks(square, occupied));\n/**\n * Gets squares attacked or defended by a queen on `square`, given `occupied`\n * squares.\n */\nconst queenAttacks = (square, occupied) => bishopAttacks(square, occupied).xor(rookAttacks(square, occupied));\n/**\n * Gets squares attacked or defended by a `piece` on `square`, given\n * `occupied` squares.\n */\nconst attacks = (piece, square, occupied) => {\n    switch (piece.role) {\n        case 'pawn':\n            return pawnAttacks(piece.color, square);\n        case 'knight':\n            return knightAttacks(square);\n        case 'bishop':\n            return bishopAttacks(square, occupied);\n        case 'rook':\n            return rookAttacks(square, occupied);\n        case 'queen':\n            return queenAttacks(square, occupied);\n        case 'king':\n            return kingAttacks(square);\n    }\n};\n/**\n * Gets all squares of the rank, file or diagonal with the two squares\n * `a` and `b`, or an empty set if they are not aligned.\n */\nconst ray = (a, b) => {\n    const other = _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.fromSquare(b);\n    if (RANK_RANGE[a].intersects(other))\n        return RANK_RANGE[a].with(a);\n    if (ANTI_DIAG_RANGE[a].intersects(other))\n        return ANTI_DIAG_RANGE[a].with(a);\n    if (DIAG_RANGE[a].intersects(other))\n        return DIAG_RANGE[a].with(a);\n    if (FILE_RANGE[a].intersects(other))\n        return FILE_RANGE[a].with(a);\n    return _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.empty();\n};\n/**\n * Gets all squares between `a` and `b` (bounds not included), or an empty set\n * if they are not on the same rank, file or diagonal.\n */\nconst between = (a, b) => ray(a, b)\n    .intersect(_squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.full().shl64(a).xor(_squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.full().shl64(b)))\n    .withoutFirst();\n//# sourceMappingURL=attacks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9hdHRhY2tzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDMkM7QUFDUTtBQUNuRDtBQUNBLGdCQUFnQixvREFBUztBQUN6QjtBQUNBO0FBQ0EsMkNBQTJDLG9EQUFVLFdBQVcsb0RBQVU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsYUFBYTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtDQUFrQyxvREFBUyxVQUFVLG9EQUFVO0FBQy9ELGtDQUFrQyxvREFBUyxVQUFVLG9EQUFVO0FBQy9EO0FBQ0EscUJBQXFCLG9EQUFTO0FBQzlCLHVCQUF1QixvREFBVSxPQUFPLG9EQUFVO0FBQ2xEO0FBQ0EsQ0FBQztBQUNEO0FBQ0EscUJBQXFCLG9EQUFTO0FBQzlCLHVCQUF1QixvREFBVSxPQUFPLG9EQUFVO0FBQ2xEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsb0RBQVM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsb0RBQVM7QUFDdkMsOEJBQThCLG9EQUFTO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLG9EQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0JBQWtCLG9EQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9EQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGVBQWUsb0RBQVMscUJBQXFCLG9EQUFTO0FBQ3REO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvY2hlc3NvcHMvZGlzdC9lc20vYXR0YWNrcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbXB1dGUgYXR0YWNrcyBhbmQgcmF5cy5cbiAqXG4gKiBUaGVzZSBhcmUgbG93LWxldmVsIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGltcGxlbWVudCBjaGVzcyBydWxlcy5cbiAqXG4gKiBJbXBsZW1lbnRhdGlvbiBub3RlczogU2xpZGluZyBhdHRhY2tzIGFyZSBjb21wdXRlZCB1c2luZ1xuICogW0h5cGVyYm9sYSBRdWludGVzc2VuY2VdKGh0dHBzOi8vd3d3LmNoZXNzcHJvZ3JhbW1pbmcub3JnL0h5cGVyYm9sYV9RdWludGVzc2VuY2UpLlxuICogTWFnaWMgQml0Ym9hcmRzIHdvdWxkIGRlbGl2ZXIgc2xpZ2h0bHkgZmFzdGVyIGxvb2t1cHMsIGJ1dCBhbHNvIHJlcXVpcmVcbiAqIGluaXRpYWxpemluZyBjb25zaWRlcmFibHkgbGFyZ2VyIGF0dGFjayB0YWJsZXMuIE9uIHRoZSB3ZWIsIGluaXRpYWxpemF0aW9uXG4gKiB0aW1lIGlzIGltcG9ydGFudCwgc28gdGhlIGNob3NlbiBtZXRob2QgbWF5IHN0cmlrZSBhIGJldHRlciBiYWxhbmNlLlxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5pbXBvcnQgeyBTcXVhcmVTZXQgfSBmcm9tICcuL3NxdWFyZVNldC5qcyc7XG5pbXBvcnQgeyBzcXVhcmVGaWxlLCBzcXVhcmVSYW5rIH0gZnJvbSAnLi91dGlsLmpzJztcbmNvbnN0IGNvbXB1dGVSYW5nZSA9IChzcXVhcmUsIGRlbHRhcykgPT4ge1xuICAgIGxldCByYW5nZSA9IFNxdWFyZVNldC5lbXB0eSgpO1xuICAgIGZvciAoY29uc3QgZGVsdGEgb2YgZGVsdGFzKSB7XG4gICAgICAgIGNvbnN0IHNxID0gc3F1YXJlICsgZGVsdGE7XG4gICAgICAgIGlmICgwIDw9IHNxICYmIHNxIDwgNjQgJiYgTWF0aC5hYnMoc3F1YXJlRmlsZShzcXVhcmUpIC0gc3F1YXJlRmlsZShzcSkpIDw9IDIpIHtcbiAgICAgICAgICAgIHJhbmdlID0gcmFuZ2Uud2l0aChzcSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJhbmdlO1xufTtcbmNvbnN0IHRhYnVsYXRlID0gKGYpID0+IHtcbiAgICBjb25zdCB0YWJsZSA9IFtdO1xuICAgIGZvciAobGV0IHNxdWFyZSA9IDA7IHNxdWFyZSA8IDY0OyBzcXVhcmUrKylcbiAgICAgICAgdGFibGVbc3F1YXJlXSA9IGYoc3F1YXJlKTtcbiAgICByZXR1cm4gdGFibGU7XG59O1xuY29uc3QgS0lOR19BVFRBQ0tTID0gdGFidWxhdGUoc3EgPT4gY29tcHV0ZVJhbmdlKHNxLCBbLTksIC04LCAtNywgLTEsIDEsIDcsIDgsIDldKSk7XG5jb25zdCBLTklHSFRfQVRUQUNLUyA9IHRhYnVsYXRlKHNxID0+IGNvbXB1dGVSYW5nZShzcSwgWy0xNywgLTE1LCAtMTAsIC02LCA2LCAxMCwgMTUsIDE3XSkpO1xuY29uc3QgUEFXTl9BVFRBQ0tTID0ge1xuICAgIHdoaXRlOiB0YWJ1bGF0ZShzcSA9PiBjb21wdXRlUmFuZ2Uoc3EsIFs3LCA5XSkpLFxuICAgIGJsYWNrOiB0YWJ1bGF0ZShzcSA9PiBjb21wdXRlUmFuZ2Uoc3EsIFstNywgLTldKSksXG59O1xuLyoqXG4gKiBHZXRzIHNxdWFyZXMgYXR0YWNrZWQgb3IgZGVmZW5kZWQgYnkgYSBraW5nIG9uIGBzcXVhcmVgLlxuICovXG5leHBvcnQgY29uc3Qga2luZ0F0dGFja3MgPSAoc3F1YXJlKSA9PiBLSU5HX0FUVEFDS1Nbc3F1YXJlXTtcbi8qKlxuICogR2V0cyBzcXVhcmVzIGF0dGFja2VkIG9yIGRlZmVuZGVkIGJ5IGEga25pZ2h0IG9uIGBzcXVhcmVgLlxuICovXG5leHBvcnQgY29uc3Qga25pZ2h0QXR0YWNrcyA9IChzcXVhcmUpID0+IEtOSUdIVF9BVFRBQ0tTW3NxdWFyZV07XG4vKipcbiAqIEdldHMgc3F1YXJlcyBhdHRhY2tlZCBvciBkZWZlbmRlZCBieSBhIHBhd24gb2YgdGhlIGdpdmVuIGBjb2xvcmBcbiAqIG9uIGBzcXVhcmVgLlxuICovXG5leHBvcnQgY29uc3QgcGF3bkF0dGFja3MgPSAoY29sb3IsIHNxdWFyZSkgPT4gUEFXTl9BVFRBQ0tTW2NvbG9yXVtzcXVhcmVdO1xuY29uc3QgRklMRV9SQU5HRSA9IHRhYnVsYXRlKHNxID0+IFNxdWFyZVNldC5mcm9tRmlsZShzcXVhcmVGaWxlKHNxKSkud2l0aG91dChzcSkpO1xuY29uc3QgUkFOS19SQU5HRSA9IHRhYnVsYXRlKHNxID0+IFNxdWFyZVNldC5mcm9tUmFuayhzcXVhcmVSYW5rKHNxKSkud2l0aG91dChzcSkpO1xuY29uc3QgRElBR19SQU5HRSA9IHRhYnVsYXRlKHNxID0+IHtcbiAgICBjb25zdCBkaWFnID0gbmV3IFNxdWFyZVNldCgxMzQ0ODAzODUsIDIxNTE2ODYxNjApO1xuICAgIGNvbnN0IHNoaWZ0ID0gOCAqIChzcXVhcmVSYW5rKHNxKSAtIHNxdWFyZUZpbGUoc3EpKTtcbiAgICByZXR1cm4gKHNoaWZ0ID49IDAgPyBkaWFnLnNobDY0KHNoaWZ0KSA6IGRpYWcuc2hyNjQoLXNoaWZ0KSkud2l0aG91dChzcSk7XG59KTtcbmNvbnN0IEFOVElfRElBR19SQU5HRSA9IHRhYnVsYXRlKHNxID0+IHtcbiAgICBjb25zdCBkaWFnID0gbmV3IFNxdWFyZVNldCgyNzA1NDkxMjAsIDE2OTA5MzIwKTtcbiAgICBjb25zdCBzaGlmdCA9IDggKiAoc3F1YXJlUmFuayhzcSkgKyBzcXVhcmVGaWxlKHNxKSAtIDcpO1xuICAgIHJldHVybiAoc2hpZnQgPj0gMCA/IGRpYWcuc2hsNjQoc2hpZnQpIDogZGlhZy5zaHI2NCgtc2hpZnQpKS53aXRob3V0KHNxKTtcbn0pO1xuY29uc3QgaHlwZXJib2xhID0gKGJpdCwgcmFuZ2UsIG9jY3VwaWVkKSA9PiB7XG4gICAgbGV0IGZvcndhcmQgPSBvY2N1cGllZC5pbnRlcnNlY3QocmFuZ2UpO1xuICAgIGxldCByZXZlcnNlID0gZm9yd2FyZC5ic3dhcDY0KCk7IC8vIEFzc3VtZXMgbm8gbW9yZSB0aGFuIDEgYml0IHBlciByYW5rXG4gICAgZm9yd2FyZCA9IGZvcndhcmQubWludXM2NChiaXQpO1xuICAgIHJldmVyc2UgPSByZXZlcnNlLm1pbnVzNjQoYml0LmJzd2FwNjQoKSk7XG4gICAgcmV0dXJuIGZvcndhcmQueG9yKHJldmVyc2UuYnN3YXA2NCgpKS5pbnRlcnNlY3QocmFuZ2UpO1xufTtcbmNvbnN0IGZpbGVBdHRhY2tzID0gKHNxdWFyZSwgb2NjdXBpZWQpID0+IGh5cGVyYm9sYShTcXVhcmVTZXQuZnJvbVNxdWFyZShzcXVhcmUpLCBGSUxFX1JBTkdFW3NxdWFyZV0sIG9jY3VwaWVkKTtcbmNvbnN0IHJhbmtBdHRhY2tzID0gKHNxdWFyZSwgb2NjdXBpZWQpID0+IHtcbiAgICBjb25zdCByYW5nZSA9IFJBTktfUkFOR0Vbc3F1YXJlXTtcbiAgICBsZXQgZm9yd2FyZCA9IG9jY3VwaWVkLmludGVyc2VjdChyYW5nZSk7XG4gICAgbGV0IHJldmVyc2UgPSBmb3J3YXJkLnJiaXQ2NCgpO1xuICAgIGZvcndhcmQgPSBmb3J3YXJkLm1pbnVzNjQoU3F1YXJlU2V0LmZyb21TcXVhcmUoc3F1YXJlKSk7XG4gICAgcmV2ZXJzZSA9IHJldmVyc2UubWludXM2NChTcXVhcmVTZXQuZnJvbVNxdWFyZSg2MyAtIHNxdWFyZSkpO1xuICAgIHJldHVybiBmb3J3YXJkLnhvcihyZXZlcnNlLnJiaXQ2NCgpKS5pbnRlcnNlY3QocmFuZ2UpO1xufTtcbi8qKlxuICogR2V0cyBzcXVhcmVzIGF0dGFja2VkIG9yIGRlZmVuZGVkIGJ5IGEgYmlzaG9wIG9uIGBzcXVhcmVgLCBnaXZlbiBgb2NjdXBpZWRgXG4gKiBzcXVhcmVzLlxuICovXG5leHBvcnQgY29uc3QgYmlzaG9wQXR0YWNrcyA9IChzcXVhcmUsIG9jY3VwaWVkKSA9PiB7XG4gICAgY29uc3QgYml0ID0gU3F1YXJlU2V0LmZyb21TcXVhcmUoc3F1YXJlKTtcbiAgICByZXR1cm4gaHlwZXJib2xhKGJpdCwgRElBR19SQU5HRVtzcXVhcmVdLCBvY2N1cGllZCkueG9yKGh5cGVyYm9sYShiaXQsIEFOVElfRElBR19SQU5HRVtzcXVhcmVdLCBvY2N1cGllZCkpO1xufTtcbi8qKlxuICogR2V0cyBzcXVhcmVzIGF0dGFja2VkIG9yIGRlZmVuZGVkIGJ5IGEgcm9vayBvbiBgc3F1YXJlYCwgZ2l2ZW4gYG9jY3VwaWVkYFxuICogc3F1YXJlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHJvb2tBdHRhY2tzID0gKHNxdWFyZSwgb2NjdXBpZWQpID0+IGZpbGVBdHRhY2tzKHNxdWFyZSwgb2NjdXBpZWQpLnhvcihyYW5rQXR0YWNrcyhzcXVhcmUsIG9jY3VwaWVkKSk7XG4vKipcbiAqIEdldHMgc3F1YXJlcyBhdHRhY2tlZCBvciBkZWZlbmRlZCBieSBhIHF1ZWVuIG9uIGBzcXVhcmVgLCBnaXZlbiBgb2NjdXBpZWRgXG4gKiBzcXVhcmVzLlxuICovXG5leHBvcnQgY29uc3QgcXVlZW5BdHRhY2tzID0gKHNxdWFyZSwgb2NjdXBpZWQpID0+IGJpc2hvcEF0dGFja3Moc3F1YXJlLCBvY2N1cGllZCkueG9yKHJvb2tBdHRhY2tzKHNxdWFyZSwgb2NjdXBpZWQpKTtcbi8qKlxuICogR2V0cyBzcXVhcmVzIGF0dGFja2VkIG9yIGRlZmVuZGVkIGJ5IGEgYHBpZWNlYCBvbiBgc3F1YXJlYCwgZ2l2ZW5cbiAqIGBvY2N1cGllZGAgc3F1YXJlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGF0dGFja3MgPSAocGllY2UsIHNxdWFyZSwgb2NjdXBpZWQpID0+IHtcbiAgICBzd2l0Y2ggKHBpZWNlLnJvbGUpIHtcbiAgICAgICAgY2FzZSAncGF3bic6XG4gICAgICAgICAgICByZXR1cm4gcGF3bkF0dGFja3MocGllY2UuY29sb3IsIHNxdWFyZSk7XG4gICAgICAgIGNhc2UgJ2tuaWdodCc6XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0QXR0YWNrcyhzcXVhcmUpO1xuICAgICAgICBjYXNlICdiaXNob3AnOlxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcEF0dGFja3Moc3F1YXJlLCBvY2N1cGllZCk7XG4gICAgICAgIGNhc2UgJ3Jvb2snOlxuICAgICAgICAgICAgcmV0dXJuIHJvb2tBdHRhY2tzKHNxdWFyZSwgb2NjdXBpZWQpO1xuICAgICAgICBjYXNlICdxdWVlbic6XG4gICAgICAgICAgICByZXR1cm4gcXVlZW5BdHRhY2tzKHNxdWFyZSwgb2NjdXBpZWQpO1xuICAgICAgICBjYXNlICdraW5nJzpcbiAgICAgICAgICAgIHJldHVybiBraW5nQXR0YWNrcyhzcXVhcmUpO1xuICAgIH1cbn07XG4vKipcbiAqIEdldHMgYWxsIHNxdWFyZXMgb2YgdGhlIHJhbmssIGZpbGUgb3IgZGlhZ29uYWwgd2l0aCB0aGUgdHdvIHNxdWFyZXNcbiAqIGBhYCBhbmQgYGJgLCBvciBhbiBlbXB0eSBzZXQgaWYgdGhleSBhcmUgbm90IGFsaWduZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByYXkgPSAoYSwgYikgPT4ge1xuICAgIGNvbnN0IG90aGVyID0gU3F1YXJlU2V0LmZyb21TcXVhcmUoYik7XG4gICAgaWYgKFJBTktfUkFOR0VbYV0uaW50ZXJzZWN0cyhvdGhlcikpXG4gICAgICAgIHJldHVybiBSQU5LX1JBTkdFW2FdLndpdGgoYSk7XG4gICAgaWYgKEFOVElfRElBR19SQU5HRVthXS5pbnRlcnNlY3RzKG90aGVyKSlcbiAgICAgICAgcmV0dXJuIEFOVElfRElBR19SQU5HRVthXS53aXRoKGEpO1xuICAgIGlmIChESUFHX1JBTkdFW2FdLmludGVyc2VjdHMob3RoZXIpKVxuICAgICAgICByZXR1cm4gRElBR19SQU5HRVthXS53aXRoKGEpO1xuICAgIGlmIChGSUxFX1JBTkdFW2FdLmludGVyc2VjdHMob3RoZXIpKVxuICAgICAgICByZXR1cm4gRklMRV9SQU5HRVthXS53aXRoKGEpO1xuICAgIHJldHVybiBTcXVhcmVTZXQuZW1wdHkoKTtcbn07XG4vKipcbiAqIEdldHMgYWxsIHNxdWFyZXMgYmV0d2VlbiBgYWAgYW5kIGBiYCAoYm91bmRzIG5vdCBpbmNsdWRlZCksIG9yIGFuIGVtcHR5IHNldFxuICogaWYgdGhleSBhcmUgbm90IG9uIHRoZSBzYW1lIHJhbmssIGZpbGUgb3IgZGlhZ29uYWwuXG4gKi9cbmV4cG9ydCBjb25zdCBiZXR3ZWVuID0gKGEsIGIpID0+IHJheShhLCBiKVxuICAgIC5pbnRlcnNlY3QoU3F1YXJlU2V0LmZ1bGwoKS5zaGw2NChhKS54b3IoU3F1YXJlU2V0LmZ1bGwoKS5zaGw2NChiKSkpXG4gICAgLndpdGhvdXRGaXJzdCgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXR0YWNrcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/attacks.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/board.js":
/*!*************************************************!*\
  !*** ./node_modules/chessops/dist/esm/board.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Board: () => (/* binding */ Board),\n/* harmony export */   boardEquals: () => (/* binding */ boardEquals)\n/* harmony export */ });\n/* harmony import */ var _squareSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./squareSet.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/types.js\");\n\n\n/**\n * Piece positions on a board.\n *\n * Properties are sets of squares, like `board.occupied` for all occupied\n * squares, `board[color]` for all pieces of that color, and `board[role]`\n * for all pieces of that role. When modifying the properties directly, take\n * care to keep them consistent.\n */\nclass Board {\n    constructor() { }\n    static default() {\n        const board = new Board();\n        board.reset();\n        return board;\n    }\n    /**\n     * Resets all pieces to the default starting position for standard chess.\n     */\n    reset() {\n        this.occupied = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0xffff, 4294901760);\n        this.promoted = _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.empty();\n        this.white = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0xffff, 0);\n        this.black = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0, 4294901760);\n        this.pawn = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0xff00, 16711680);\n        this.knight = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0x42, 1107296256);\n        this.bishop = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0x24, 603979776);\n        this.rook = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0x81, 2164260864);\n        this.queen = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0x8, 134217728);\n        this.king = new _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet(0x10, 268435456);\n    }\n    static empty() {\n        const board = new Board();\n        board.clear();\n        return board;\n    }\n    clear() {\n        this.occupied = _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.empty();\n        this.promoted = _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.empty();\n        for (const color of _types_js__WEBPACK_IMPORTED_MODULE_1__.COLORS)\n            this[color] = _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.empty();\n        for (const role of _types_js__WEBPACK_IMPORTED_MODULE_1__.ROLES)\n            this[role] = _squareSet_js__WEBPACK_IMPORTED_MODULE_0__.SquareSet.empty();\n    }\n    clone() {\n        const board = new Board();\n        board.occupied = this.occupied;\n        board.promoted = this.promoted;\n        for (const color of _types_js__WEBPACK_IMPORTED_MODULE_1__.COLORS)\n            board[color] = this[color];\n        for (const role of _types_js__WEBPACK_IMPORTED_MODULE_1__.ROLES)\n            board[role] = this[role];\n        return board;\n    }\n    getColor(square) {\n        if (this.white.has(square))\n            return 'white';\n        if (this.black.has(square))\n            return 'black';\n        return;\n    }\n    getRole(square) {\n        for (const role of _types_js__WEBPACK_IMPORTED_MODULE_1__.ROLES) {\n            if (this[role].has(square))\n                return role;\n        }\n        return;\n    }\n    get(square) {\n        const color = this.getColor(square);\n        if (!color)\n            return;\n        const role = this.getRole(square);\n        const promoted = this.promoted.has(square);\n        return { color, role, promoted };\n    }\n    /**\n     * Removes and returns the piece from the given `square`, if any.\n     */\n    take(square) {\n        const piece = this.get(square);\n        if (piece) {\n            this.occupied = this.occupied.without(square);\n            this[piece.color] = this[piece.color].without(square);\n            this[piece.role] = this[piece.role].without(square);\n            if (piece.promoted)\n                this.promoted = this.promoted.without(square);\n        }\n        return piece;\n    }\n    /**\n     * Put `piece` onto `square`, potentially replacing an existing piece.\n     * Returns the existing piece, if any.\n     */\n    set(square, piece) {\n        const old = this.take(square);\n        this.occupied = this.occupied.with(square);\n        this[piece.color] = this[piece.color].with(square);\n        this[piece.role] = this[piece.role].with(square);\n        if (piece.promoted)\n            this.promoted = this.promoted.with(square);\n        return old;\n    }\n    has(square) {\n        return this.occupied.has(square);\n    }\n    *[Symbol.iterator]() {\n        for (const square of this.occupied) {\n            yield [square, this.get(square)];\n        }\n    }\n    pieces(color, role) {\n        return this[color].intersect(this[role]);\n    }\n    rooksAndQueens() {\n        return this.rook.union(this.queen);\n    }\n    bishopsAndQueens() {\n        return this.bishop.union(this.queen);\n    }\n    steppers() {\n        return this.knight.union(this.pawn).union(this.king);\n    }\n    sliders() {\n        return this.bishop.union(this.rook).union(this.queen);\n    }\n    /**\n     * Finds the unique king of the given `color`, if any.\n     */\n    kingOf(color) {\n        return this.pieces(color, 'king').singleSquare();\n    }\n}\nconst boardEquals = (left, right) => left.white.equals(right.white)\n    && left.promoted.equals(right.promoted)\n    && _types_js__WEBPACK_IMPORTED_MODULE_1__.ROLES.every(role => left[role].equals(right[role]));\n//# sourceMappingURL=board.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9ib2FyZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ0E7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0RBQVM7QUFDckMsd0JBQXdCLG9EQUFTO0FBQ2pDLHlCQUF5QixvREFBUztBQUNsQyx5QkFBeUIsb0RBQVM7QUFDbEMsd0JBQXdCLG9EQUFTO0FBQ2pDLDBCQUEwQixvREFBUztBQUNuQywwQkFBMEIsb0RBQVM7QUFDbkMsd0JBQXdCLG9EQUFTO0FBQ2pDLHlCQUF5QixvREFBUztBQUNsQyx3QkFBd0Isb0RBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQVM7QUFDakMsd0JBQXdCLG9EQUFTO0FBQ2pDLDRCQUE0Qiw2Q0FBTTtBQUNsQywwQkFBMEIsb0RBQVM7QUFDbkMsMkJBQTJCLDRDQUFLO0FBQ2hDLHlCQUF5QixvREFBUztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFNO0FBQ2xDO0FBQ0EsMkJBQTJCLDRDQUFLO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNENBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxPQUFPLDRDQUFLO0FBQ1oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvY2hlc3NvcHMvZGlzdC9lc20vYm9hcmQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3F1YXJlU2V0IH0gZnJvbSAnLi9zcXVhcmVTZXQuanMnO1xuaW1wb3J0IHsgQ09MT1JTLCBST0xFUyB9IGZyb20gJy4vdHlwZXMuanMnO1xuLyoqXG4gKiBQaWVjZSBwb3NpdGlvbnMgb24gYSBib2FyZC5cbiAqXG4gKiBQcm9wZXJ0aWVzIGFyZSBzZXRzIG9mIHNxdWFyZXMsIGxpa2UgYGJvYXJkLm9jY3VwaWVkYCBmb3IgYWxsIG9jY3VwaWVkXG4gKiBzcXVhcmVzLCBgYm9hcmRbY29sb3JdYCBmb3IgYWxsIHBpZWNlcyBvZiB0aGF0IGNvbG9yLCBhbmQgYGJvYXJkW3JvbGVdYFxuICogZm9yIGFsbCBwaWVjZXMgb2YgdGhhdCByb2xlLiBXaGVuIG1vZGlmeWluZyB0aGUgcHJvcGVydGllcyBkaXJlY3RseSwgdGFrZVxuICogY2FyZSB0byBrZWVwIHRoZW0gY29uc2lzdGVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHN0YXRpYyBkZWZhdWx0KCkge1xuICAgICAgICBjb25zdCBib2FyZCA9IG5ldyBCb2FyZCgpO1xuICAgICAgICBib2FyZC5yZXNldCgpO1xuICAgICAgICByZXR1cm4gYm9hcmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgcGllY2VzIHRvIHRoZSBkZWZhdWx0IHN0YXJ0aW5nIHBvc2l0aW9uIGZvciBzdGFuZGFyZCBjaGVzcy5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5vY2N1cGllZCA9IG5ldyBTcXVhcmVTZXQoMHhmZmZmLCA0Mjk0OTAxNzYwKTtcbiAgICAgICAgdGhpcy5wcm9tb3RlZCA9IFNxdWFyZVNldC5lbXB0eSgpO1xuICAgICAgICB0aGlzLndoaXRlID0gbmV3IFNxdWFyZVNldCgweGZmZmYsIDApO1xuICAgICAgICB0aGlzLmJsYWNrID0gbmV3IFNxdWFyZVNldCgwLCA0Mjk0OTAxNzYwKTtcbiAgICAgICAgdGhpcy5wYXduID0gbmV3IFNxdWFyZVNldCgweGZmMDAsIDE2NzExNjgwKTtcbiAgICAgICAgdGhpcy5rbmlnaHQgPSBuZXcgU3F1YXJlU2V0KDB4NDIsIDExMDcyOTYyNTYpO1xuICAgICAgICB0aGlzLmJpc2hvcCA9IG5ldyBTcXVhcmVTZXQoMHgyNCwgNjAzOTc5Nzc2KTtcbiAgICAgICAgdGhpcy5yb29rID0gbmV3IFNxdWFyZVNldCgweDgxLCAyMTY0MjYwODY0KTtcbiAgICAgICAgdGhpcy5xdWVlbiA9IG5ldyBTcXVhcmVTZXQoMHg4LCAxMzQyMTc3MjgpO1xuICAgICAgICB0aGlzLmtpbmcgPSBuZXcgU3F1YXJlU2V0KDB4MTAsIDI2ODQzNTQ1Nik7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgY29uc3QgYm9hcmQgPSBuZXcgQm9hcmQoKTtcbiAgICAgICAgYm9hcmQuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIGJvYXJkO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5vY2N1cGllZCA9IFNxdWFyZVNldC5lbXB0eSgpO1xuICAgICAgICB0aGlzLnByb21vdGVkID0gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgICAgIGZvciAoY29uc3QgY29sb3Igb2YgQ09MT1JTKVxuICAgICAgICAgICAgdGhpc1tjb2xvcl0gPSBTcXVhcmVTZXQuZW1wdHkoKTtcbiAgICAgICAgZm9yIChjb25zdCByb2xlIG9mIFJPTEVTKVxuICAgICAgICAgICAgdGhpc1tyb2xlXSA9IFNxdWFyZVNldC5lbXB0eSgpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgYm9hcmQgPSBuZXcgQm9hcmQoKTtcbiAgICAgICAgYm9hcmQub2NjdXBpZWQgPSB0aGlzLm9jY3VwaWVkO1xuICAgICAgICBib2FyZC5wcm9tb3RlZCA9IHRoaXMucHJvbW90ZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY29sb3Igb2YgQ09MT1JTKVxuICAgICAgICAgICAgYm9hcmRbY29sb3JdID0gdGhpc1tjb2xvcl07XG4gICAgICAgIGZvciAoY29uc3Qgcm9sZSBvZiBST0xFUylcbiAgICAgICAgICAgIGJvYXJkW3JvbGVdID0gdGhpc1tyb2xlXTtcbiAgICAgICAgcmV0dXJuIGJvYXJkO1xuICAgIH1cbiAgICBnZXRDb2xvcihzcXVhcmUpIHtcbiAgICAgICAgaWYgKHRoaXMud2hpdGUuaGFzKHNxdWFyZSkpXG4gICAgICAgICAgICByZXR1cm4gJ3doaXRlJztcbiAgICAgICAgaWYgKHRoaXMuYmxhY2suaGFzKHNxdWFyZSkpXG4gICAgICAgICAgICByZXR1cm4gJ2JsYWNrJztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnZXRSb2xlKHNxdWFyZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHJvbGUgb2YgUk9MRVMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzW3JvbGVdLmhhcyhzcXVhcmUpKVxuICAgICAgICAgICAgICAgIHJldHVybiByb2xlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZ2V0KHNxdWFyZSkge1xuICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuZ2V0Q29sb3Ioc3F1YXJlKTtcbiAgICAgICAgaWYgKCFjb2xvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHRoaXMuZ2V0Um9sZShzcXVhcmUpO1xuICAgICAgICBjb25zdCBwcm9tb3RlZCA9IHRoaXMucHJvbW90ZWQuaGFzKHNxdWFyZSk7XG4gICAgICAgIHJldHVybiB7IGNvbG9yLCByb2xlLCBwcm9tb3RlZCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuZCByZXR1cm5zIHRoZSBwaWVjZSBmcm9tIHRoZSBnaXZlbiBgc3F1YXJlYCwgaWYgYW55LlxuICAgICAqL1xuICAgIHRha2Uoc3F1YXJlKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gdGhpcy5nZXQoc3F1YXJlKTtcbiAgICAgICAgaWYgKHBpZWNlKSB7XG4gICAgICAgICAgICB0aGlzLm9jY3VwaWVkID0gdGhpcy5vY2N1cGllZC53aXRob3V0KHNxdWFyZSk7XG4gICAgICAgICAgICB0aGlzW3BpZWNlLmNvbG9yXSA9IHRoaXNbcGllY2UuY29sb3JdLndpdGhvdXQoc3F1YXJlKTtcbiAgICAgICAgICAgIHRoaXNbcGllY2Uucm9sZV0gPSB0aGlzW3BpZWNlLnJvbGVdLndpdGhvdXQoc3F1YXJlKTtcbiAgICAgICAgICAgIGlmIChwaWVjZS5wcm9tb3RlZClcbiAgICAgICAgICAgICAgICB0aGlzLnByb21vdGVkID0gdGhpcy5wcm9tb3RlZC53aXRob3V0KHNxdWFyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpZWNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXQgYHBpZWNlYCBvbnRvIGBzcXVhcmVgLCBwb3RlbnRpYWxseSByZXBsYWNpbmcgYW4gZXhpc3RpbmcgcGllY2UuXG4gICAgICogUmV0dXJucyB0aGUgZXhpc3RpbmcgcGllY2UsIGlmIGFueS5cbiAgICAgKi9cbiAgICBzZXQoc3F1YXJlLCBwaWVjZSkge1xuICAgICAgICBjb25zdCBvbGQgPSB0aGlzLnRha2Uoc3F1YXJlKTtcbiAgICAgICAgdGhpcy5vY2N1cGllZCA9IHRoaXMub2NjdXBpZWQud2l0aChzcXVhcmUpO1xuICAgICAgICB0aGlzW3BpZWNlLmNvbG9yXSA9IHRoaXNbcGllY2UuY29sb3JdLndpdGgoc3F1YXJlKTtcbiAgICAgICAgdGhpc1twaWVjZS5yb2xlXSA9IHRoaXNbcGllY2Uucm9sZV0ud2l0aChzcXVhcmUpO1xuICAgICAgICBpZiAocGllY2UucHJvbW90ZWQpXG4gICAgICAgICAgICB0aGlzLnByb21vdGVkID0gdGhpcy5wcm9tb3RlZC53aXRoKHNxdWFyZSk7XG4gICAgICAgIHJldHVybiBvbGQ7XG4gICAgfVxuICAgIGhhcyhzcXVhcmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2NjdXBpZWQuaGFzKHNxdWFyZSk7XG4gICAgfVxuICAgICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBzcXVhcmUgb2YgdGhpcy5vY2N1cGllZCkge1xuICAgICAgICAgICAgeWllbGQgW3NxdWFyZSwgdGhpcy5nZXQoc3F1YXJlKV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGllY2VzKGNvbG9yLCByb2xlKSB7XG4gICAgICAgIHJldHVybiB0aGlzW2NvbG9yXS5pbnRlcnNlY3QodGhpc1tyb2xlXSk7XG4gICAgfVxuICAgIHJvb2tzQW5kUXVlZW5zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb29rLnVuaW9uKHRoaXMucXVlZW4pO1xuICAgIH1cbiAgICBiaXNob3BzQW5kUXVlZW5zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaXNob3AudW5pb24odGhpcy5xdWVlbik7XG4gICAgfVxuICAgIHN0ZXBwZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5rbmlnaHQudW5pb24odGhpcy5wYXduKS51bmlvbih0aGlzLmtpbmcpO1xuICAgIH1cbiAgICBzbGlkZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaXNob3AudW5pb24odGhpcy5yb29rKS51bmlvbih0aGlzLnF1ZWVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIHVuaXF1ZSBraW5nIG9mIHRoZSBnaXZlbiBgY29sb3JgLCBpZiBhbnkuXG4gICAgICovXG4gICAga2luZ09mKGNvbG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBpZWNlcyhjb2xvciwgJ2tpbmcnKS5zaW5nbGVTcXVhcmUoKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgYm9hcmRFcXVhbHMgPSAobGVmdCwgcmlnaHQpID0+IGxlZnQud2hpdGUuZXF1YWxzKHJpZ2h0LndoaXRlKVxuICAgICYmIGxlZnQucHJvbW90ZWQuZXF1YWxzKHJpZ2h0LnByb21vdGVkKVxuICAgICYmIFJPTEVTLmV2ZXJ5KHJvbGUgPT4gbGVmdFtyb2xlXS5lcXVhbHMocmlnaHRbcm9sZV0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvYXJkLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/board.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/chess.js":
/*!*************************************************!*\
  !*** ./node_modules/chessops/dist/esm/chess.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Castles: () => (/* binding */ Castles),\n/* harmony export */   Chess: () => (/* binding */ Chess),\n/* harmony export */   IllegalSetup: () => (/* binding */ IllegalSetup),\n/* harmony export */   Position: () => (/* binding */ Position),\n/* harmony export */   PositionError: () => (/* binding */ PositionError),\n/* harmony export */   castlingSide: () => (/* binding */ castlingSide),\n/* harmony export */   equalsIgnoreMoves: () => (/* binding */ equalsIgnoreMoves),\n/* harmony export */   isImpossibleCheck: () => (/* binding */ isImpossibleCheck),\n/* harmony export */   isStandardMaterial: () => (/* binding */ isStandardMaterial),\n/* harmony export */   isStandardMaterialSide: () => (/* binding */ isStandardMaterialSide),\n/* harmony export */   normalizeMove: () => (/* binding */ normalizeMove),\n/* harmony export */   pseudoDests: () => (/* binding */ pseudoDests)\n/* harmony export */ });\n/* harmony import */ var _badrap_result__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @badrap/result */ \"(app-pages-browser)/./node_modules/@badrap/result/dist/mjs/index.mjs\");\n/* harmony import */ var _attacks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attacks.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/attacks.js\");\n/* harmony import */ var _board_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./board.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/board.js\");\n/* harmony import */ var _squareSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./squareSet.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/util.js\");\n\n\n\n\n\n\nvar IllegalSetup;\n(function (IllegalSetup) {\n    IllegalSetup[\"Empty\"] = \"ERR_EMPTY\";\n    IllegalSetup[\"OppositeCheck\"] = \"ERR_OPPOSITE_CHECK\";\n    IllegalSetup[\"PawnsOnBackrank\"] = \"ERR_PAWNS_ON_BACKRANK\";\n    IllegalSetup[\"Kings\"] = \"ERR_KINGS\";\n    IllegalSetup[\"Variant\"] = \"ERR_VARIANT\";\n})(IllegalSetup || (IllegalSetup = {}));\nclass PositionError extends Error {\n}\nconst attacksTo = (square, attacker, board, occupied) => board[attacker].intersect((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.rookAttacks)(square, occupied)\n    .intersect(board.rooksAndQueens())\n    .union((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.bishopAttacks)(square, occupied).intersect(board.bishopsAndQueens()))\n    .union((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.knightAttacks)(square).intersect(board.knight))\n    .union((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.kingAttacks)(square).intersect(board.king))\n    .union((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.pawnAttacks)((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(attacker), square).intersect(board.pawn)));\nclass Castles {\n    constructor() { }\n    static default() {\n        const castles = new Castles();\n        castles.castlingRights = _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.corners();\n        castles.rook = {\n            white: { a: 0, h: 7 },\n            black: { a: 56, h: 63 },\n        };\n        castles.path = {\n            white: { a: new _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet(0xe, 0), h: new _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet(0x60, 0) },\n            black: { a: new _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet(0, 0x0e000000), h: new _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet(0, 0x60000000) },\n        };\n        return castles;\n    }\n    static empty() {\n        const castles = new Castles();\n        castles.castlingRights = _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n        castles.rook = {\n            white: { a: undefined, h: undefined },\n            black: { a: undefined, h: undefined },\n        };\n        castles.path = {\n            white: { a: _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty(), h: _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty() },\n            black: { a: _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty(), h: _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty() },\n        };\n        return castles;\n    }\n    clone() {\n        const castles = new Castles();\n        castles.castlingRights = this.castlingRights;\n        castles.rook = {\n            white: { a: this.rook.white.a, h: this.rook.white.h },\n            black: { a: this.rook.black.a, h: this.rook.black.h },\n        };\n        castles.path = {\n            white: { a: this.path.white.a, h: this.path.white.h },\n            black: { a: this.path.black.a, h: this.path.black.h },\n        };\n        return castles;\n    }\n    add(color, side, king, rook) {\n        const kingTo = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.kingCastlesTo)(color, side);\n        const rookTo = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.rookCastlesTo)(color, side);\n        this.castlingRights = this.castlingRights.with(rook);\n        this.rook[color][side] = rook;\n        this.path[color][side] = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.between)(rook, rookTo)\n            .with(rookTo)\n            .union((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.between)(king, kingTo).with(kingTo))\n            .without(king)\n            .without(rook);\n    }\n    static fromSetup(setup) {\n        const castles = Castles.empty();\n        const rooks = setup.castlingRights.intersect(setup.board.rook);\n        for (const color of _types_js__WEBPACK_IMPORTED_MODULE_3__.COLORS) {\n            const backrank = _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.backrank(color);\n            const king = setup.board.kingOf(color);\n            if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(king) || !backrank.has(king))\n                continue;\n            const side = rooks.intersect(setup.board[color]).intersect(backrank);\n            const aSide = side.first();\n            if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(aSide) && aSide < king)\n                castles.add(color, 'a', king, aSide);\n            const hSide = side.last();\n            if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(hSide) && king < hSide)\n                castles.add(color, 'h', king, hSide);\n        }\n        return castles;\n    }\n    discardRook(square) {\n        if (this.castlingRights.has(square)) {\n            this.castlingRights = this.castlingRights.without(square);\n            for (const color of _types_js__WEBPACK_IMPORTED_MODULE_3__.COLORS) {\n                for (const side of _types_js__WEBPACK_IMPORTED_MODULE_3__.CASTLING_SIDES) {\n                    if (this.rook[color][side] === square)\n                        this.rook[color][side] = undefined;\n                }\n            }\n        }\n    }\n    discardColor(color) {\n        this.castlingRights = this.castlingRights.diff(_squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.backrank(color));\n        this.rook[color].a = undefined;\n        this.rook[color].h = undefined;\n    }\n}\nclass Position {\n    constructor(rules) {\n        this.rules = rules;\n    }\n    reset() {\n        this.board = _board_js__WEBPACK_IMPORTED_MODULE_4__.Board.default();\n        this.pockets = undefined;\n        this.turn = 'white';\n        this.castles = Castles.default();\n        this.epSquare = undefined;\n        this.remainingChecks = undefined;\n        this.halfmoves = 0;\n        this.fullmoves = 1;\n    }\n    setupUnchecked(setup) {\n        this.board = setup.board.clone();\n        this.board.promoted = _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n        this.pockets = undefined;\n        this.turn = setup.turn;\n        this.castles = Castles.fromSetup(setup);\n        this.epSquare = validEpSquare(this, setup.epSquare);\n        this.remainingChecks = undefined;\n        this.halfmoves = setup.halfmoves;\n        this.fullmoves = setup.fullmoves;\n    }\n    // When subclassing overwrite at least:\n    //\n    // - static default()\n    // - static fromSetup()\n    // - static clone()\n    //\n    // - dests()\n    // - isVariantEnd()\n    // - variantOutcome()\n    // - hasInsufficientMaterial()\n    // - isStandardMaterial()\n    kingAttackers(square, attacker, occupied) {\n        return attacksTo(square, attacker, this.board, occupied);\n    }\n    playCaptureAt(square, captured) {\n        this.halfmoves = 0;\n        if (captured.role === 'rook')\n            this.castles.discardRook(square);\n        if (this.pockets)\n            this.pockets[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(captured.color)][captured.promoted ? 'pawn' : captured.role]++;\n    }\n    ctx() {\n        const variantEnd = this.isVariantEnd();\n        const king = this.board.kingOf(this.turn);\n        if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(king)) {\n            return { king, blockers: _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty(), checkers: _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty(), variantEnd, mustCapture: false };\n        }\n        const snipers = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.rookAttacks)(king, _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty())\n            .intersect(this.board.rooksAndQueens())\n            .union((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.bishopAttacks)(king, _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty()).intersect(this.board.bishopsAndQueens()))\n            .intersect(this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(this.turn)]);\n        let blockers = _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n        for (const sniper of snipers) {\n            const b = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.between)(king, sniper).intersect(this.board.occupied);\n            if (!b.moreThanOne())\n                blockers = blockers.union(b);\n        }\n        const checkers = this.kingAttackers(king, (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(this.turn), this.board.occupied);\n        return {\n            king,\n            blockers,\n            checkers,\n            variantEnd,\n            mustCapture: false,\n        };\n    }\n    clone() {\n        var _a, _b;\n        const pos = new this.constructor();\n        pos.board = this.board.clone();\n        pos.pockets = (_a = this.pockets) === null || _a === void 0 ? void 0 : _a.clone();\n        pos.turn = this.turn;\n        pos.castles = this.castles.clone();\n        pos.epSquare = this.epSquare;\n        pos.remainingChecks = (_b = this.remainingChecks) === null || _b === void 0 ? void 0 : _b.clone();\n        pos.halfmoves = this.halfmoves;\n        pos.fullmoves = this.fullmoves;\n        return pos;\n    }\n    validate() {\n        if (this.board.occupied.isEmpty())\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_5__.Result.err(new PositionError(IllegalSetup.Empty));\n        if (this.board.king.size() !== 2)\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_5__.Result.err(new PositionError(IllegalSetup.Kings));\n        if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(this.board.kingOf(this.turn)))\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_5__.Result.err(new PositionError(IllegalSetup.Kings));\n        const otherKing = this.board.kingOf((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(this.turn));\n        if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(otherKing))\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_5__.Result.err(new PositionError(IllegalSetup.Kings));\n        if (this.kingAttackers(otherKing, this.turn, this.board.occupied).nonEmpty()) {\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_5__.Result.err(new PositionError(IllegalSetup.OppositeCheck));\n        }\n        if (_squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.backranks().intersects(this.board.pawn)) {\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_5__.Result.err(new PositionError(IllegalSetup.PawnsOnBackrank));\n        }\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_5__.Result.ok(undefined);\n    }\n    dropDests(_ctx) {\n        return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n    }\n    dests(square, ctx) {\n        ctx = ctx || this.ctx();\n        if (ctx.variantEnd)\n            return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n        const piece = this.board.get(square);\n        if (!piece || piece.color !== this.turn)\n            return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n        let pseudo, legal;\n        if (piece.role === 'pawn') {\n            pseudo = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.pawnAttacks)(this.turn, square).intersect(this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(this.turn)]);\n            const delta = this.turn === 'white' ? 8 : -8;\n            const step = square + delta;\n            if (0 <= step && step < 64 && !this.board.occupied.has(step)) {\n                pseudo = pseudo.with(step);\n                const canDoubleStep = this.turn === 'white' ? square < 16 : square >= 64 - 16;\n                const doubleStep = step + delta;\n                if (canDoubleStep && !this.board.occupied.has(doubleStep)) {\n                    pseudo = pseudo.with(doubleStep);\n                }\n            }\n            if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(this.epSquare) && canCaptureEp(this, square, ctx)) {\n                legal = _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.fromSquare(this.epSquare);\n            }\n        }\n        else if (piece.role === 'bishop')\n            pseudo = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.bishopAttacks)(square, this.board.occupied);\n        else if (piece.role === 'knight')\n            pseudo = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.knightAttacks)(square);\n        else if (piece.role === 'rook')\n            pseudo = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.rookAttacks)(square, this.board.occupied);\n        else if (piece.role === 'queen')\n            pseudo = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.queenAttacks)(square, this.board.occupied);\n        else\n            pseudo = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.kingAttacks)(square);\n        pseudo = pseudo.diff(this.board[this.turn]);\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(ctx.king)) {\n            if (piece.role === 'king') {\n                const occ = this.board.occupied.without(square);\n                for (const to of pseudo) {\n                    if (this.kingAttackers(to, (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(this.turn), occ).nonEmpty())\n                        pseudo = pseudo.without(to);\n                }\n                return pseudo.union(castlingDest(this, 'a', ctx)).union(castlingDest(this, 'h', ctx));\n            }\n            if (ctx.checkers.nonEmpty()) {\n                const checker = ctx.checkers.singleSquare();\n                if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(checker))\n                    return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n                pseudo = pseudo.intersect((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.between)(checker, ctx.king).with(checker));\n            }\n            if (ctx.blockers.has(square))\n                pseudo = pseudo.intersect((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.ray)(square, ctx.king));\n        }\n        if (legal)\n            pseudo = pseudo.union(legal);\n        return pseudo;\n    }\n    isVariantEnd() {\n        return false;\n    }\n    variantOutcome(_ctx) {\n        return;\n    }\n    hasInsufficientMaterial(color) {\n        if (this.board[color].intersect(this.board.pawn.union(this.board.rooksAndQueens())).nonEmpty())\n            return false;\n        if (this.board[color].intersects(this.board.knight)) {\n            return (this.board[color].size() <= 2\n                && this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(color)].diff(this.board.king).diff(this.board.queen).isEmpty());\n        }\n        if (this.board[color].intersects(this.board.bishop)) {\n            const sameColor = !this.board.bishop.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.darkSquares())\n                || !this.board.bishop.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.lightSquares());\n            return sameColor && this.board.pawn.isEmpty() && this.board.knight.isEmpty();\n        }\n        return true;\n    }\n    // The following should be identical in all subclasses\n    toSetup() {\n        var _a, _b;\n        return {\n            board: this.board.clone(),\n            pockets: (_a = this.pockets) === null || _a === void 0 ? void 0 : _a.clone(),\n            turn: this.turn,\n            castlingRights: this.castles.castlingRights,\n            epSquare: legalEpSquare(this),\n            remainingChecks: (_b = this.remainingChecks) === null || _b === void 0 ? void 0 : _b.clone(),\n            halfmoves: Math.min(this.halfmoves, 150),\n            fullmoves: Math.min(Math.max(this.fullmoves, 1), 9999),\n        };\n    }\n    isInsufficientMaterial() {\n        return _types_js__WEBPACK_IMPORTED_MODULE_3__.COLORS.every(color => this.hasInsufficientMaterial(color));\n    }\n    hasDests(ctx) {\n        ctx = ctx || this.ctx();\n        for (const square of this.board[this.turn]) {\n            if (this.dests(square, ctx).nonEmpty())\n                return true;\n        }\n        return this.dropDests(ctx).nonEmpty();\n    }\n    isLegal(move, ctx) {\n        if ((0,_types_js__WEBPACK_IMPORTED_MODULE_3__.isDrop)(move)) {\n            if (!this.pockets || this.pockets[this.turn][move.role] <= 0)\n                return false;\n            if (move.role === 'pawn' && _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.backranks().has(move.to))\n                return false;\n            return this.dropDests(ctx).has(move.to);\n        }\n        else {\n            if (move.promotion === 'pawn')\n                return false;\n            if (move.promotion === 'king' && this.rules !== 'antichess')\n                return false;\n            if (!!move.promotion !== (this.board.pawn.has(move.from) && _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.backranks().has(move.to)))\n                return false;\n            const dests = this.dests(move.from, ctx);\n            return dests.has(move.to) || dests.has(normalizeMove(this, move).to);\n        }\n    }\n    isCheck() {\n        const king = this.board.kingOf(this.turn);\n        return (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(king) && this.kingAttackers(king, (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(this.turn), this.board.occupied).nonEmpty();\n    }\n    isEnd(ctx) {\n        if (ctx ? ctx.variantEnd : this.isVariantEnd())\n            return true;\n        return this.isInsufficientMaterial() || !this.hasDests(ctx);\n    }\n    isCheckmate(ctx) {\n        ctx = ctx || this.ctx();\n        return !ctx.variantEnd && ctx.checkers.nonEmpty() && !this.hasDests(ctx);\n    }\n    isStalemate(ctx) {\n        ctx = ctx || this.ctx();\n        return !ctx.variantEnd && ctx.checkers.isEmpty() && !this.hasDests(ctx);\n    }\n    outcome(ctx) {\n        const variantOutcome = this.variantOutcome(ctx);\n        if (variantOutcome)\n            return variantOutcome;\n        ctx = ctx || this.ctx();\n        if (this.isCheckmate(ctx))\n            return { winner: (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(this.turn) };\n        else if (this.isInsufficientMaterial() || this.isStalemate(ctx))\n            return { winner: undefined };\n        else\n            return;\n    }\n    allDests(ctx) {\n        ctx = ctx || this.ctx();\n        const d = new Map();\n        if (ctx.variantEnd)\n            return d;\n        for (const square of this.board[this.turn]) {\n            d.set(square, this.dests(square, ctx));\n        }\n        return d;\n    }\n    play(move) {\n        const turn = this.turn;\n        const epSquare = this.epSquare;\n        const castling = castlingSide(this, move);\n        this.epSquare = undefined;\n        this.halfmoves += 1;\n        if (turn === 'black')\n            this.fullmoves += 1;\n        this.turn = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(turn);\n        if ((0,_types_js__WEBPACK_IMPORTED_MODULE_3__.isDrop)(move)) {\n            this.board.set(move.to, { role: move.role, color: turn });\n            if (this.pockets)\n                this.pockets[turn][move.role]--;\n            if (move.role === 'pawn')\n                this.halfmoves = 0;\n        }\n        else {\n            const piece = this.board.take(move.from);\n            if (!piece)\n                return;\n            let epCapture;\n            if (piece.role === 'pawn') {\n                this.halfmoves = 0;\n                if (move.to === epSquare) {\n                    epCapture = this.board.take(move.to + (turn === 'white' ? -8 : 8));\n                }\n                const delta = move.from - move.to;\n                if (Math.abs(delta) === 16 && 8 <= move.from && move.from <= 55) {\n                    this.epSquare = (move.from + move.to) >> 1;\n                }\n                if (move.promotion) {\n                    piece.role = move.promotion;\n                    piece.promoted = !!this.pockets;\n                }\n            }\n            else if (piece.role === 'rook') {\n                this.castles.discardRook(move.from);\n            }\n            else if (piece.role === 'king') {\n                if (castling) {\n                    const rookFrom = this.castles.rook[turn][castling];\n                    if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(rookFrom)) {\n                        const rook = this.board.take(rookFrom);\n                        this.board.set((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.kingCastlesTo)(turn, castling), piece);\n                        if (rook)\n                            this.board.set((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.rookCastlesTo)(turn, castling), rook);\n                    }\n                }\n                this.castles.discardColor(turn);\n            }\n            if (!castling) {\n                const capture = this.board.set(move.to, piece) || epCapture;\n                if (capture)\n                    this.playCaptureAt(move.to, capture);\n            }\n        }\n        if (this.remainingChecks) {\n            if (this.isCheck())\n                this.remainingChecks[turn] = Math.max(this.remainingChecks[turn] - 1, 0);\n        }\n    }\n}\nclass Chess extends Position {\n    constructor() {\n        super('chess');\n    }\n    static default() {\n        const pos = new this();\n        pos.reset();\n        return pos;\n    }\n    static fromSetup(setup) {\n        const pos = new this();\n        pos.setupUnchecked(setup);\n        return pos.validate().map(_ => pos);\n    }\n    clone() {\n        return super.clone();\n    }\n}\nconst validEpSquare = (pos, square) => {\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(square))\n        return;\n    const epRank = pos.turn === 'white' ? 5 : 2;\n    const forward = pos.turn === 'white' ? 8 : -8;\n    if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareRank)(square) !== epRank)\n        return;\n    if (pos.board.occupied.has(square + forward))\n        return;\n    const pawn = square - forward;\n    if (!pos.board.pawn.has(pawn) || !pos.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn)].has(pawn))\n        return;\n    return square;\n};\nconst legalEpSquare = (pos) => {\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(pos.epSquare))\n        return;\n    const ctx = pos.ctx();\n    const ourPawns = pos.board.pieces(pos.turn, 'pawn');\n    const candidates = ourPawns.intersect((0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.pawnAttacks)((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn), pos.epSquare));\n    for (const candidate of candidates) {\n        if (pos.dests(candidate, ctx).has(pos.epSquare))\n            return pos.epSquare;\n    }\n    return;\n};\nconst canCaptureEp = (pos, pawnFrom, ctx) => {\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(pos.epSquare))\n        return false;\n    if (!(0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.pawnAttacks)(pos.turn, pawnFrom).has(pos.epSquare))\n        return false;\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(ctx.king))\n        return true;\n    const delta = pos.turn === 'white' ? 8 : -8;\n    const captured = pos.epSquare - delta;\n    return pos\n        .kingAttackers(ctx.king, (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn), pos.board.occupied.toggle(pawnFrom).toggle(captured).with(pos.epSquare))\n        .without(captured)\n        .isEmpty();\n};\nconst castlingDest = (pos, side, ctx) => {\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(ctx.king) || ctx.checkers.nonEmpty())\n        return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n    const rook = pos.castles.rook[pos.turn][side];\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(rook))\n        return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n    if (pos.castles.path[pos.turn][side].intersects(pos.board.occupied))\n        return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n    const kingTo = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.kingCastlesTo)(pos.turn, side);\n    const kingPath = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.between)(ctx.king, kingTo);\n    const occ = pos.board.occupied.without(ctx.king);\n    for (const sq of kingPath) {\n        if (pos.kingAttackers(sq, (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn), occ).nonEmpty())\n            return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n    }\n    const rookTo = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.rookCastlesTo)(pos.turn, side);\n    const after = pos.board.occupied.toggle(ctx.king).toggle(rook).toggle(rookTo);\n    if (pos.kingAttackers(kingTo, (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn), after).nonEmpty())\n        return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n    return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.fromSquare(rook);\n};\nconst pseudoDests = (pos, square, ctx) => {\n    if (ctx.variantEnd)\n        return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n    const piece = pos.board.get(square);\n    if (!piece || piece.color !== pos.turn)\n        return _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.empty();\n    let pseudo = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.attacks)(piece, square, pos.board.occupied);\n    if (piece.role === 'pawn') {\n        let captureTargets = pos.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn)];\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(pos.epSquare))\n            captureTargets = captureTargets.with(pos.epSquare);\n        pseudo = pseudo.intersect(captureTargets);\n        const delta = pos.turn === 'white' ? 8 : -8;\n        const step = square + delta;\n        if (0 <= step && step < 64 && !pos.board.occupied.has(step)) {\n            pseudo = pseudo.with(step);\n            const canDoubleStep = pos.turn === 'white' ? square < 16 : square >= 64 - 16;\n            const doubleStep = step + delta;\n            if (canDoubleStep && !pos.board.occupied.has(doubleStep)) {\n                pseudo = pseudo.with(doubleStep);\n            }\n        }\n        return pseudo;\n    }\n    else {\n        pseudo = pseudo.diff(pos.board[pos.turn]);\n    }\n    if (square === ctx.king)\n        return pseudo.union(castlingDest(pos, 'a', ctx)).union(castlingDest(pos, 'h', ctx));\n    else\n        return pseudo;\n};\nconst equalsIgnoreMoves = (left, right) => {\n    var _a, _b;\n    return left.rules === right.rules\n        && (0,_board_js__WEBPACK_IMPORTED_MODULE_4__.boardEquals)(left.board, right.board)\n        && ((right.pockets && ((_a = left.pockets) === null || _a === void 0 ? void 0 : _a.equals(right.pockets))) || (!left.pockets && !right.pockets))\n        && left.turn === right.turn\n        && left.castles.castlingRights.equals(right.castles.castlingRights)\n        && legalEpSquare(left) === legalEpSquare(right)\n        && ((right.remainingChecks && ((_b = left.remainingChecks) === null || _b === void 0 ? void 0 : _b.equals(right.remainingChecks)))\n            || (!left.remainingChecks && !right.remainingChecks));\n};\nconst castlingSide = (pos, move) => {\n    if ((0,_types_js__WEBPACK_IMPORTED_MODULE_3__.isDrop)(move))\n        return;\n    const delta = move.to - move.from;\n    if (Math.abs(delta) !== 2 && !pos.board[pos.turn].has(move.to))\n        return;\n    if (!pos.board.king.has(move.from))\n        return;\n    return delta > 0 ? 'h' : 'a';\n};\nconst normalizeMove = (pos, move) => {\n    const side = castlingSide(pos, move);\n    if (!side)\n        return move;\n    const rookFrom = pos.castles.rook[pos.turn][side];\n    return {\n        from: move.from,\n        to: (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(rookFrom) ? rookFrom : move.to,\n    };\n};\nconst isStandardMaterialSide = (board, color) => {\n    const promoted = Math.max(board.pieces(color, 'queen').size() - 1, 0)\n        + Math.max(board.pieces(color, 'rook').size() - 2, 0)\n        + Math.max(board.pieces(color, 'knight').size() - 2, 0)\n        + Math.max(board.pieces(color, 'bishop').intersect(_squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.lightSquares()).size() - 1, 0)\n        + Math.max(board.pieces(color, 'bishop').intersect(_squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.darkSquares()).size() - 1, 0);\n    return board.pieces(color, 'pawn').size() + promoted <= 8;\n};\nconst isStandardMaterial = (pos) => _types_js__WEBPACK_IMPORTED_MODULE_3__.COLORS.every(color => isStandardMaterialSide(pos.board, color));\nconst isImpossibleCheck = (pos) => {\n    const ourKing = pos.board.kingOf(pos.turn);\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(ourKing))\n        return false;\n    const checkers = pos.kingAttackers(ourKing, (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn), pos.board.occupied);\n    if (checkers.isEmpty())\n        return false;\n    if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(pos.epSquare)) {\n        // The pushed pawn must be the only checker, or it has uncovered\n        // check by a single sliding piece.\n        const pushedTo = pos.epSquare ^ 8;\n        const pushedFrom = pos.epSquare ^ 24;\n        return (checkers.moreThanOne()\n            || (checkers.first() !== pushedTo\n                && pos\n                    .kingAttackers(ourKing, (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn), pos.board.occupied.without(pushedTo).with(pushedFrom))\n                    .nonEmpty()));\n    }\n    else if (pos.rules === 'atomic') {\n        // Other king moving away can cause many checks to be given at the same\n        // time. Not checking details, or even that the king is close enough.\n        return false;\n    }\n    else {\n        // Sliding checkers aligned with king.\n        return checkers.size() > 2\n            || (checkers.size() === 2 && (0,_attacks_js__WEBPACK_IMPORTED_MODULE_0__.ray)(checkers.first(), checkers.last()).has(ourKing)) // Sliding checkers aligned with king\n            || checkers.intersect(pos.board.steppers()).moreThanOne();\n    }\n};\n//# sourceMappingURL=chess.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9jaGVzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0M7QUFDaUc7QUFDekY7QUFDTDtBQUNrQjtBQUMyQjtBQUNqRjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQzlCO0FBQ1A7QUFDQSxtRkFBbUYsd0RBQVc7QUFDOUY7QUFDQSxXQUFXLDBEQUFhO0FBQ3hCLFdBQVcsMERBQWE7QUFDeEIsV0FBVyx3REFBVztBQUN0QixXQUFXLHdEQUFXLENBQUMsa0RBQVE7QUFDeEI7QUFDUDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQVM7QUFDMUM7QUFDQSxxQkFBcUIsWUFBWTtBQUNqQyxxQkFBcUIsY0FBYztBQUNuQztBQUNBO0FBQ0EscUJBQXFCLE9BQU8sb0RBQVMsaUJBQWlCLG9EQUFTLFdBQVc7QUFDMUUscUJBQXFCLE9BQU8sb0RBQVMsd0JBQXdCLG9EQUFTLGlCQUFpQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG9EQUFTO0FBQzFDO0FBQ0EscUJBQXFCLDRCQUE0QjtBQUNqRCxxQkFBcUIsNEJBQTRCO0FBQ2pEO0FBQ0E7QUFDQSxxQkFBcUIsR0FBRyxvREFBUyxhQUFhLG9EQUFTLFVBQVU7QUFDakUscUJBQXFCLEdBQUcsb0RBQVMsYUFBYSxvREFBUyxVQUFVO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDRDQUE0QztBQUNqRSxxQkFBcUIsNENBQTRDO0FBQ2pFO0FBQ0E7QUFDQSxxQkFBcUIsNENBQTRDO0FBQ2pFLHFCQUFxQiw0Q0FBNEM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQWE7QUFDcEMsdUJBQXVCLHVEQUFhO0FBQ3BDO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQU87QUFDeEM7QUFDQSxtQkFB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxXQUFXLHNEQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxRQUFRLGlEQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpREFBTztBQUNuQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsb0RBQVM7QUFDcEUsMkRBQTJELG9EQUFTO0FBQ3BFO0FBQ0E7QUFDTyxvQ0FBb0MsNkNBQU07QUFDMUM7QUFDUDtBQUNBLFNBQVMsaURBQU87QUFDaEI7QUFDQSxnREFBZ0Qsa0RBQVE7QUFDeEQ7QUFDQTtBQUNBLFFBQVEsaURBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxrREFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxnREFBRztBQUM1QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9jaGVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXN1bHQgfSBmcm9tICdAYmFkcmFwL3Jlc3VsdCc7XG5pbXBvcnQgeyBhdHRhY2tzLCBiZXR3ZWVuLCBiaXNob3BBdHRhY2tzLCBraW5nQXR0YWNrcywga25pZ2h0QXR0YWNrcywgcGF3bkF0dGFja3MsIHF1ZWVuQXR0YWNrcywgcmF5LCByb29rQXR0YWNrcywgfSBmcm9tICcuL2F0dGFja3MuanMnO1xuaW1wb3J0IHsgQm9hcmQsIGJvYXJkRXF1YWxzIH0gZnJvbSAnLi9ib2FyZC5qcyc7XG5pbXBvcnQgeyBTcXVhcmVTZXQgfSBmcm9tICcuL3NxdWFyZVNldC5qcyc7XG5pbXBvcnQgeyBDQVNUTElOR19TSURFUywgQ09MT1JTLCBpc0Ryb3AsIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBkZWZpbmVkLCBraW5nQ2FzdGxlc1RvLCBvcHBvc2l0ZSwgcm9va0Nhc3RsZXNUbywgc3F1YXJlUmFuayB9IGZyb20gJy4vdXRpbC5qcyc7XG5leHBvcnQgdmFyIElsbGVnYWxTZXR1cDtcbihmdW5jdGlvbiAoSWxsZWdhbFNldHVwKSB7XG4gICAgSWxsZWdhbFNldHVwW1wiRW1wdHlcIl0gPSBcIkVSUl9FTVBUWVwiO1xuICAgIElsbGVnYWxTZXR1cFtcIk9wcG9zaXRlQ2hlY2tcIl0gPSBcIkVSUl9PUFBPU0lURV9DSEVDS1wiO1xuICAgIElsbGVnYWxTZXR1cFtcIlBhd25zT25CYWNrcmFua1wiXSA9IFwiRVJSX1BBV05TX09OX0JBQ0tSQU5LXCI7XG4gICAgSWxsZWdhbFNldHVwW1wiS2luZ3NcIl0gPSBcIkVSUl9LSU5HU1wiO1xuICAgIElsbGVnYWxTZXR1cFtcIlZhcmlhbnRcIl0gPSBcIkVSUl9WQVJJQU5UXCI7XG59KShJbGxlZ2FsU2V0dXAgfHwgKElsbGVnYWxTZXR1cCA9IHt9KSk7XG5leHBvcnQgY2xhc3MgUG9zaXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbmNvbnN0IGF0dGFja3NUbyA9IChzcXVhcmUsIGF0dGFja2VyLCBib2FyZCwgb2NjdXBpZWQpID0+IGJvYXJkW2F0dGFja2VyXS5pbnRlcnNlY3Qocm9va0F0dGFja3Moc3F1YXJlLCBvY2N1cGllZClcbiAgICAuaW50ZXJzZWN0KGJvYXJkLnJvb2tzQW5kUXVlZW5zKCkpXG4gICAgLnVuaW9uKGJpc2hvcEF0dGFja3Moc3F1YXJlLCBvY2N1cGllZCkuaW50ZXJzZWN0KGJvYXJkLmJpc2hvcHNBbmRRdWVlbnMoKSkpXG4gICAgLnVuaW9uKGtuaWdodEF0dGFja3Moc3F1YXJlKS5pbnRlcnNlY3QoYm9hcmQua25pZ2h0KSlcbiAgICAudW5pb24oa2luZ0F0dGFja3Moc3F1YXJlKS5pbnRlcnNlY3QoYm9hcmQua2luZykpXG4gICAgLnVuaW9uKHBhd25BdHRhY2tzKG9wcG9zaXRlKGF0dGFja2VyKSwgc3F1YXJlKS5pbnRlcnNlY3QoYm9hcmQucGF3bikpKTtcbmV4cG9ydCBjbGFzcyBDYXN0bGVzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHN0YXRpYyBkZWZhdWx0KCkge1xuICAgICAgICBjb25zdCBjYXN0bGVzID0gbmV3IENhc3RsZXMoKTtcbiAgICAgICAgY2FzdGxlcy5jYXN0bGluZ1JpZ2h0cyA9IFNxdWFyZVNldC5jb3JuZXJzKCk7XG4gICAgICAgIGNhc3RsZXMucm9vayA9IHtcbiAgICAgICAgICAgIHdoaXRlOiB7IGE6IDAsIGg6IDcgfSxcbiAgICAgICAgICAgIGJsYWNrOiB7IGE6IDU2LCBoOiA2MyB9LFxuICAgICAgICB9O1xuICAgICAgICBjYXN0bGVzLnBhdGggPSB7XG4gICAgICAgICAgICB3aGl0ZTogeyBhOiBuZXcgU3F1YXJlU2V0KDB4ZSwgMCksIGg6IG5ldyBTcXVhcmVTZXQoMHg2MCwgMCkgfSxcbiAgICAgICAgICAgIGJsYWNrOiB7IGE6IG5ldyBTcXVhcmVTZXQoMCwgMHgwZTAwMDAwMCksIGg6IG5ldyBTcXVhcmVTZXQoMCwgMHg2MDAwMDAwMCkgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNhc3RsZXM7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgY29uc3QgY2FzdGxlcyA9IG5ldyBDYXN0bGVzKCk7XG4gICAgICAgIGNhc3RsZXMuY2FzdGxpbmdSaWdodHMgPSBTcXVhcmVTZXQuZW1wdHkoKTtcbiAgICAgICAgY2FzdGxlcy5yb29rID0ge1xuICAgICAgICAgICAgd2hpdGU6IHsgYTogdW5kZWZpbmVkLCBoOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgIGJsYWNrOiB7IGE6IHVuZGVmaW5lZCwgaDogdW5kZWZpbmVkIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNhc3RsZXMucGF0aCA9IHtcbiAgICAgICAgICAgIHdoaXRlOiB7IGE6IFNxdWFyZVNldC5lbXB0eSgpLCBoOiBTcXVhcmVTZXQuZW1wdHkoKSB9LFxuICAgICAgICAgICAgYmxhY2s6IHsgYTogU3F1YXJlU2V0LmVtcHR5KCksIGg6IFNxdWFyZVNldC5lbXB0eSgpIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjYXN0bGVzO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgY2FzdGxlcyA9IG5ldyBDYXN0bGVzKCk7XG4gICAgICAgIGNhc3RsZXMuY2FzdGxpbmdSaWdodHMgPSB0aGlzLmNhc3RsaW5nUmlnaHRzO1xuICAgICAgICBjYXN0bGVzLnJvb2sgPSB7XG4gICAgICAgICAgICB3aGl0ZTogeyBhOiB0aGlzLnJvb2sud2hpdGUuYSwgaDogdGhpcy5yb29rLndoaXRlLmggfSxcbiAgICAgICAgICAgIGJsYWNrOiB7IGE6IHRoaXMucm9vay5ibGFjay5hLCBoOiB0aGlzLnJvb2suYmxhY2suaCB9LFxuICAgICAgICB9O1xuICAgICAgICBjYXN0bGVzLnBhdGggPSB7XG4gICAgICAgICAgICB3aGl0ZTogeyBhOiB0aGlzLnBhdGgud2hpdGUuYSwgaDogdGhpcy5wYXRoLndoaXRlLmggfSxcbiAgICAgICAgICAgIGJsYWNrOiB7IGE6IHRoaXMucGF0aC5ibGFjay5hLCBoOiB0aGlzLnBhdGguYmxhY2suaCB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2FzdGxlcztcbiAgICB9XG4gICAgYWRkKGNvbG9yLCBzaWRlLCBraW5nLCByb29rKSB7XG4gICAgICAgIGNvbnN0IGtpbmdUbyA9IGtpbmdDYXN0bGVzVG8oY29sb3IsIHNpZGUpO1xuICAgICAgICBjb25zdCByb29rVG8gPSByb29rQ2FzdGxlc1RvKGNvbG9yLCBzaWRlKTtcbiAgICAgICAgdGhpcy5jYXN0bGluZ1JpZ2h0cyA9IHRoaXMuY2FzdGxpbmdSaWdodHMud2l0aChyb29rKTtcbiAgICAgICAgdGhpcy5yb29rW2NvbG9yXVtzaWRlXSA9IHJvb2s7XG4gICAgICAgIHRoaXMucGF0aFtjb2xvcl1bc2lkZV0gPSBiZXR3ZWVuKHJvb2ssIHJvb2tUbylcbiAgICAgICAgICAgIC53aXRoKHJvb2tUbylcbiAgICAgICAgICAgIC51bmlvbihiZXR3ZWVuKGtpbmcsIGtpbmdUbykud2l0aChraW5nVG8pKVxuICAgICAgICAgICAgLndpdGhvdXQoa2luZylcbiAgICAgICAgICAgIC53aXRob3V0KHJvb2spO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNldHVwKHNldHVwKSB7XG4gICAgICAgIGNvbnN0IGNhc3RsZXMgPSBDYXN0bGVzLmVtcHR5KCk7XG4gICAgICAgIGNvbnN0IHJvb2tzID0gc2V0dXAuY2FzdGxpbmdSaWdodHMuaW50ZXJzZWN0KHNldHVwLmJvYXJkLnJvb2spO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbG9yIG9mIENPTE9SUykge1xuICAgICAgICAgICAgY29uc3QgYmFja3JhbmsgPSBTcXVhcmVTZXQuYmFja3JhbmsoY29sb3IpO1xuICAgICAgICAgICAgY29uc3Qga2luZyA9IHNldHVwLmJvYXJkLmtpbmdPZihjb2xvcik7XG4gICAgICAgICAgICBpZiAoIWRlZmluZWQoa2luZykgfHwgIWJhY2tyYW5rLmhhcyhraW5nKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHNpZGUgPSByb29rcy5pbnRlcnNlY3Qoc2V0dXAuYm9hcmRbY29sb3JdKS5pbnRlcnNlY3QoYmFja3JhbmspO1xuICAgICAgICAgICAgY29uc3QgYVNpZGUgPSBzaWRlLmZpcnN0KCk7XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChhU2lkZSkgJiYgYVNpZGUgPCBraW5nKVxuICAgICAgICAgICAgICAgIGNhc3RsZXMuYWRkKGNvbG9yLCAnYScsIGtpbmcsIGFTaWRlKTtcbiAgICAgICAgICAgIGNvbnN0IGhTaWRlID0gc2lkZS5sYXN0KCk7XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChoU2lkZSkgJiYga2luZyA8IGhTaWRlKVxuICAgICAgICAgICAgICAgIGNhc3RsZXMuYWRkKGNvbG9yLCAnaCcsIGtpbmcsIGhTaWRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FzdGxlcztcbiAgICB9XG4gICAgZGlzY2FyZFJvb2soc3F1YXJlKSB7XG4gICAgICAgIGlmICh0aGlzLmNhc3RsaW5nUmlnaHRzLmhhcyhzcXVhcmUpKSB7XG4gICAgICAgICAgICB0aGlzLmNhc3RsaW5nUmlnaHRzID0gdGhpcy5jYXN0bGluZ1JpZ2h0cy53aXRob3V0KHNxdWFyZSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbG9yIG9mIENPTE9SUykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2lkZSBvZiBDQVNUTElOR19TSURFUykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yb29rW2NvbG9yXVtzaWRlXSA9PT0gc3F1YXJlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb29rW2NvbG9yXVtzaWRlXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY2FyZENvbG9yKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuY2FzdGxpbmdSaWdodHMgPSB0aGlzLmNhc3RsaW5nUmlnaHRzLmRpZmYoU3F1YXJlU2V0LmJhY2tyYW5rKGNvbG9yKSk7XG4gICAgICAgIHRoaXMucm9va1tjb2xvcl0uYSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yb29rW2NvbG9yXS5oID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQb3NpdGlvbiB7XG4gICAgY29uc3RydWN0b3IocnVsZXMpIHtcbiAgICAgICAgdGhpcy5ydWxlcyA9IHJ1bGVzO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IEJvYXJkLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wb2NrZXRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnR1cm4gPSAnd2hpdGUnO1xuICAgICAgICB0aGlzLmNhc3RsZXMgPSBDYXN0bGVzLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5lcFNxdWFyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yZW1haW5pbmdDaGVja3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFsZm1vdmVzID0gMDtcbiAgICAgICAgdGhpcy5mdWxsbW92ZXMgPSAxO1xuICAgIH1cbiAgICBzZXR1cFVuY2hlY2tlZChzZXR1cCkge1xuICAgICAgICB0aGlzLmJvYXJkID0gc2V0dXAuYm9hcmQuY2xvbmUoKTtcbiAgICAgICAgdGhpcy5ib2FyZC5wcm9tb3RlZCA9IFNxdWFyZVNldC5lbXB0eSgpO1xuICAgICAgICB0aGlzLnBvY2tldHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudHVybiA9IHNldHVwLnR1cm47XG4gICAgICAgIHRoaXMuY2FzdGxlcyA9IENhc3RsZXMuZnJvbVNldHVwKHNldHVwKTtcbiAgICAgICAgdGhpcy5lcFNxdWFyZSA9IHZhbGlkRXBTcXVhcmUodGhpcywgc2V0dXAuZXBTcXVhcmUpO1xuICAgICAgICB0aGlzLnJlbWFpbmluZ0NoZWNrcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oYWxmbW92ZXMgPSBzZXR1cC5oYWxmbW92ZXM7XG4gICAgICAgIHRoaXMuZnVsbG1vdmVzID0gc2V0dXAuZnVsbG1vdmVzO1xuICAgIH1cbiAgICAvLyBXaGVuIHN1YmNsYXNzaW5nIG92ZXJ3cml0ZSBhdCBsZWFzdDpcbiAgICAvL1xuICAgIC8vIC0gc3RhdGljIGRlZmF1bHQoKVxuICAgIC8vIC0gc3RhdGljIGZyb21TZXR1cCgpXG4gICAgLy8gLSBzdGF0aWMgY2xvbmUoKVxuICAgIC8vXG4gICAgLy8gLSBkZXN0cygpXG4gICAgLy8gLSBpc1ZhcmlhbnRFbmQoKVxuICAgIC8vIC0gdmFyaWFudE91dGNvbWUoKVxuICAgIC8vIC0gaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoKVxuICAgIC8vIC0gaXNTdGFuZGFyZE1hdGVyaWFsKClcbiAgICBraW5nQXR0YWNrZXJzKHNxdWFyZSwgYXR0YWNrZXIsIG9jY3VwaWVkKSB7XG4gICAgICAgIHJldHVybiBhdHRhY2tzVG8oc3F1YXJlLCBhdHRhY2tlciwgdGhpcy5ib2FyZCwgb2NjdXBpZWQpO1xuICAgIH1cbiAgICBwbGF5Q2FwdHVyZUF0KHNxdWFyZSwgY2FwdHVyZWQpIHtcbiAgICAgICAgdGhpcy5oYWxmbW92ZXMgPSAwO1xuICAgICAgICBpZiAoY2FwdHVyZWQucm9sZSA9PT0gJ3Jvb2snKVxuICAgICAgICAgICAgdGhpcy5jYXN0bGVzLmRpc2NhcmRSb29rKHNxdWFyZSk7XG4gICAgICAgIGlmICh0aGlzLnBvY2tldHMpXG4gICAgICAgICAgICB0aGlzLnBvY2tldHNbb3Bwb3NpdGUoY2FwdHVyZWQuY29sb3IpXVtjYXB0dXJlZC5wcm9tb3RlZCA/ICdwYXduJyA6IGNhcHR1cmVkLnJvbGVdKys7XG4gICAgfVxuICAgIGN0eCgpIHtcbiAgICAgICAgY29uc3QgdmFyaWFudEVuZCA9IHRoaXMuaXNWYXJpYW50RW5kKCk7XG4gICAgICAgIGNvbnN0IGtpbmcgPSB0aGlzLmJvYXJkLmtpbmdPZih0aGlzLnR1cm4pO1xuICAgICAgICBpZiAoIWRlZmluZWQoa2luZykpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGtpbmcsIGJsb2NrZXJzOiBTcXVhcmVTZXQuZW1wdHkoKSwgY2hlY2tlcnM6IFNxdWFyZVNldC5lbXB0eSgpLCB2YXJpYW50RW5kLCBtdXN0Q2FwdHVyZTogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzbmlwZXJzID0gcm9va0F0dGFja3Moa2luZywgU3F1YXJlU2V0LmVtcHR5KCkpXG4gICAgICAgICAgICAuaW50ZXJzZWN0KHRoaXMuYm9hcmQucm9va3NBbmRRdWVlbnMoKSlcbiAgICAgICAgICAgIC51bmlvbihiaXNob3BBdHRhY2tzKGtpbmcsIFNxdWFyZVNldC5lbXB0eSgpKS5pbnRlcnNlY3QodGhpcy5ib2FyZC5iaXNob3BzQW5kUXVlZW5zKCkpKVxuICAgICAgICAgICAgLmludGVyc2VjdCh0aGlzLmJvYXJkW29wcG9zaXRlKHRoaXMudHVybildKTtcbiAgICAgICAgbGV0IGJsb2NrZXJzID0gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgICAgIGZvciAoY29uc3Qgc25pcGVyIG9mIHNuaXBlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBiZXR3ZWVuKGtpbmcsIHNuaXBlcikuaW50ZXJzZWN0KHRoaXMuYm9hcmQub2NjdXBpZWQpO1xuICAgICAgICAgICAgaWYgKCFiLm1vcmVUaGFuT25lKCkpXG4gICAgICAgICAgICAgICAgYmxvY2tlcnMgPSBibG9ja2Vycy51bmlvbihiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGVja2VycyA9IHRoaXMua2luZ0F0dGFja2VycyhraW5nLCBvcHBvc2l0ZSh0aGlzLnR1cm4pLCB0aGlzLmJvYXJkLm9jY3VwaWVkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmcsXG4gICAgICAgICAgICBibG9ja2VycyxcbiAgICAgICAgICAgIGNoZWNrZXJzLFxuICAgICAgICAgICAgdmFyaWFudEVuZCxcbiAgICAgICAgICAgIG11c3RDYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHBvcyA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKCk7XG4gICAgICAgIHBvcy5ib2FyZCA9IHRoaXMuYm9hcmQuY2xvbmUoKTtcbiAgICAgICAgcG9zLnBvY2tldHMgPSAoX2EgPSB0aGlzLnBvY2tldHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9uZSgpO1xuICAgICAgICBwb3MudHVybiA9IHRoaXMudHVybjtcbiAgICAgICAgcG9zLmNhc3RsZXMgPSB0aGlzLmNhc3RsZXMuY2xvbmUoKTtcbiAgICAgICAgcG9zLmVwU3F1YXJlID0gdGhpcy5lcFNxdWFyZTtcbiAgICAgICAgcG9zLnJlbWFpbmluZ0NoZWNrcyA9IChfYiA9IHRoaXMucmVtYWluaW5nQ2hlY2tzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xvbmUoKTtcbiAgICAgICAgcG9zLmhhbGZtb3ZlcyA9IHRoaXMuaGFsZm1vdmVzO1xuICAgICAgICBwb3MuZnVsbG1vdmVzID0gdGhpcy5mdWxsbW92ZXM7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5ib2FyZC5vY2N1cGllZC5pc0VtcHR5KCkpXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuRW1wdHkpKTtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQua2luZy5zaXplKCkgIT09IDIpXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuS2luZ3MpKTtcbiAgICAgICAgaWYgKCFkZWZpbmVkKHRoaXMuYm9hcmQua2luZ09mKHRoaXMudHVybikpKVxuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IFBvc2l0aW9uRXJyb3IoSWxsZWdhbFNldHVwLktpbmdzKSk7XG4gICAgICAgIGNvbnN0IG90aGVyS2luZyA9IHRoaXMuYm9hcmQua2luZ09mKG9wcG9zaXRlKHRoaXMudHVybikpO1xuICAgICAgICBpZiAoIWRlZmluZWQob3RoZXJLaW5nKSlcbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBQb3NpdGlvbkVycm9yKElsbGVnYWxTZXR1cC5LaW5ncykpO1xuICAgICAgICBpZiAodGhpcy5raW5nQXR0YWNrZXJzKG90aGVyS2luZywgdGhpcy50dXJuLCB0aGlzLmJvYXJkLm9jY3VwaWVkKS5ub25FbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuT3Bwb3NpdGVDaGVjaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTcXVhcmVTZXQuYmFja3JhbmtzKCkuaW50ZXJzZWN0cyh0aGlzLmJvYXJkLnBhd24pKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuUGF3bnNPbkJhY2tyYW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc3VsdC5vayh1bmRlZmluZWQpO1xuICAgIH1cbiAgICBkcm9wRGVzdHMoX2N0eCkge1xuICAgICAgICByZXR1cm4gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgfVxuICAgIGRlc3RzKHNxdWFyZSwgY3R4KSB7XG4gICAgICAgIGN0eCA9IGN0eCB8fCB0aGlzLmN0eCgpO1xuICAgICAgICBpZiAoY3R4LnZhcmlhbnRFbmQpXG4gICAgICAgICAgICByZXR1cm4gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gdGhpcy5ib2FyZC5nZXQoc3F1YXJlKTtcbiAgICAgICAgaWYgKCFwaWVjZSB8fCBwaWVjZS5jb2xvciAhPT0gdGhpcy50dXJuKVxuICAgICAgICAgICAgcmV0dXJuIFNxdWFyZVNldC5lbXB0eSgpO1xuICAgICAgICBsZXQgcHNldWRvLCBsZWdhbDtcbiAgICAgICAgaWYgKHBpZWNlLnJvbGUgPT09ICdwYXduJykge1xuICAgICAgICAgICAgcHNldWRvID0gcGF3bkF0dGFja3ModGhpcy50dXJuLCBzcXVhcmUpLmludGVyc2VjdCh0aGlzLmJvYXJkW29wcG9zaXRlKHRoaXMudHVybildKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gdGhpcy50dXJuID09PSAnd2hpdGUnID8gOCA6IC04O1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IHNxdWFyZSArIGRlbHRhO1xuICAgICAgICAgICAgaWYgKDAgPD0gc3RlcCAmJiBzdGVwIDwgNjQgJiYgIXRoaXMuYm9hcmQub2NjdXBpZWQuaGFzKHN0ZXApKSB7XG4gICAgICAgICAgICAgICAgcHNldWRvID0gcHNldWRvLndpdGgoc3RlcCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuRG91YmxlU3RlcCA9IHRoaXMudHVybiA9PT0gJ3doaXRlJyA/IHNxdWFyZSA8IDE2IDogc3F1YXJlID49IDY0IC0gMTY7XG4gICAgICAgICAgICAgICAgY29uc3QgZG91YmxlU3RlcCA9IHN0ZXAgKyBkZWx0YTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuRG91YmxlU3RlcCAmJiAhdGhpcy5ib2FyZC5vY2N1cGllZC5oYXMoZG91YmxlU3RlcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHNldWRvID0gcHNldWRvLndpdGgoZG91YmxlU3RlcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlZmluZWQodGhpcy5lcFNxdWFyZSkgJiYgY2FuQ2FwdHVyZUVwKHRoaXMsIHNxdWFyZSwgY3R4KSkge1xuICAgICAgICAgICAgICAgIGxlZ2FsID0gU3F1YXJlU2V0LmZyb21TcXVhcmUodGhpcy5lcFNxdWFyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGllY2Uucm9sZSA9PT0gJ2Jpc2hvcCcpXG4gICAgICAgICAgICBwc2V1ZG8gPSBiaXNob3BBdHRhY2tzKHNxdWFyZSwgdGhpcy5ib2FyZC5vY2N1cGllZCk7XG4gICAgICAgIGVsc2UgaWYgKHBpZWNlLnJvbGUgPT09ICdrbmlnaHQnKVxuICAgICAgICAgICAgcHNldWRvID0ga25pZ2h0QXR0YWNrcyhzcXVhcmUpO1xuICAgICAgICBlbHNlIGlmIChwaWVjZS5yb2xlID09PSAncm9vaycpXG4gICAgICAgICAgICBwc2V1ZG8gPSByb29rQXR0YWNrcyhzcXVhcmUsIHRoaXMuYm9hcmQub2NjdXBpZWQpO1xuICAgICAgICBlbHNlIGlmIChwaWVjZS5yb2xlID09PSAncXVlZW4nKVxuICAgICAgICAgICAgcHNldWRvID0gcXVlZW5BdHRhY2tzKHNxdWFyZSwgdGhpcy5ib2FyZC5vY2N1cGllZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHBzZXVkbyA9IGtpbmdBdHRhY2tzKHNxdWFyZSk7XG4gICAgICAgIHBzZXVkbyA9IHBzZXVkby5kaWZmKHRoaXMuYm9hcmRbdGhpcy50dXJuXSk7XG4gICAgICAgIGlmIChkZWZpbmVkKGN0eC5raW5nKSkge1xuICAgICAgICAgICAgaWYgKHBpZWNlLnJvbGUgPT09ICdraW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9jYyA9IHRoaXMuYm9hcmQub2NjdXBpZWQud2l0aG91dChzcXVhcmUpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG8gb2YgcHNldWRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmtpbmdBdHRhY2tlcnModG8sIG9wcG9zaXRlKHRoaXMudHVybiksIG9jYykubm9uRW1wdHkoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHBzZXVkbyA9IHBzZXVkby53aXRob3V0KHRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBzZXVkby51bmlvbihjYXN0bGluZ0Rlc3QodGhpcywgJ2EnLCBjdHgpKS51bmlvbihjYXN0bGluZ0Rlc3QodGhpcywgJ2gnLCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdHguY2hlY2tlcnMubm9uRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZXIgPSBjdHguY2hlY2tlcnMuc2luZ2xlU3F1YXJlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkZWZpbmVkKGNoZWNrZXIpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgcHNldWRvID0gcHNldWRvLmludGVyc2VjdChiZXR3ZWVuKGNoZWNrZXIsIGN0eC5raW5nKS53aXRoKGNoZWNrZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdHguYmxvY2tlcnMuaGFzKHNxdWFyZSkpXG4gICAgICAgICAgICAgICAgcHNldWRvID0gcHNldWRvLmludGVyc2VjdChyYXkoc3F1YXJlLCBjdHgua2luZykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZWdhbClcbiAgICAgICAgICAgIHBzZXVkbyA9IHBzZXVkby51bmlvbihsZWdhbCk7XG4gICAgICAgIHJldHVybiBwc2V1ZG87XG4gICAgfVxuICAgIGlzVmFyaWFudEVuZCgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXJpYW50T3V0Y29tZShfY3R4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoY29sb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbY29sb3JdLmludGVyc2VjdCh0aGlzLmJvYXJkLnBhd24udW5pb24odGhpcy5ib2FyZC5yb29rc0FuZFF1ZWVucygpKSkubm9uRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbY29sb3JdLmludGVyc2VjdHModGhpcy5ib2FyZC5rbmlnaHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuYm9hcmRbY29sb3JdLnNpemUoKSA8PSAyXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5ib2FyZFtvcHBvc2l0ZShjb2xvcildLmRpZmYodGhpcy5ib2FyZC5raW5nKS5kaWZmKHRoaXMuYm9hcmQucXVlZW4pLmlzRW1wdHkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbY29sb3JdLmludGVyc2VjdHModGhpcy5ib2FyZC5iaXNob3ApKSB7XG4gICAgICAgICAgICBjb25zdCBzYW1lQ29sb3IgPSAhdGhpcy5ib2FyZC5iaXNob3AuaW50ZXJzZWN0cyhTcXVhcmVTZXQuZGFya1NxdWFyZXMoKSlcbiAgICAgICAgICAgICAgICB8fCAhdGhpcy5ib2FyZC5iaXNob3AuaW50ZXJzZWN0cyhTcXVhcmVTZXQubGlnaHRTcXVhcmVzKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHNhbWVDb2xvciAmJiB0aGlzLmJvYXJkLnBhd24uaXNFbXB0eSgpICYmIHRoaXMuYm9hcmQua25pZ2h0LmlzRW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gVGhlIGZvbGxvd2luZyBzaG91bGQgYmUgaWRlbnRpY2FsIGluIGFsbCBzdWJjbGFzc2VzXG4gICAgdG9TZXR1cCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvYXJkOiB0aGlzLmJvYXJkLmNsb25lKCksXG4gICAgICAgICAgICBwb2NrZXRzOiAoX2EgPSB0aGlzLnBvY2tldHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9uZSgpLFxuICAgICAgICAgICAgdHVybjogdGhpcy50dXJuLFxuICAgICAgICAgICAgY2FzdGxpbmdSaWdodHM6IHRoaXMuY2FzdGxlcy5jYXN0bGluZ1JpZ2h0cyxcbiAgICAgICAgICAgIGVwU3F1YXJlOiBsZWdhbEVwU3F1YXJlKHRoaXMpLFxuICAgICAgICAgICAgcmVtYWluaW5nQ2hlY2tzOiAoX2IgPSB0aGlzLnJlbWFpbmluZ0NoZWNrcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsb25lKCksXG4gICAgICAgICAgICBoYWxmbW92ZXM6IE1hdGgubWluKHRoaXMuaGFsZm1vdmVzLCAxNTApLFxuICAgICAgICAgICAgZnVsbG1vdmVzOiBNYXRoLm1pbihNYXRoLm1heCh0aGlzLmZ1bGxtb3ZlcywgMSksIDk5OTkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpc0luc3VmZmljaWVudE1hdGVyaWFsKCkge1xuICAgICAgICByZXR1cm4gQ09MT1JTLmV2ZXJ5KGNvbG9yID0+IHRoaXMuaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoY29sb3IpKTtcbiAgICB9XG4gICAgaGFzRGVzdHMoY3R4KSB7XG4gICAgICAgIGN0eCA9IGN0eCB8fCB0aGlzLmN0eCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHNxdWFyZSBvZiB0aGlzLmJvYXJkW3RoaXMudHVybl0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlc3RzKHNxdWFyZSwgY3R4KS5ub25FbXB0eSgpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRyb3BEZXN0cyhjdHgpLm5vbkVtcHR5KCk7XG4gICAgfVxuICAgIGlzTGVnYWwobW92ZSwgY3R4KSB7XG4gICAgICAgIGlmIChpc0Ryb3AobW92ZSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wb2NrZXRzIHx8IHRoaXMucG9ja2V0c1t0aGlzLnR1cm5dW21vdmUucm9sZV0gPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAobW92ZS5yb2xlID09PSAncGF3bicgJiYgU3F1YXJlU2V0LmJhY2tyYW5rcygpLmhhcyhtb3ZlLnRvKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcm9wRGVzdHMoY3R4KS5oYXMobW92ZS50byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobW92ZS5wcm9tb3Rpb24gPT09ICdwYXduJylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAobW92ZS5wcm9tb3Rpb24gPT09ICdraW5nJyAmJiB0aGlzLnJ1bGVzICE9PSAnYW50aWNoZXNzJylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoISFtb3ZlLnByb21vdGlvbiAhPT0gKHRoaXMuYm9hcmQucGF3bi5oYXMobW92ZS5mcm9tKSAmJiBTcXVhcmVTZXQuYmFja3JhbmtzKCkuaGFzKG1vdmUudG8pKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBkZXN0cyA9IHRoaXMuZGVzdHMobW92ZS5mcm9tLCBjdHgpO1xuICAgICAgICAgICAgcmV0dXJuIGRlc3RzLmhhcyhtb3ZlLnRvKSB8fCBkZXN0cy5oYXMobm9ybWFsaXplTW92ZSh0aGlzLCBtb3ZlKS50byk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNDaGVjaygpIHtcbiAgICAgICAgY29uc3Qga2luZyA9IHRoaXMuYm9hcmQua2luZ09mKHRoaXMudHVybik7XG4gICAgICAgIHJldHVybiBkZWZpbmVkKGtpbmcpICYmIHRoaXMua2luZ0F0dGFja2VycyhraW5nLCBvcHBvc2l0ZSh0aGlzLnR1cm4pLCB0aGlzLmJvYXJkLm9jY3VwaWVkKS5ub25FbXB0eSgpO1xuICAgIH1cbiAgICBpc0VuZChjdHgpIHtcbiAgICAgICAgaWYgKGN0eCA/IGN0eC52YXJpYW50RW5kIDogdGhpcy5pc1ZhcmlhbnRFbmQoKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0luc3VmZmljaWVudE1hdGVyaWFsKCkgfHwgIXRoaXMuaGFzRGVzdHMoY3R4KTtcbiAgICB9XG4gICAgaXNDaGVja21hdGUoY3R4KSB7XG4gICAgICAgIGN0eCA9IGN0eCB8fCB0aGlzLmN0eCgpO1xuICAgICAgICByZXR1cm4gIWN0eC52YXJpYW50RW5kICYmIGN0eC5jaGVja2Vycy5ub25FbXB0eSgpICYmICF0aGlzLmhhc0Rlc3RzKGN0eCk7XG4gICAgfVxuICAgIGlzU3RhbGVtYXRlKGN0eCkge1xuICAgICAgICBjdHggPSBjdHggfHwgdGhpcy5jdHgoKTtcbiAgICAgICAgcmV0dXJuICFjdHgudmFyaWFudEVuZCAmJiBjdHguY2hlY2tlcnMuaXNFbXB0eSgpICYmICF0aGlzLmhhc0Rlc3RzKGN0eCk7XG4gICAgfVxuICAgIG91dGNvbWUoY3R4KSB7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRPdXRjb21lID0gdGhpcy52YXJpYW50T3V0Y29tZShjdHgpO1xuICAgICAgICBpZiAodmFyaWFudE91dGNvbWUpXG4gICAgICAgICAgICByZXR1cm4gdmFyaWFudE91dGNvbWU7XG4gICAgICAgIGN0eCA9IGN0eCB8fCB0aGlzLmN0eCgpO1xuICAgICAgICBpZiAodGhpcy5pc0NoZWNrbWF0ZShjdHgpKVxuICAgICAgICAgICAgcmV0dXJuIHsgd2lubmVyOiBvcHBvc2l0ZSh0aGlzLnR1cm4pIH07XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNJbnN1ZmZpY2llbnRNYXRlcmlhbCgpIHx8IHRoaXMuaXNTdGFsZW1hdGUoY3R4KSlcbiAgICAgICAgICAgIHJldHVybiB7IHdpbm5lcjogdW5kZWZpbmVkIH07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWxsRGVzdHMoY3R4KSB7XG4gICAgICAgIGN0eCA9IGN0eCB8fCB0aGlzLmN0eCgpO1xuICAgICAgICBjb25zdCBkID0gbmV3IE1hcCgpO1xuICAgICAgICBpZiAoY3R4LnZhcmlhbnRFbmQpXG4gICAgICAgICAgICByZXR1cm4gZDtcbiAgICAgICAgZm9yIChjb25zdCBzcXVhcmUgb2YgdGhpcy5ib2FyZFt0aGlzLnR1cm5dKSB7XG4gICAgICAgICAgICBkLnNldChzcXVhcmUsIHRoaXMuZGVzdHMoc3F1YXJlLCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZDtcbiAgICB9XG4gICAgcGxheShtb3ZlKSB7XG4gICAgICAgIGNvbnN0IHR1cm4gPSB0aGlzLnR1cm47XG4gICAgICAgIGNvbnN0IGVwU3F1YXJlID0gdGhpcy5lcFNxdWFyZTtcbiAgICAgICAgY29uc3QgY2FzdGxpbmcgPSBjYXN0bGluZ1NpZGUodGhpcywgbW92ZSk7XG4gICAgICAgIHRoaXMuZXBTcXVhcmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFsZm1vdmVzICs9IDE7XG4gICAgICAgIGlmICh0dXJuID09PSAnYmxhY2snKVxuICAgICAgICAgICAgdGhpcy5mdWxsbW92ZXMgKz0gMTtcbiAgICAgICAgdGhpcy50dXJuID0gb3Bwb3NpdGUodHVybik7XG4gICAgICAgIGlmIChpc0Ryb3AobW92ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuc2V0KG1vdmUudG8sIHsgcm9sZTogbW92ZS5yb2xlLCBjb2xvcjogdHVybiB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvY2tldHMpXG4gICAgICAgICAgICAgICAgdGhpcy5wb2NrZXRzW3R1cm5dW21vdmUucm9sZV0tLTtcbiAgICAgICAgICAgIGlmIChtb3ZlLnJvbGUgPT09ICdwYXduJylcbiAgICAgICAgICAgICAgICB0aGlzLmhhbGZtb3ZlcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwaWVjZSA9IHRoaXMuYm9hcmQudGFrZShtb3ZlLmZyb20pO1xuICAgICAgICAgICAgaWYgKCFwaWVjZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgZXBDYXB0dXJlO1xuICAgICAgICAgICAgaWYgKHBpZWNlLnJvbGUgPT09ICdwYXduJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFsZm1vdmVzID0gMDtcbiAgICAgICAgICAgICAgICBpZiAobW92ZS50byA9PT0gZXBTcXVhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXBDYXB0dXJlID0gdGhpcy5ib2FyZC50YWtlKG1vdmUudG8gKyAodHVybiA9PT0gJ3doaXRlJyA/IC04IDogOCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IG1vdmUuZnJvbSAtIG1vdmUudG87XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA9PT0gMTYgJiYgOCA8PSBtb3ZlLmZyb20gJiYgbW92ZS5mcm9tIDw9IDU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXBTcXVhcmUgPSAobW92ZS5mcm9tICsgbW92ZS50bykgPj4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1vdmUucHJvbW90aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHBpZWNlLnJvbGUgPSBtb3ZlLnByb21vdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgcGllY2UucHJvbW90ZWQgPSAhIXRoaXMucG9ja2V0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5yb2xlID09PSAncm9vaycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhc3RsZXMuZGlzY2FyZFJvb2sobW92ZS5mcm9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlLnJvbGUgPT09ICdraW5nJykge1xuICAgICAgICAgICAgICAgIGlmIChjYXN0bGluZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByb29rRnJvbSA9IHRoaXMuY2FzdGxlcy5yb29rW3R1cm5dW2Nhc3RsaW5nXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmluZWQocm9va0Zyb20pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb29rID0gdGhpcy5ib2FyZC50YWtlKHJvb2tGcm9tKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmQuc2V0KGtpbmdDYXN0bGVzVG8odHVybiwgY2FzdGxpbmcpLCBwaWVjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm9vaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkLnNldChyb29rQ2FzdGxlc1RvKHR1cm4sIGNhc3RsaW5nKSwgcm9vayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jYXN0bGVzLmRpc2NhcmRDb2xvcih0dXJuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2FzdGxpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXB0dXJlID0gdGhpcy5ib2FyZC5zZXQobW92ZS50bywgcGllY2UpIHx8IGVwQ2FwdHVyZTtcbiAgICAgICAgICAgICAgICBpZiAoY2FwdHVyZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5Q2FwdHVyZUF0KG1vdmUudG8sIGNhcHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0NoZWNrcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGVjaygpKVxuICAgICAgICAgICAgICAgIHRoaXMucmVtYWluaW5nQ2hlY2tzW3R1cm5dID0gTWF0aC5tYXgodGhpcy5yZW1haW5pbmdDaGVja3NbdHVybl0gLSAxLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGVzcyBleHRlbmRzIFBvc2l0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2NoZXNzJyk7XG4gICAgfVxuICAgIHN0YXRpYyBkZWZhdWx0KCkge1xuICAgICAgICBjb25zdCBwb3MgPSBuZXcgdGhpcygpO1xuICAgICAgICBwb3MucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgc3RhdGljIGZyb21TZXR1cChzZXR1cCkge1xuICAgICAgICBjb25zdCBwb3MgPSBuZXcgdGhpcygpO1xuICAgICAgICBwb3Muc2V0dXBVbmNoZWNrZWQoc2V0dXApO1xuICAgICAgICByZXR1cm4gcG9zLnZhbGlkYXRlKCkubWFwKF8gPT4gcG9zKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5jbG9uZSgpO1xuICAgIH1cbn1cbmNvbnN0IHZhbGlkRXBTcXVhcmUgPSAocG9zLCBzcXVhcmUpID0+IHtcbiAgICBpZiAoIWRlZmluZWQoc3F1YXJlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGVwUmFuayA9IHBvcy50dXJuID09PSAnd2hpdGUnID8gNSA6IDI7XG4gICAgY29uc3QgZm9yd2FyZCA9IHBvcy50dXJuID09PSAnd2hpdGUnID8gOCA6IC04O1xuICAgIGlmIChzcXVhcmVSYW5rKHNxdWFyZSkgIT09IGVwUmFuaylcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChwb3MuYm9hcmQub2NjdXBpZWQuaGFzKHNxdWFyZSArIGZvcndhcmQpKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgcGF3biA9IHNxdWFyZSAtIGZvcndhcmQ7XG4gICAgaWYgKCFwb3MuYm9hcmQucGF3bi5oYXMocGF3bikgfHwgIXBvcy5ib2FyZFtvcHBvc2l0ZShwb3MudHVybildLmhhcyhwYXduKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHJldHVybiBzcXVhcmU7XG59O1xuY29uc3QgbGVnYWxFcFNxdWFyZSA9IChwb3MpID0+IHtcbiAgICBpZiAoIWRlZmluZWQocG9zLmVwU3F1YXJlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGN0eCA9IHBvcy5jdHgoKTtcbiAgICBjb25zdCBvdXJQYXducyA9IHBvcy5ib2FyZC5waWVjZXMocG9zLnR1cm4sICdwYXduJyk7XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IG91clBhd25zLmludGVyc2VjdChwYXduQXR0YWNrcyhvcHBvc2l0ZShwb3MudHVybiksIHBvcy5lcFNxdWFyZSkpO1xuICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgaWYgKHBvcy5kZXN0cyhjYW5kaWRhdGUsIGN0eCkuaGFzKHBvcy5lcFNxdWFyZSkpXG4gICAgICAgICAgICByZXR1cm4gcG9zLmVwU3F1YXJlO1xuICAgIH1cbiAgICByZXR1cm47XG59O1xuY29uc3QgY2FuQ2FwdHVyZUVwID0gKHBvcywgcGF3bkZyb20sIGN0eCkgPT4ge1xuICAgIGlmICghZGVmaW5lZChwb3MuZXBTcXVhcmUpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFwYXduQXR0YWNrcyhwb3MudHVybiwgcGF3bkZyb20pLmhhcyhwb3MuZXBTcXVhcmUpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFkZWZpbmVkKGN0eC5raW5nKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgZGVsdGEgPSBwb3MudHVybiA9PT0gJ3doaXRlJyA/IDggOiAtODtcbiAgICBjb25zdCBjYXB0dXJlZCA9IHBvcy5lcFNxdWFyZSAtIGRlbHRhO1xuICAgIHJldHVybiBwb3NcbiAgICAgICAgLmtpbmdBdHRhY2tlcnMoY3R4LmtpbmcsIG9wcG9zaXRlKHBvcy50dXJuKSwgcG9zLmJvYXJkLm9jY3VwaWVkLnRvZ2dsZShwYXduRnJvbSkudG9nZ2xlKGNhcHR1cmVkKS53aXRoKHBvcy5lcFNxdWFyZSkpXG4gICAgICAgIC53aXRob3V0KGNhcHR1cmVkKVxuICAgICAgICAuaXNFbXB0eSgpO1xufTtcbmNvbnN0IGNhc3RsaW5nRGVzdCA9IChwb3MsIHNpZGUsIGN0eCkgPT4ge1xuICAgIGlmICghZGVmaW5lZChjdHgua2luZykgfHwgY3R4LmNoZWNrZXJzLm5vbkVtcHR5KCkpXG4gICAgICAgIHJldHVybiBTcXVhcmVTZXQuZW1wdHkoKTtcbiAgICBjb25zdCByb29rID0gcG9zLmNhc3RsZXMucm9va1twb3MudHVybl1bc2lkZV07XG4gICAgaWYgKCFkZWZpbmVkKHJvb2spKVxuICAgICAgICByZXR1cm4gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgaWYgKHBvcy5jYXN0bGVzLnBhdGhbcG9zLnR1cm5dW3NpZGVdLmludGVyc2VjdHMocG9zLmJvYXJkLm9jY3VwaWVkKSlcbiAgICAgICAgcmV0dXJuIFNxdWFyZVNldC5lbXB0eSgpO1xuICAgIGNvbnN0IGtpbmdUbyA9IGtpbmdDYXN0bGVzVG8ocG9zLnR1cm4sIHNpZGUpO1xuICAgIGNvbnN0IGtpbmdQYXRoID0gYmV0d2VlbihjdHgua2luZywga2luZ1RvKTtcbiAgICBjb25zdCBvY2MgPSBwb3MuYm9hcmQub2NjdXBpZWQud2l0aG91dChjdHgua2luZyk7XG4gICAgZm9yIChjb25zdCBzcSBvZiBraW5nUGF0aCkge1xuICAgICAgICBpZiAocG9zLmtpbmdBdHRhY2tlcnMoc3EsIG9wcG9zaXRlKHBvcy50dXJuKSwgb2NjKS5ub25FbXB0eSgpKVxuICAgICAgICAgICAgcmV0dXJuIFNxdWFyZVNldC5lbXB0eSgpO1xuICAgIH1cbiAgICBjb25zdCByb29rVG8gPSByb29rQ2FzdGxlc1RvKHBvcy50dXJuLCBzaWRlKTtcbiAgICBjb25zdCBhZnRlciA9IHBvcy5ib2FyZC5vY2N1cGllZC50b2dnbGUoY3R4LmtpbmcpLnRvZ2dsZShyb29rKS50b2dnbGUocm9va1RvKTtcbiAgICBpZiAocG9zLmtpbmdBdHRhY2tlcnMoa2luZ1RvLCBvcHBvc2l0ZShwb3MudHVybiksIGFmdGVyKS5ub25FbXB0eSgpKVxuICAgICAgICByZXR1cm4gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgcmV0dXJuIFNxdWFyZVNldC5mcm9tU3F1YXJlKHJvb2spO1xufTtcbmV4cG9ydCBjb25zdCBwc2V1ZG9EZXN0cyA9IChwb3MsIHNxdWFyZSwgY3R4KSA9PiB7XG4gICAgaWYgKGN0eC52YXJpYW50RW5kKVxuICAgICAgICByZXR1cm4gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgY29uc3QgcGllY2UgPSBwb3MuYm9hcmQuZ2V0KHNxdWFyZSk7XG4gICAgaWYgKCFwaWVjZSB8fCBwaWVjZS5jb2xvciAhPT0gcG9zLnR1cm4pXG4gICAgICAgIHJldHVybiBTcXVhcmVTZXQuZW1wdHkoKTtcbiAgICBsZXQgcHNldWRvID0gYXR0YWNrcyhwaWVjZSwgc3F1YXJlLCBwb3MuYm9hcmQub2NjdXBpZWQpO1xuICAgIGlmIChwaWVjZS5yb2xlID09PSAncGF3bicpIHtcbiAgICAgICAgbGV0IGNhcHR1cmVUYXJnZXRzID0gcG9zLmJvYXJkW29wcG9zaXRlKHBvcy50dXJuKV07XG4gICAgICAgIGlmIChkZWZpbmVkKHBvcy5lcFNxdWFyZSkpXG4gICAgICAgICAgICBjYXB0dXJlVGFyZ2V0cyA9IGNhcHR1cmVUYXJnZXRzLndpdGgocG9zLmVwU3F1YXJlKTtcbiAgICAgICAgcHNldWRvID0gcHNldWRvLmludGVyc2VjdChjYXB0dXJlVGFyZ2V0cyk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gcG9zLnR1cm4gPT09ICd3aGl0ZScgPyA4IDogLTg7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBzcXVhcmUgKyBkZWx0YTtcbiAgICAgICAgaWYgKDAgPD0gc3RlcCAmJiBzdGVwIDwgNjQgJiYgIXBvcy5ib2FyZC5vY2N1cGllZC5oYXMoc3RlcCkpIHtcbiAgICAgICAgICAgIHBzZXVkbyA9IHBzZXVkby53aXRoKHN0ZXApO1xuICAgICAgICAgICAgY29uc3QgY2FuRG91YmxlU3RlcCA9IHBvcy50dXJuID09PSAnd2hpdGUnID8gc3F1YXJlIDwgMTYgOiBzcXVhcmUgPj0gNjQgLSAxNjtcbiAgICAgICAgICAgIGNvbnN0IGRvdWJsZVN0ZXAgPSBzdGVwICsgZGVsdGE7XG4gICAgICAgICAgICBpZiAoY2FuRG91YmxlU3RlcCAmJiAhcG9zLmJvYXJkLm9jY3VwaWVkLmhhcyhkb3VibGVTdGVwKSkge1xuICAgICAgICAgICAgICAgIHBzZXVkbyA9IHBzZXVkby53aXRoKGRvdWJsZVN0ZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwc2V1ZG87XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwc2V1ZG8gPSBwc2V1ZG8uZGlmZihwb3MuYm9hcmRbcG9zLnR1cm5dKTtcbiAgICB9XG4gICAgaWYgKHNxdWFyZSA9PT0gY3R4LmtpbmcpXG4gICAgICAgIHJldHVybiBwc2V1ZG8udW5pb24oY2FzdGxpbmdEZXN0KHBvcywgJ2EnLCBjdHgpKS51bmlvbihjYXN0bGluZ0Rlc3QocG9zLCAnaCcsIGN0eCkpO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHBzZXVkbztcbn07XG5leHBvcnQgY29uc3QgZXF1YWxzSWdub3JlTW92ZXMgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBsZWZ0LnJ1bGVzID09PSByaWdodC5ydWxlc1xuICAgICAgICAmJiBib2FyZEVxdWFscyhsZWZ0LmJvYXJkLCByaWdodC5ib2FyZClcbiAgICAgICAgJiYgKChyaWdodC5wb2NrZXRzICYmICgoX2EgPSBsZWZ0LnBvY2tldHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lcXVhbHMocmlnaHQucG9ja2V0cykpKSB8fCAoIWxlZnQucG9ja2V0cyAmJiAhcmlnaHQucG9ja2V0cykpXG4gICAgICAgICYmIGxlZnQudHVybiA9PT0gcmlnaHQudHVyblxuICAgICAgICAmJiBsZWZ0LmNhc3RsZXMuY2FzdGxpbmdSaWdodHMuZXF1YWxzKHJpZ2h0LmNhc3RsZXMuY2FzdGxpbmdSaWdodHMpXG4gICAgICAgICYmIGxlZ2FsRXBTcXVhcmUobGVmdCkgPT09IGxlZ2FsRXBTcXVhcmUocmlnaHQpXG4gICAgICAgICYmICgocmlnaHQucmVtYWluaW5nQ2hlY2tzICYmICgoX2IgPSBsZWZ0LnJlbWFpbmluZ0NoZWNrcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVxdWFscyhyaWdodC5yZW1haW5pbmdDaGVja3MpKSlcbiAgICAgICAgICAgIHx8ICghbGVmdC5yZW1haW5pbmdDaGVja3MgJiYgIXJpZ2h0LnJlbWFpbmluZ0NoZWNrcykpO1xufTtcbmV4cG9ydCBjb25zdCBjYXN0bGluZ1NpZGUgPSAocG9zLCBtb3ZlKSA9PiB7XG4gICAgaWYgKGlzRHJvcChtb3ZlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRlbHRhID0gbW92ZS50byAtIG1vdmUuZnJvbTtcbiAgICBpZiAoTWF0aC5hYnMoZGVsdGEpICE9PSAyICYmICFwb3MuYm9hcmRbcG9zLnR1cm5dLmhhcyhtb3ZlLnRvKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICghcG9zLmJvYXJkLmtpbmcuaGFzKG1vdmUuZnJvbSkpXG4gICAgICAgIHJldHVybjtcbiAgICByZXR1cm4gZGVsdGEgPiAwID8gJ2gnIDogJ2EnO1xufTtcbmV4cG9ydCBjb25zdCBub3JtYWxpemVNb3ZlID0gKHBvcywgbW92ZSkgPT4ge1xuICAgIGNvbnN0IHNpZGUgPSBjYXN0bGluZ1NpZGUocG9zLCBtb3ZlKTtcbiAgICBpZiAoIXNpZGUpXG4gICAgICAgIHJldHVybiBtb3ZlO1xuICAgIGNvbnN0IHJvb2tGcm9tID0gcG9zLmNhc3RsZXMucm9va1twb3MudHVybl1bc2lkZV07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJvbTogbW92ZS5mcm9tLFxuICAgICAgICB0bzogZGVmaW5lZChyb29rRnJvbSkgPyByb29rRnJvbSA6IG1vdmUudG8sXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgaXNTdGFuZGFyZE1hdGVyaWFsU2lkZSA9IChib2FyZCwgY29sb3IpID0+IHtcbiAgICBjb25zdCBwcm9tb3RlZCA9IE1hdGgubWF4KGJvYXJkLnBpZWNlcyhjb2xvciwgJ3F1ZWVuJykuc2l6ZSgpIC0gMSwgMClcbiAgICAgICAgKyBNYXRoLm1heChib2FyZC5waWVjZXMoY29sb3IsICdyb29rJykuc2l6ZSgpIC0gMiwgMClcbiAgICAgICAgKyBNYXRoLm1heChib2FyZC5waWVjZXMoY29sb3IsICdrbmlnaHQnKS5zaXplKCkgLSAyLCAwKVxuICAgICAgICArIE1hdGgubWF4KGJvYXJkLnBpZWNlcyhjb2xvciwgJ2Jpc2hvcCcpLmludGVyc2VjdChTcXVhcmVTZXQubGlnaHRTcXVhcmVzKCkpLnNpemUoKSAtIDEsIDApXG4gICAgICAgICsgTWF0aC5tYXgoYm9hcmQucGllY2VzKGNvbG9yLCAnYmlzaG9wJykuaW50ZXJzZWN0KFNxdWFyZVNldC5kYXJrU3F1YXJlcygpKS5zaXplKCkgLSAxLCAwKTtcbiAgICByZXR1cm4gYm9hcmQucGllY2VzKGNvbG9yLCAncGF3bicpLnNpemUoKSArIHByb21vdGVkIDw9IDg7XG59O1xuZXhwb3J0IGNvbnN0IGlzU3RhbmRhcmRNYXRlcmlhbCA9IChwb3MpID0+IENPTE9SUy5ldmVyeShjb2xvciA9PiBpc1N0YW5kYXJkTWF0ZXJpYWxTaWRlKHBvcy5ib2FyZCwgY29sb3IpKTtcbmV4cG9ydCBjb25zdCBpc0ltcG9zc2libGVDaGVjayA9IChwb3MpID0+IHtcbiAgICBjb25zdCBvdXJLaW5nID0gcG9zLmJvYXJkLmtpbmdPZihwb3MudHVybik7XG4gICAgaWYgKCFkZWZpbmVkKG91cktpbmcpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgY2hlY2tlcnMgPSBwb3Mua2luZ0F0dGFja2VycyhvdXJLaW5nLCBvcHBvc2l0ZShwb3MudHVybiksIHBvcy5ib2FyZC5vY2N1cGllZCk7XG4gICAgaWYgKGNoZWNrZXJzLmlzRW1wdHkoKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChkZWZpbmVkKHBvcy5lcFNxdWFyZSkpIHtcbiAgICAgICAgLy8gVGhlIHB1c2hlZCBwYXduIG11c3QgYmUgdGhlIG9ubHkgY2hlY2tlciwgb3IgaXQgaGFzIHVuY292ZXJlZFxuICAgICAgICAvLyBjaGVjayBieSBhIHNpbmdsZSBzbGlkaW5nIHBpZWNlLlxuICAgICAgICBjb25zdCBwdXNoZWRUbyA9IHBvcy5lcFNxdWFyZSBeIDg7XG4gICAgICAgIGNvbnN0IHB1c2hlZEZyb20gPSBwb3MuZXBTcXVhcmUgXiAyNDtcbiAgICAgICAgcmV0dXJuIChjaGVja2Vycy5tb3JlVGhhbk9uZSgpXG4gICAgICAgICAgICB8fCAoY2hlY2tlcnMuZmlyc3QoKSAhPT0gcHVzaGVkVG9cbiAgICAgICAgICAgICAgICAmJiBwb3NcbiAgICAgICAgICAgICAgICAgICAgLmtpbmdBdHRhY2tlcnMob3VyS2luZywgb3Bwb3NpdGUocG9zLnR1cm4pLCBwb3MuYm9hcmQub2NjdXBpZWQud2l0aG91dChwdXNoZWRUbykud2l0aChwdXNoZWRGcm9tKSlcbiAgICAgICAgICAgICAgICAgICAgLm5vbkVtcHR5KCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocG9zLnJ1bGVzID09PSAnYXRvbWljJykge1xuICAgICAgICAvLyBPdGhlciBraW5nIG1vdmluZyBhd2F5IGNhbiBjYXVzZSBtYW55IGNoZWNrcyB0byBiZSBnaXZlbiBhdCB0aGUgc2FtZVxuICAgICAgICAvLyB0aW1lLiBOb3QgY2hlY2tpbmcgZGV0YWlscywgb3IgZXZlbiB0aGF0IHRoZSBraW5nIGlzIGNsb3NlIGVub3VnaC5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gU2xpZGluZyBjaGVja2VycyBhbGlnbmVkIHdpdGgga2luZy5cbiAgICAgICAgcmV0dXJuIGNoZWNrZXJzLnNpemUoKSA+IDJcbiAgICAgICAgICAgIHx8IChjaGVja2Vycy5zaXplKCkgPT09IDIgJiYgcmF5KGNoZWNrZXJzLmZpcnN0KCksIGNoZWNrZXJzLmxhc3QoKSkuaGFzKG91cktpbmcpKSAvLyBTbGlkaW5nIGNoZWNrZXJzIGFsaWduZWQgd2l0aCBraW5nXG4gICAgICAgICAgICB8fCBjaGVja2Vycy5pbnRlcnNlY3QocG9zLmJvYXJkLnN0ZXBwZXJzKCkpLm1vcmVUaGFuT25lKCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/chess.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/fen.js":
/*!***********************************************!*\
  !*** ./node_modules/chessops/dist/esm/fen.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EMPTY_BOARD_FEN: () => (/* binding */ EMPTY_BOARD_FEN),\n/* harmony export */   EMPTY_EPD: () => (/* binding */ EMPTY_EPD),\n/* harmony export */   EMPTY_FEN: () => (/* binding */ EMPTY_FEN),\n/* harmony export */   FenError: () => (/* binding */ FenError),\n/* harmony export */   INITIAL_BOARD_FEN: () => (/* binding */ INITIAL_BOARD_FEN),\n/* harmony export */   INITIAL_EPD: () => (/* binding */ INITIAL_EPD),\n/* harmony export */   INITIAL_FEN: () => (/* binding */ INITIAL_FEN),\n/* harmony export */   InvalidFen: () => (/* binding */ InvalidFen),\n/* harmony export */   makeBoardFen: () => (/* binding */ makeBoardFen),\n/* harmony export */   makeCastlingFen: () => (/* binding */ makeCastlingFen),\n/* harmony export */   makeFen: () => (/* binding */ makeFen),\n/* harmony export */   makePiece: () => (/* binding */ makePiece),\n/* harmony export */   makePocket: () => (/* binding */ makePocket),\n/* harmony export */   makePockets: () => (/* binding */ makePockets),\n/* harmony export */   makeRemainingChecks: () => (/* binding */ makeRemainingChecks),\n/* harmony export */   parseBoardFen: () => (/* binding */ parseBoardFen),\n/* harmony export */   parseCastlingFen: () => (/* binding */ parseCastlingFen),\n/* harmony export */   parseFen: () => (/* binding */ parseFen),\n/* harmony export */   parsePiece: () => (/* binding */ parsePiece),\n/* harmony export */   parsePockets: () => (/* binding */ parsePockets),\n/* harmony export */   parseRemainingChecks: () => (/* binding */ parseRemainingChecks)\n/* harmony export */ });\n/* harmony import */ var _badrap_result__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @badrap/result */ \"(app-pages-browser)/./node_modules/@badrap/result/dist/mjs/index.mjs\");\n/* harmony import */ var _board_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./board.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/board.js\");\n/* harmony import */ var _setup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./setup.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/setup.js\");\n/* harmony import */ var _squareSet_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./squareSet.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/util.js\");\n\n\n\n\n\n\nconst INITIAL_BOARD_FEN = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR';\nconst INITIAL_EPD = INITIAL_BOARD_FEN + ' w KQkq -';\nconst INITIAL_FEN = INITIAL_EPD + ' 0 1';\nconst EMPTY_BOARD_FEN = '8/8/8/8/8/8/8/8';\nconst EMPTY_EPD = EMPTY_BOARD_FEN + ' w - -';\nconst EMPTY_FEN = EMPTY_EPD + ' 0 1';\nvar InvalidFen;\n(function (InvalidFen) {\n    InvalidFen[\"Fen\"] = \"ERR_FEN\";\n    InvalidFen[\"Board\"] = \"ERR_BOARD\";\n    InvalidFen[\"Pockets\"] = \"ERR_POCKETS\";\n    InvalidFen[\"Turn\"] = \"ERR_TURN\";\n    InvalidFen[\"Castling\"] = \"ERR_CASTLING\";\n    InvalidFen[\"EpSquare\"] = \"ERR_EP_SQUARE\";\n    InvalidFen[\"RemainingChecks\"] = \"ERR_REMAINING_CHECKS\";\n    InvalidFen[\"Halfmoves\"] = \"ERR_HALFMOVES\";\n    InvalidFen[\"Fullmoves\"] = \"ERR_FULLMOVES\";\n})(InvalidFen || (InvalidFen = {}));\nclass FenError extends Error {\n}\nconst nthIndexOf = (haystack, needle, n) => {\n    let index = haystack.indexOf(needle);\n    while (n-- > 0) {\n        if (index === -1)\n            break;\n        index = haystack.indexOf(needle, index + needle.length);\n    }\n    return index;\n};\nconst parseSmallUint = (str) => (/^\\d{1,4}$/.test(str) ? parseInt(str, 10) : undefined);\nconst charToPiece = (ch) => {\n    const role = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.charToRole)(ch);\n    return role && { role, color: ch.toLowerCase() === ch ? 'black' : 'white' };\n};\nconst parseBoardFen = (boardPart) => {\n    const board = _board_js__WEBPACK_IMPORTED_MODULE_1__.Board.empty();\n    let rank = 7;\n    let file = 0;\n    for (let i = 0; i < boardPart.length; i++) {\n        const c = boardPart[i];\n        if (c === '/' && file === 8) {\n            file = 0;\n            rank--;\n        }\n        else {\n            const step = parseInt(c, 10);\n            if (step > 0)\n                file += step;\n            else {\n                if (file >= 8 || rank < 0)\n                    return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Board));\n                const square = file + rank * 8;\n                const piece = charToPiece(c);\n                if (!piece)\n                    return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Board));\n                if (boardPart[i + 1] === '~') {\n                    piece.promoted = true;\n                    i++;\n                }\n                board.set(square, piece);\n                file++;\n            }\n        }\n    }\n    if (rank !== 0 || file !== 8)\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Board));\n    return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(board);\n};\nconst parsePockets = (pocketPart) => {\n    if (pocketPart.length > 64)\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Pockets));\n    const pockets = _setup_js__WEBPACK_IMPORTED_MODULE_3__.Material.empty();\n    for (const c of pocketPart) {\n        const piece = charToPiece(c);\n        if (!piece)\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Pockets));\n        pockets[piece.color][piece.role]++;\n    }\n    return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(pockets);\n};\nconst parseCastlingFen = (board, castlingPart) => {\n    let castlingRights = _squareSet_js__WEBPACK_IMPORTED_MODULE_4__.SquareSet.empty();\n    if (castlingPart === '-')\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(castlingRights);\n    for (const c of castlingPart) {\n        const lower = c.toLowerCase();\n        const color = c === lower ? 'black' : 'white';\n        const rank = color === 'white' ? 0 : 7;\n        if ('a' <= lower && lower <= 'h') {\n            castlingRights = castlingRights.with((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.squareFromCoords)(lower.charCodeAt(0) - 'a'.charCodeAt(0), rank));\n        }\n        else if (lower === 'k' || lower === 'q') {\n            const rooksAndKings = board[color].intersect(_squareSet_js__WEBPACK_IMPORTED_MODULE_4__.SquareSet.backrank(color)).intersect(board.rook.union(board.king));\n            const candidate = lower === 'k' ? rooksAndKings.last() : rooksAndKings.first();\n            castlingRights = castlingRights.with((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(candidate) && board.rook.has(candidate) ? candidate : (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.squareFromCoords)(lower === 'k' ? 7 : 0, rank));\n        }\n        else\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Castling));\n    }\n    if (_types_js__WEBPACK_IMPORTED_MODULE_5__.COLORS.some(color => _squareSet_js__WEBPACK_IMPORTED_MODULE_4__.SquareSet.backrank(color).intersect(castlingRights).size() > 2)) {\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Castling));\n    }\n    return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(castlingRights);\n};\nconst parseRemainingChecks = (part) => {\n    const parts = part.split('+');\n    if (parts.length === 3 && parts[0] === '') {\n        const white = parseSmallUint(parts[1]);\n        const black = parseSmallUint(parts[2]);\n        if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(white) || white > 3 || !(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(black) || black > 3) {\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.RemainingChecks));\n        }\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(new _setup_js__WEBPACK_IMPORTED_MODULE_3__.RemainingChecks(3 - white, 3 - black));\n    }\n    else if (parts.length === 2) {\n        const white = parseSmallUint(parts[0]);\n        const black = parseSmallUint(parts[1]);\n        if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(white) || white > 3 || !(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(black) || black > 3) {\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.RemainingChecks));\n        }\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(new _setup_js__WEBPACK_IMPORTED_MODULE_3__.RemainingChecks(white, black));\n    }\n    else\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.RemainingChecks));\n};\nconst parseFen = (fen) => {\n    const parts = fen.split(/[\\s_]+/);\n    const boardPart = parts.shift();\n    // Board and pockets\n    let board;\n    let pockets = _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(undefined);\n    if (boardPart.endsWith(']')) {\n        const pocketStart = boardPart.indexOf('[');\n        if (pocketStart === -1)\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Fen));\n        board = parseBoardFen(boardPart.slice(0, pocketStart));\n        pockets = parsePockets(boardPart.slice(pocketStart + 1, -1));\n    }\n    else {\n        const pocketStart = nthIndexOf(boardPart, '/', 7);\n        if (pocketStart === -1)\n            board = parseBoardFen(boardPart);\n        else {\n            board = parseBoardFen(boardPart.slice(0, pocketStart));\n            pockets = parsePockets(boardPart.slice(pocketStart + 1));\n        }\n    }\n    // Turn\n    let turn;\n    const turnPart = parts.shift();\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(turnPart) || turnPart === 'w')\n        turn = 'white';\n    else if (turnPart === 'b')\n        turn = 'black';\n    else\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Turn));\n    return board.chain(board => {\n        // Castling\n        const castlingPart = parts.shift();\n        const castlingRights = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(castlingPart) ? parseCastlingFen(board, castlingPart) : _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(_squareSet_js__WEBPACK_IMPORTED_MODULE_4__.SquareSet.empty());\n        // En passant square\n        const epPart = parts.shift();\n        let epSquare;\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(epPart) && epPart !== '-') {\n            epSquare = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.parseSquare)(epPart);\n            if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(epSquare))\n                return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.EpSquare));\n        }\n        // Halfmoves or remaining checks\n        let halfmovePart = parts.shift();\n        let earlyRemainingChecks;\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(halfmovePart) && halfmovePart.includes('+')) {\n            earlyRemainingChecks = parseRemainingChecks(halfmovePart);\n            halfmovePart = parts.shift();\n        }\n        const halfmoves = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(halfmovePart) ? parseSmallUint(halfmovePart) : 0;\n        if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(halfmoves))\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Halfmoves));\n        const fullmovesPart = parts.shift();\n        const fullmoves = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(fullmovesPart) ? parseSmallUint(fullmovesPart) : 1;\n        if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(fullmoves))\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Fullmoves));\n        const remainingChecksPart = parts.shift();\n        let remainingChecks = _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(undefined);\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(remainingChecksPart)) {\n            if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(earlyRemainingChecks))\n                return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.RemainingChecks));\n            remainingChecks = parseRemainingChecks(remainingChecksPart);\n        }\n        else if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(earlyRemainingChecks)) {\n            remainingChecks = earlyRemainingChecks;\n        }\n        if (parts.length > 0)\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new FenError(InvalidFen.Fen));\n        return pockets.chain(pockets => castlingRights.chain(castlingRights => remainingChecks.map(remainingChecks => {\n            return {\n                board,\n                pockets,\n                turn,\n                castlingRights,\n                remainingChecks,\n                epSquare,\n                halfmoves,\n                fullmoves: Math.max(1, fullmoves),\n            };\n        })));\n    });\n};\nconst parsePiece = (str) => {\n    if (!str)\n        return;\n    const piece = charToPiece(str[0]);\n    if (!piece)\n        return;\n    if (str.length === 2 && str[1] === '~')\n        piece.promoted = true;\n    else if (str.length > 1)\n        return;\n    return piece;\n};\nconst makePiece = (piece) => {\n    let r = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.roleToChar)(piece.role);\n    if (piece.color === 'white')\n        r = r.toUpperCase();\n    if (piece.promoted)\n        r += '~';\n    return r;\n};\nconst makeBoardFen = (board) => {\n    let fen = '';\n    let empty = 0;\n    for (let rank = 7; rank >= 0; rank--) {\n        for (let file = 0; file < 8; file++) {\n            const square = file + rank * 8;\n            const piece = board.get(square);\n            if (!piece)\n                empty++;\n            else {\n                if (empty > 0) {\n                    fen += empty;\n                    empty = 0;\n                }\n                fen += makePiece(piece);\n            }\n            if (file === 7) {\n                if (empty > 0) {\n                    fen += empty;\n                    empty = 0;\n                }\n                if (rank !== 0)\n                    fen += '/';\n            }\n        }\n    }\n    return fen;\n};\nconst makePocket = (material) => _types_js__WEBPACK_IMPORTED_MODULE_5__.ROLES.map(role => (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.roleToChar)(role).repeat(material[role])).join('');\nconst makePockets = (pocket) => makePocket(pocket.white).toUpperCase() + makePocket(pocket.black);\nconst makeCastlingFen = (board, castlingRights) => {\n    let fen = '';\n    for (const color of _types_js__WEBPACK_IMPORTED_MODULE_5__.COLORS) {\n        const backrank = _squareSet_js__WEBPACK_IMPORTED_MODULE_4__.SquareSet.backrank(color);\n        let king = board.kingOf(color);\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(king) && !backrank.has(king))\n            king = undefined;\n        const candidates = board.pieces(color, 'rook').intersect(backrank);\n        for (const rook of castlingRights.intersect(backrank).reversed()) {\n            if (rook === candidates.first() && (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(king) && rook < king) {\n                fen += color === 'white' ? 'Q' : 'q';\n            }\n            else if (rook === candidates.last() && (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(king) && king < rook) {\n                fen += color === 'white' ? 'K' : 'k';\n            }\n            else {\n                const file = _types_js__WEBPACK_IMPORTED_MODULE_5__.FILE_NAMES[(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.squareFile)(rook)];\n                fen += color === 'white' ? file.toUpperCase() : file;\n            }\n        }\n    }\n    return fen || '-';\n};\nconst makeRemainingChecks = (checks) => `${checks.white}+${checks.black}`;\nconst makeFen = (setup, opts) => [\n    makeBoardFen(setup.board) + (setup.pockets ? `[${makePockets(setup.pockets)}]` : ''),\n    setup.turn[0],\n    makeCastlingFen(setup.board, setup.castlingRights),\n    (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(setup.epSquare) ? (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.makeSquare)(setup.epSquare) : '-',\n    ...(setup.remainingChecks ? [makeRemainingChecks(setup.remainingChecks)] : []),\n    ...((opts === null || opts === void 0 ? void 0 : opts.epd) ? [] : [Math.max(0, Math.min(setup.halfmoves, 9999)), Math.max(1, Math.min(setup.fullmoves, 9999))]),\n].join(' ');\n//# sourceMappingURL=fen.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9mZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBQ0w7QUFDb0I7QUFDWjtBQUNZO0FBQzREO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUMxQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLElBQUk7QUFDMUM7QUFDQSxpQkFBaUIsb0RBQVU7QUFDM0IscUJBQXFCO0FBQ3JCO0FBQ087QUFDUCxrQkFBa0IsNENBQUs7QUFDdkI7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrREFBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQU07QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFNO0FBQ3JCLFdBQVcsa0RBQU07QUFDakI7QUFDTztBQUNQO0FBQ0EsZUFBZSxrREFBTTtBQUNyQixvQkFBb0IsK0NBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFNO0FBQ3pCO0FBQ0E7QUFDQSxXQUFXLGtEQUFNO0FBQ2pCO0FBQ087QUFDUCx5QkFBeUIsb0RBQVM7QUFDbEM7QUFDQSxlQUFlLGtEQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMERBQWdCO0FBQ2pFO0FBQ0E7QUFDQSx5REFBeUQsb0RBQVM7QUFDbEU7QUFDQSxpREFBaUQsaURBQU8sdURBQXVELDBEQUFnQjtBQUMvSDtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFNO0FBQ3pCO0FBQ0EsUUFBUSw2Q0FBTSxlQUFlLG9EQUFTO0FBQ3RDLGVBQWUsa0RBQU07QUFDckI7QUFDQSxXQUFXLGtEQUFNO0FBQ2pCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsaURBQU8seUJBQXlCLGlEQUFPO0FBQ3BELG1CQUFtQixrREFBTTtBQUN6QjtBQUNBLGVBQWUsa0RBQU0sUUFBUSxzREFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsaURBQU8seUJBQXlCLGlEQUFPO0FBQ3BELG1CQUFtQixrREFBTTtBQUN6QjtBQUNBLGVBQWUsa0RBQU0sUUFBUSxzREFBZTtBQUM1QztBQUNBO0FBQ0EsZUFBZSxrREFBTTtBQUNyQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0RBQU07QUFDeEI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaURBQU87QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpREFBTyx5REFBeUQsa0RBQU0sSUFBSSxvREFBUztBQUNsSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFPO0FBQ25CLHVCQUF1QixxREFBVztBQUNsQyxpQkFBaUIsaURBQU87QUFDeEIsdUJBQXVCLGtEQUFNO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaURBQU87QUFDakMsYUFBYSxpREFBTztBQUNwQixtQkFBbUIsa0RBQU07QUFDekI7QUFDQSwwQkFBMEIsaURBQU87QUFDakMsYUFBYSxpREFBTztBQUNwQixtQkFBbUIsa0RBQU07QUFDekI7QUFDQSw4QkFBOEIsa0RBQU07QUFDcEMsWUFBWSxpREFBTztBQUNuQixnQkFBZ0IsaURBQU87QUFDdkIsdUJBQXVCLGtEQUFNO0FBQzdCO0FBQ0E7QUFDQSxpQkFBaUIsaURBQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLG9EQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHVCQUF1QixXQUFXO0FBQ2xDLDJCQUEyQixVQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQ0FBaUMsNENBQUssYUFBYSxvREFBVTtBQUM3RDtBQUNBO0FBQ1A7QUFDQSx3QkFBd0IsNkNBQU07QUFDOUIseUJBQXlCLG9EQUFTO0FBQ2xDO0FBQ0EsWUFBWSxpREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsaURBQU87QUFDdEQ7QUFDQTtBQUNBLG1EQUFtRCxpREFBTztBQUMxRDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaURBQVUsQ0FBQyxvREFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQ0FBMkMsYUFBYSxHQUFHLGFBQWE7QUFDeEU7QUFDUCxxREFBcUQsMkJBQTJCO0FBQ2hGO0FBQ0E7QUFDQSxJQUFJLGlEQUFPLG1CQUFtQixvREFBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9mZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnQGJhZHJhcC9yZXN1bHQnO1xuaW1wb3J0IHsgQm9hcmQgfSBmcm9tICcuL2JvYXJkLmpzJztcbmltcG9ydCB7IE1hdGVyaWFsLCBSZW1haW5pbmdDaGVja3MgfSBmcm9tICcuL3NldHVwLmpzJztcbmltcG9ydCB7IFNxdWFyZVNldCB9IGZyb20gJy4vc3F1YXJlU2V0LmpzJztcbmltcG9ydCB7IENPTE9SUywgRklMRV9OQU1FUywgUk9MRVMgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IGNoYXJUb1JvbGUsIGRlZmluZWQsIG1ha2VTcXVhcmUsIHBhcnNlU3F1YXJlLCByb2xlVG9DaGFyLCBzcXVhcmVGaWxlLCBzcXVhcmVGcm9tQ29vcmRzIH0gZnJvbSAnLi91dGlsLmpzJztcbmV4cG9ydCBjb25zdCBJTklUSUFMX0JPQVJEX0ZFTiA9ICdybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SJztcbmV4cG9ydCBjb25zdCBJTklUSUFMX0VQRCA9IElOSVRJQUxfQk9BUkRfRkVOICsgJyB3IEtRa3EgLSc7XG5leHBvcnQgY29uc3QgSU5JVElBTF9GRU4gPSBJTklUSUFMX0VQRCArICcgMCAxJztcbmV4cG9ydCBjb25zdCBFTVBUWV9CT0FSRF9GRU4gPSAnOC84LzgvOC84LzgvOC84JztcbmV4cG9ydCBjb25zdCBFTVBUWV9FUEQgPSBFTVBUWV9CT0FSRF9GRU4gKyAnIHcgLSAtJztcbmV4cG9ydCBjb25zdCBFTVBUWV9GRU4gPSBFTVBUWV9FUEQgKyAnIDAgMSc7XG5leHBvcnQgdmFyIEludmFsaWRGZW47XG4oZnVuY3Rpb24gKEludmFsaWRGZW4pIHtcbiAgICBJbnZhbGlkRmVuW1wiRmVuXCJdID0gXCJFUlJfRkVOXCI7XG4gICAgSW52YWxpZEZlbltcIkJvYXJkXCJdID0gXCJFUlJfQk9BUkRcIjtcbiAgICBJbnZhbGlkRmVuW1wiUG9ja2V0c1wiXSA9IFwiRVJSX1BPQ0tFVFNcIjtcbiAgICBJbnZhbGlkRmVuW1wiVHVyblwiXSA9IFwiRVJSX1RVUk5cIjtcbiAgICBJbnZhbGlkRmVuW1wiQ2FzdGxpbmdcIl0gPSBcIkVSUl9DQVNUTElOR1wiO1xuICAgIEludmFsaWRGZW5bXCJFcFNxdWFyZVwiXSA9IFwiRVJSX0VQX1NRVUFSRVwiO1xuICAgIEludmFsaWRGZW5bXCJSZW1haW5pbmdDaGVja3NcIl0gPSBcIkVSUl9SRU1BSU5JTkdfQ0hFQ0tTXCI7XG4gICAgSW52YWxpZEZlbltcIkhhbGZtb3Zlc1wiXSA9IFwiRVJSX0hBTEZNT1ZFU1wiO1xuICAgIEludmFsaWRGZW5bXCJGdWxsbW92ZXNcIl0gPSBcIkVSUl9GVUxMTU9WRVNcIjtcbn0pKEludmFsaWRGZW4gfHwgKEludmFsaWRGZW4gPSB7fSkpO1xuZXhwb3J0IGNsYXNzIEZlbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuY29uc3QgbnRoSW5kZXhPZiA9IChoYXlzdGFjaywgbmVlZGxlLCBuKSA9PiB7XG4gICAgbGV0IGluZGV4ID0gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpO1xuICAgIHdoaWxlIChuLS0gPiAwKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaW5kZXggPSBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSwgaW5kZXggKyBuZWVkbGUubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufTtcbmNvbnN0IHBhcnNlU21hbGxVaW50ID0gKHN0cikgPT4gKC9eXFxkezEsNH0kLy50ZXN0KHN0cikgPyBwYXJzZUludChzdHIsIDEwKSA6IHVuZGVmaW5lZCk7XG5jb25zdCBjaGFyVG9QaWVjZSA9IChjaCkgPT4ge1xuICAgIGNvbnN0IHJvbGUgPSBjaGFyVG9Sb2xlKGNoKTtcbiAgICByZXR1cm4gcm9sZSAmJiB7IHJvbGUsIGNvbG9yOiBjaC50b0xvd2VyQ2FzZSgpID09PSBjaCA/ICdibGFjaycgOiAnd2hpdGUnIH07XG59O1xuZXhwb3J0IGNvbnN0IHBhcnNlQm9hcmRGZW4gPSAoYm9hcmRQYXJ0KSA9PiB7XG4gICAgY29uc3QgYm9hcmQgPSBCb2FyZC5lbXB0eSgpO1xuICAgIGxldCByYW5rID0gNztcbiAgICBsZXQgZmlsZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZFBhcnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYyA9IGJvYXJkUGFydFtpXTtcbiAgICAgICAgaWYgKGMgPT09ICcvJyAmJiBmaWxlID09PSA4KSB7XG4gICAgICAgICAgICBmaWxlID0gMDtcbiAgICAgICAgICAgIHJhbmstLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBwYXJzZUludChjLCAxMCk7XG4gICAgICAgICAgICBpZiAoc3RlcCA+IDApXG4gICAgICAgICAgICAgICAgZmlsZSArPSBzdGVwO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgPj0gOCB8fCByYW5rIDwgMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IEZlbkVycm9yKEludmFsaWRGZW4uQm9hcmQpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcXVhcmUgPSBmaWxlICsgcmFuayAqIDg7XG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSBjaGFyVG9QaWVjZShjKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBpZWNlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgRmVuRXJyb3IoSW52YWxpZEZlbi5Cb2FyZCkpO1xuICAgICAgICAgICAgICAgIGlmIChib2FyZFBhcnRbaSArIDFdID09PSAnficpIHtcbiAgICAgICAgICAgICAgICAgICAgcGllY2UucHJvbW90ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJvYXJkLnNldChzcXVhcmUsIHBpZWNlKTtcbiAgICAgICAgICAgICAgICBmaWxlKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJhbmsgIT09IDAgfHwgZmlsZSAhPT0gOClcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IEZlbkVycm9yKEludmFsaWRGZW4uQm9hcmQpKTtcbiAgICByZXR1cm4gUmVzdWx0Lm9rKGJvYXJkKTtcbn07XG5leHBvcnQgY29uc3QgcGFyc2VQb2NrZXRzID0gKHBvY2tldFBhcnQpID0+IHtcbiAgICBpZiAocG9ja2V0UGFydC5sZW5ndGggPiA2NClcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IEZlbkVycm9yKEludmFsaWRGZW4uUG9ja2V0cykpO1xuICAgIGNvbnN0IHBvY2tldHMgPSBNYXRlcmlhbC5lbXB0eSgpO1xuICAgIGZvciAoY29uc3QgYyBvZiBwb2NrZXRQYXJ0KSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gY2hhclRvUGllY2UoYyk7XG4gICAgICAgIGlmICghcGllY2UpXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgRmVuRXJyb3IoSW52YWxpZEZlbi5Qb2NrZXRzKSk7XG4gICAgICAgIHBvY2tldHNbcGllY2UuY29sb3JdW3BpZWNlLnJvbGVdKys7XG4gICAgfVxuICAgIHJldHVybiBSZXN1bHQub2socG9ja2V0cyk7XG59O1xuZXhwb3J0IGNvbnN0IHBhcnNlQ2FzdGxpbmdGZW4gPSAoYm9hcmQsIGNhc3RsaW5nUGFydCkgPT4ge1xuICAgIGxldCBjYXN0bGluZ1JpZ2h0cyA9IFNxdWFyZVNldC5lbXB0eSgpO1xuICAgIGlmIChjYXN0bGluZ1BhcnQgPT09ICctJylcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5vayhjYXN0bGluZ1JpZ2h0cyk7XG4gICAgZm9yIChjb25zdCBjIG9mIGNhc3RsaW5nUGFydCkge1xuICAgICAgICBjb25zdCBsb3dlciA9IGMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBjID09PSBsb3dlciA/ICdibGFjaycgOiAnd2hpdGUnO1xuICAgICAgICBjb25zdCByYW5rID0gY29sb3IgPT09ICd3aGl0ZScgPyAwIDogNztcbiAgICAgICAgaWYgKCdhJyA8PSBsb3dlciAmJiBsb3dlciA8PSAnaCcpIHtcbiAgICAgICAgICAgIGNhc3RsaW5nUmlnaHRzID0gY2FzdGxpbmdSaWdodHMud2l0aChzcXVhcmVGcm9tQ29vcmRzKGxvd2VyLmNoYXJDb2RlQXQoMCkgLSAnYScuY2hhckNvZGVBdCgwKSwgcmFuaykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxvd2VyID09PSAnaycgfHwgbG93ZXIgPT09ICdxJykge1xuICAgICAgICAgICAgY29uc3Qgcm9va3NBbmRLaW5ncyA9IGJvYXJkW2NvbG9yXS5pbnRlcnNlY3QoU3F1YXJlU2V0LmJhY2tyYW5rKGNvbG9yKSkuaW50ZXJzZWN0KGJvYXJkLnJvb2sudW5pb24oYm9hcmQua2luZykpO1xuICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gbG93ZXIgPT09ICdrJyA/IHJvb2tzQW5kS2luZ3MubGFzdCgpIDogcm9va3NBbmRLaW5ncy5maXJzdCgpO1xuICAgICAgICAgICAgY2FzdGxpbmdSaWdodHMgPSBjYXN0bGluZ1JpZ2h0cy53aXRoKGRlZmluZWQoY2FuZGlkYXRlKSAmJiBib2FyZC5yb29rLmhhcyhjYW5kaWRhdGUpID8gY2FuZGlkYXRlIDogc3F1YXJlRnJvbUNvb3Jkcyhsb3dlciA9PT0gJ2snID8gNyA6IDAsIHJhbmspKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgRmVuRXJyb3IoSW52YWxpZEZlbi5DYXN0bGluZykpO1xuICAgIH1cbiAgICBpZiAoQ09MT1JTLnNvbWUoY29sb3IgPT4gU3F1YXJlU2V0LmJhY2tyYW5rKGNvbG9yKS5pbnRlcnNlY3QoY2FzdGxpbmdSaWdodHMpLnNpemUoKSA+IDIpKSB7XG4gICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBGZW5FcnJvcihJbnZhbGlkRmVuLkNhc3RsaW5nKSk7XG4gICAgfVxuICAgIHJldHVybiBSZXN1bHQub2soY2FzdGxpbmdSaWdodHMpO1xufTtcbmV4cG9ydCBjb25zdCBwYXJzZVJlbWFpbmluZ0NoZWNrcyA9IChwYXJ0KSA9PiB7XG4gICAgY29uc3QgcGFydHMgPSBwYXJ0LnNwbGl0KCcrJyk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMyAmJiBwYXJ0c1swXSA9PT0gJycpIHtcbiAgICAgICAgY29uc3Qgd2hpdGUgPSBwYXJzZVNtYWxsVWludChwYXJ0c1sxXSk7XG4gICAgICAgIGNvbnN0IGJsYWNrID0gcGFyc2VTbWFsbFVpbnQocGFydHNbMl0pO1xuICAgICAgICBpZiAoIWRlZmluZWQod2hpdGUpIHx8IHdoaXRlID4gMyB8fCAhZGVmaW5lZChibGFjaykgfHwgYmxhY2sgPiAzKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgRmVuRXJyb3IoSW52YWxpZEZlbi5SZW1haW5pbmdDaGVja3MpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzdWx0Lm9rKG5ldyBSZW1haW5pbmdDaGVja3MoMyAtIHdoaXRlLCAzIC0gYmxhY2spKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGNvbnN0IHdoaXRlID0gcGFyc2VTbWFsbFVpbnQocGFydHNbMF0pO1xuICAgICAgICBjb25zdCBibGFjayA9IHBhcnNlU21hbGxVaW50KHBhcnRzWzFdKTtcbiAgICAgICAgaWYgKCFkZWZpbmVkKHdoaXRlKSB8fCB3aGl0ZSA+IDMgfHwgIWRlZmluZWQoYmxhY2spIHx8IGJsYWNrID4gMykge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IEZlbkVycm9yKEludmFsaWRGZW4uUmVtYWluaW5nQ2hlY2tzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc3VsdC5vayhuZXcgUmVtYWluaW5nQ2hlY2tzKHdoaXRlLCBibGFjaykpO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBGZW5FcnJvcihJbnZhbGlkRmVuLlJlbWFpbmluZ0NoZWNrcykpO1xufTtcbmV4cG9ydCBjb25zdCBwYXJzZUZlbiA9IChmZW4pID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IGZlbi5zcGxpdCgvW1xcc19dKy8pO1xuICAgIGNvbnN0IGJvYXJkUGFydCA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgLy8gQm9hcmQgYW5kIHBvY2tldHNcbiAgICBsZXQgYm9hcmQ7XG4gICAgbGV0IHBvY2tldHMgPSBSZXN1bHQub2sodW5kZWZpbmVkKTtcbiAgICBpZiAoYm9hcmRQYXJ0LmVuZHNXaXRoKCddJykpIHtcbiAgICAgICAgY29uc3QgcG9ja2V0U3RhcnQgPSBib2FyZFBhcnQuaW5kZXhPZignWycpO1xuICAgICAgICBpZiAocG9ja2V0U3RhcnQgPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IEZlbkVycm9yKEludmFsaWRGZW4uRmVuKSk7XG4gICAgICAgIGJvYXJkID0gcGFyc2VCb2FyZEZlbihib2FyZFBhcnQuc2xpY2UoMCwgcG9ja2V0U3RhcnQpKTtcbiAgICAgICAgcG9ja2V0cyA9IHBhcnNlUG9ja2V0cyhib2FyZFBhcnQuc2xpY2UocG9ja2V0U3RhcnQgKyAxLCAtMSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcG9ja2V0U3RhcnQgPSBudGhJbmRleE9mKGJvYXJkUGFydCwgJy8nLCA3KTtcbiAgICAgICAgaWYgKHBvY2tldFN0YXJ0ID09PSAtMSlcbiAgICAgICAgICAgIGJvYXJkID0gcGFyc2VCb2FyZEZlbihib2FyZFBhcnQpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJvYXJkID0gcGFyc2VCb2FyZEZlbihib2FyZFBhcnQuc2xpY2UoMCwgcG9ja2V0U3RhcnQpKTtcbiAgICAgICAgICAgIHBvY2tldHMgPSBwYXJzZVBvY2tldHMoYm9hcmRQYXJ0LnNsaWNlKHBvY2tldFN0YXJ0ICsgMSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFR1cm5cbiAgICBsZXQgdHVybjtcbiAgICBjb25zdCB0dXJuUGFydCA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgaWYgKCFkZWZpbmVkKHR1cm5QYXJ0KSB8fCB0dXJuUGFydCA9PT0gJ3cnKVxuICAgICAgICB0dXJuID0gJ3doaXRlJztcbiAgICBlbHNlIGlmICh0dXJuUGFydCA9PT0gJ2InKVxuICAgICAgICB0dXJuID0gJ2JsYWNrJztcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBGZW5FcnJvcihJbnZhbGlkRmVuLlR1cm4pKTtcbiAgICByZXR1cm4gYm9hcmQuY2hhaW4oYm9hcmQgPT4ge1xuICAgICAgICAvLyBDYXN0bGluZ1xuICAgICAgICBjb25zdCBjYXN0bGluZ1BhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBjb25zdCBjYXN0bGluZ1JpZ2h0cyA9IGRlZmluZWQoY2FzdGxpbmdQYXJ0KSA/IHBhcnNlQ2FzdGxpbmdGZW4oYm9hcmQsIGNhc3RsaW5nUGFydCkgOiBSZXN1bHQub2soU3F1YXJlU2V0LmVtcHR5KCkpO1xuICAgICAgICAvLyBFbiBwYXNzYW50IHNxdWFyZVxuICAgICAgICBjb25zdCBlcFBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBsZXQgZXBTcXVhcmU7XG4gICAgICAgIGlmIChkZWZpbmVkKGVwUGFydCkgJiYgZXBQYXJ0ICE9PSAnLScpIHtcbiAgICAgICAgICAgIGVwU3F1YXJlID0gcGFyc2VTcXVhcmUoZXBQYXJ0KTtcbiAgICAgICAgICAgIGlmICghZGVmaW5lZChlcFNxdWFyZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IEZlbkVycm9yKEludmFsaWRGZW4uRXBTcXVhcmUpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYWxmbW92ZXMgb3IgcmVtYWluaW5nIGNoZWNrc1xuICAgICAgICBsZXQgaGFsZm1vdmVQYXJ0ID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgbGV0IGVhcmx5UmVtYWluaW5nQ2hlY2tzO1xuICAgICAgICBpZiAoZGVmaW5lZChoYWxmbW92ZVBhcnQpICYmIGhhbGZtb3ZlUGFydC5pbmNsdWRlcygnKycpKSB7XG4gICAgICAgICAgICBlYXJseVJlbWFpbmluZ0NoZWNrcyA9IHBhcnNlUmVtYWluaW5nQ2hlY2tzKGhhbGZtb3ZlUGFydCk7XG4gICAgICAgICAgICBoYWxmbW92ZVBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhbGZtb3ZlcyA9IGRlZmluZWQoaGFsZm1vdmVQYXJ0KSA/IHBhcnNlU21hbGxVaW50KGhhbGZtb3ZlUGFydCkgOiAwO1xuICAgICAgICBpZiAoIWRlZmluZWQoaGFsZm1vdmVzKSlcbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBGZW5FcnJvcihJbnZhbGlkRmVuLkhhbGZtb3ZlcykpO1xuICAgICAgICBjb25zdCBmdWxsbW92ZXNQYXJ0ID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgY29uc3QgZnVsbG1vdmVzID0gZGVmaW5lZChmdWxsbW92ZXNQYXJ0KSA/IHBhcnNlU21hbGxVaW50KGZ1bGxtb3Zlc1BhcnQpIDogMTtcbiAgICAgICAgaWYgKCFkZWZpbmVkKGZ1bGxtb3ZlcykpXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgRmVuRXJyb3IoSW52YWxpZEZlbi5GdWxsbW92ZXMpKTtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nQ2hlY2tzUGFydCA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgIGxldCByZW1haW5pbmdDaGVja3MgPSBSZXN1bHQub2sodW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKGRlZmluZWQocmVtYWluaW5nQ2hlY2tzUGFydCkpIHtcbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGVhcmx5UmVtYWluaW5nQ2hlY2tzKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgRmVuRXJyb3IoSW52YWxpZEZlbi5SZW1haW5pbmdDaGVja3MpKTtcbiAgICAgICAgICAgIHJlbWFpbmluZ0NoZWNrcyA9IHBhcnNlUmVtYWluaW5nQ2hlY2tzKHJlbWFpbmluZ0NoZWNrc1BhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlZmluZWQoZWFybHlSZW1haW5pbmdDaGVja3MpKSB7XG4gICAgICAgICAgICByZW1haW5pbmdDaGVja3MgPSBlYXJseVJlbWFpbmluZ0NoZWNrcztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBGZW5FcnJvcihJbnZhbGlkRmVuLkZlbikpO1xuICAgICAgICByZXR1cm4gcG9ja2V0cy5jaGFpbihwb2NrZXRzID0+IGNhc3RsaW5nUmlnaHRzLmNoYWluKGNhc3RsaW5nUmlnaHRzID0+IHJlbWFpbmluZ0NoZWNrcy5tYXAocmVtYWluaW5nQ2hlY2tzID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYm9hcmQsXG4gICAgICAgICAgICAgICAgcG9ja2V0cyxcbiAgICAgICAgICAgICAgICB0dXJuLFxuICAgICAgICAgICAgICAgIGNhc3RsaW5nUmlnaHRzLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZ0NoZWNrcyxcbiAgICAgICAgICAgICAgICBlcFNxdWFyZSxcbiAgICAgICAgICAgICAgICBoYWxmbW92ZXMsXG4gICAgICAgICAgICAgICAgZnVsbG1vdmVzOiBNYXRoLm1heCgxLCBmdWxsbW92ZXMpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpKTtcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgcGFyc2VQaWVjZSA9IChzdHIpID0+IHtcbiAgICBpZiAoIXN0cilcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHBpZWNlID0gY2hhclRvUGllY2Uoc3RyWzBdKTtcbiAgICBpZiAoIXBpZWNlKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDIgJiYgc3RyWzFdID09PSAnficpXG4gICAgICAgIHBpZWNlLnByb21vdGVkID0gdHJ1ZTtcbiAgICBlbHNlIGlmIChzdHIubGVuZ3RoID4gMSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHJldHVybiBwaWVjZTtcbn07XG5leHBvcnQgY29uc3QgbWFrZVBpZWNlID0gKHBpZWNlKSA9PiB7XG4gICAgbGV0IHIgPSByb2xlVG9DaGFyKHBpZWNlLnJvbGUpO1xuICAgIGlmIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJylcbiAgICAgICAgciA9IHIudG9VcHBlckNhc2UoKTtcbiAgICBpZiAocGllY2UucHJvbW90ZWQpXG4gICAgICAgIHIgKz0gJ34nO1xuICAgIHJldHVybiByO1xufTtcbmV4cG9ydCBjb25zdCBtYWtlQm9hcmRGZW4gPSAoYm9hcmQpID0+IHtcbiAgICBsZXQgZmVuID0gJyc7XG4gICAgbGV0IGVtcHR5ID0gMDtcbiAgICBmb3IgKGxldCByYW5rID0gNzsgcmFuayA+PSAwOyByYW5rLS0pIHtcbiAgICAgICAgZm9yIChsZXQgZmlsZSA9IDA7IGZpbGUgPCA4OyBmaWxlKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNxdWFyZSA9IGZpbGUgKyByYW5rICogODtcbiAgICAgICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmQuZ2V0KHNxdWFyZSk7XG4gICAgICAgICAgICBpZiAoIXBpZWNlKVxuICAgICAgICAgICAgICAgIGVtcHR5Kys7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlbiArPSBlbXB0eTtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmZW4gKz0gbWFrZVBpZWNlKHBpZWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaWxlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVtcHR5ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmZW4gKz0gZW1wdHk7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJhbmsgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIGZlbiArPSAnLyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZlbjtcbn07XG5leHBvcnQgY29uc3QgbWFrZVBvY2tldCA9IChtYXRlcmlhbCkgPT4gUk9MRVMubWFwKHJvbGUgPT4gcm9sZVRvQ2hhcihyb2xlKS5yZXBlYXQobWF0ZXJpYWxbcm9sZV0pKS5qb2luKCcnKTtcbmV4cG9ydCBjb25zdCBtYWtlUG9ja2V0cyA9IChwb2NrZXQpID0+IG1ha2VQb2NrZXQocG9ja2V0LndoaXRlKS50b1VwcGVyQ2FzZSgpICsgbWFrZVBvY2tldChwb2NrZXQuYmxhY2spO1xuZXhwb3J0IGNvbnN0IG1ha2VDYXN0bGluZ0ZlbiA9IChib2FyZCwgY2FzdGxpbmdSaWdodHMpID0+IHtcbiAgICBsZXQgZmVuID0gJyc7XG4gICAgZm9yIChjb25zdCBjb2xvciBvZiBDT0xPUlMpIHtcbiAgICAgICAgY29uc3QgYmFja3JhbmsgPSBTcXVhcmVTZXQuYmFja3JhbmsoY29sb3IpO1xuICAgICAgICBsZXQga2luZyA9IGJvYXJkLmtpbmdPZihjb2xvcik7XG4gICAgICAgIGlmIChkZWZpbmVkKGtpbmcpICYmICFiYWNrcmFuay5oYXMoa2luZykpXG4gICAgICAgICAgICBraW5nID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBjYW5kaWRhdGVzID0gYm9hcmQucGllY2VzKGNvbG9yLCAncm9vaycpLmludGVyc2VjdChiYWNrcmFuayk7XG4gICAgICAgIGZvciAoY29uc3Qgcm9vayBvZiBjYXN0bGluZ1JpZ2h0cy5pbnRlcnNlY3QoYmFja3JhbmspLnJldmVyc2VkKCkpIHtcbiAgICAgICAgICAgIGlmIChyb29rID09PSBjYW5kaWRhdGVzLmZpcnN0KCkgJiYgZGVmaW5lZChraW5nKSAmJiByb29rIDwga2luZykge1xuICAgICAgICAgICAgICAgIGZlbiArPSBjb2xvciA9PT0gJ3doaXRlJyA/ICdRJyA6ICdxJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJvb2sgPT09IGNhbmRpZGF0ZXMubGFzdCgpICYmIGRlZmluZWQoa2luZykgJiYga2luZyA8IHJvb2spIHtcbiAgICAgICAgICAgICAgICBmZW4gKz0gY29sb3IgPT09ICd3aGl0ZScgPyAnSycgOiAnayc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gRklMRV9OQU1FU1tzcXVhcmVGaWxlKHJvb2spXTtcbiAgICAgICAgICAgICAgICBmZW4gKz0gY29sb3IgPT09ICd3aGl0ZScgPyBmaWxlLnRvVXBwZXJDYXNlKCkgOiBmaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmZW4gfHwgJy0nO1xufTtcbmV4cG9ydCBjb25zdCBtYWtlUmVtYWluaW5nQ2hlY2tzID0gKGNoZWNrcykgPT4gYCR7Y2hlY2tzLndoaXRlfSske2NoZWNrcy5ibGFja31gO1xuZXhwb3J0IGNvbnN0IG1ha2VGZW4gPSAoc2V0dXAsIG9wdHMpID0+IFtcbiAgICBtYWtlQm9hcmRGZW4oc2V0dXAuYm9hcmQpICsgKHNldHVwLnBvY2tldHMgPyBgWyR7bWFrZVBvY2tldHMoc2V0dXAucG9ja2V0cyl9XWAgOiAnJyksXG4gICAgc2V0dXAudHVyblswXSxcbiAgICBtYWtlQ2FzdGxpbmdGZW4oc2V0dXAuYm9hcmQsIHNldHVwLmNhc3RsaW5nUmlnaHRzKSxcbiAgICBkZWZpbmVkKHNldHVwLmVwU3F1YXJlKSA/IG1ha2VTcXVhcmUoc2V0dXAuZXBTcXVhcmUpIDogJy0nLFxuICAgIC4uLihzZXR1cC5yZW1haW5pbmdDaGVja3MgPyBbbWFrZVJlbWFpbmluZ0NoZWNrcyhzZXR1cC5yZW1haW5pbmdDaGVja3MpXSA6IFtdKSxcbiAgICAuLi4oKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5lcGQpID8gW10gOiBbTWF0aC5tYXgoMCwgTWF0aC5taW4oc2V0dXAuaGFsZm1vdmVzLCA5OTk5KSksIE1hdGgubWF4KDEsIE1hdGgubWluKHNldHVwLmZ1bGxtb3ZlcywgOTk5OSkpXSksXG5dLmpvaW4oJyAnKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZlbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/fen.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/pgn.js":
/*!***********************************************!*\
  !*** ./node_modules/chessops/dist/esm/pgn.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Box: () => (/* binding */ Box),\n/* harmony export */   ChildNode: () => (/* binding */ ChildNode),\n/* harmony export */   Node: () => (/* binding */ Node),\n/* harmony export */   PgnError: () => (/* binding */ PgnError),\n/* harmony export */   PgnParser: () => (/* binding */ PgnParser),\n/* harmony export */   defaultGame: () => (/* binding */ defaultGame),\n/* harmony export */   defaultHeaders: () => (/* binding */ defaultHeaders),\n/* harmony export */   emptyHeaders: () => (/* binding */ emptyHeaders),\n/* harmony export */   extend: () => (/* binding */ extend),\n/* harmony export */   isChildNode: () => (/* binding */ isChildNode),\n/* harmony export */   isMate: () => (/* binding */ isMate),\n/* harmony export */   isPawns: () => (/* binding */ isPawns),\n/* harmony export */   makeComment: () => (/* binding */ makeComment),\n/* harmony export */   makeOutcome: () => (/* binding */ makeOutcome),\n/* harmony export */   makePgn: () => (/* binding */ makePgn),\n/* harmony export */   makeVariant: () => (/* binding */ makeVariant),\n/* harmony export */   parseComment: () => (/* binding */ parseComment),\n/* harmony export */   parseOutcome: () => (/* binding */ parseOutcome),\n/* harmony export */   parsePgn: () => (/* binding */ parsePgn),\n/* harmony export */   parseVariant: () => (/* binding */ parseVariant),\n/* harmony export */   setStartingPosition: () => (/* binding */ setStartingPosition),\n/* harmony export */   startingPosition: () => (/* binding */ startingPosition),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   walk: () => (/* binding */ walk)\n/* harmony export */ });\n/* harmony import */ var _badrap_result__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @badrap/result */ \"(app-pages-browser)/./node_modules/@badrap/result/dist/mjs/index.mjs\");\n/* harmony import */ var _chess_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chess.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/chess.js\");\n/* harmony import */ var _fen_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fen.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/fen.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/util.js\");\n/* harmony import */ var _variant_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./variant.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/variant.js\");\n/**\n * Parse, transform and write PGN.\n *\n * ## Parser\n *\n * The parser will interpret any input as a PGN, creating a tree of\n * syntactically valid (but not necessarily legal) moves, skipping any invalid\n * tokens.\n *\n * ```ts\n * import { parsePgn, startingPosition } from 'chessops/pgn';\n * import { parseSan } from 'chessops/san';\n *\n * const pgn = '1. d4 d5 *';\n * const games = parsePgn(pgn);\n * for (const game of games) {\n *   const pos = startingPosition(game.headers).unwrap();\n *   for (const node of game.moves.mainline()) {\n *     const move = parseSan(pos, node.san);\n *     if (!move) break; // Illegal move\n *     pos.play(move);\n *   }\n * }\n * ```\n *\n * ## Streaming parser\n *\n * The module also provides a denial-of-service resistant streaming parser.\n * It can be configured with a budget for reasonable complexity of a single\n * game, fed with chunks of text, and will yield parsed games as they are\n * completed.\n *\n * ```ts\n *\n * import { createReadStream } from 'fs';\n * import { PgnParser } from 'chessops/pgn';\n *\n * const stream = createReadStream('games.pgn', { encoding: 'utf-8' });\n *\n * const parser = new PgnParser((game, err) => {\n *   if (err) {\n *     // Budget exceeded.\n *     stream.destroy(err);\n *   }\n *\n *   // Use game ...\n * });\n *\n * await new Promise<void>(resolve =>\n *   stream\n *     .on('data', (chunk: string) => parser.parse(chunk, { stream: true }))\n *     .on('close', () => {\n *       parser.parse('');\n *       resolve();\n *     })\n * );\n * ```\n *\n * ## Augmenting the game tree\n *\n * You can use `walk` to visit all nodes in the game tree, or `transform`\n * to augment it with user data.\n *\n * Both allow you to provide context. You update the context inside the\n * callback, and it is automatically `clone()`-ed at each fork.\n * In the example below, the current position `pos` is provided as context.\n *\n * ```ts\n * import { transform } from 'chessops/pgn';\n * import { makeFen } from 'chessops/fen';\n * import { parseSan, makeSanAndPlay } from 'chessops/san';\n *\n * const pos = startingPosition(game.headers).unwrap();\n * game.moves = transform(game.moves, pos, (pos, node) => {\n *   const move = parseSan(pos, node.san);\n *   if (!move) {\n *     // Illegal move. Returning undefined cuts off the tree here.\n *     return;\n *   }\n *\n *   const san = makeSanAndPlay(pos, move); // Mutating pos!\n *\n *   return {\n *     ...node, // Keep comments and annotation glyphs\n *     san, // Normalized SAN\n *     fen: makeFen(pos.toSetup()), // Add arbitrary user data to node\n *   };\n * });\n * ```\n *\n * ## Writing\n *\n * Requires each node to at least have a `san` property.\n *\n * ```\n * import { makePgn } from 'chessops/pgn';\n *\n * const rewrittenPgn = makePgn(game);\n * ```\n *\n * @packageDocumentation\n */\n\n\n\n\n\nconst defaultGame = (initHeaders = defaultHeaders) => ({\n    headers: initHeaders(),\n    moves: new Node(),\n});\nclass Node {\n    constructor() {\n        this.children = [];\n    }\n    *mainlineNodes() {\n        let node = this;\n        while (node.children.length) {\n            const child = node.children[0];\n            yield child;\n            node = child;\n        }\n    }\n    *mainline() {\n        for (const child of this.mainlineNodes())\n            yield child.data;\n    }\n    end() {\n        let node = this;\n        while (node.children.length)\n            node = node.children[0];\n        return node;\n    }\n}\nclass ChildNode extends Node {\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n}\nconst isChildNode = (node) => node instanceof ChildNode;\nconst extend = (node, data) => {\n    for (const d of data) {\n        const child = new ChildNode(d);\n        node.children.push(child);\n        node = child;\n    }\n    return node;\n};\nclass Box {\n    constructor(value) {\n        this.value = value;\n    }\n    clone() {\n        return new Box(this.value);\n    }\n}\nconst transform = (node, ctx, f) => {\n    const root = new Node();\n    const stack = [\n        {\n            before: node,\n            after: root,\n            ctx,\n        },\n    ];\n    let frame;\n    while ((frame = stack.pop())) {\n        for (let childIndex = 0; childIndex < frame.before.children.length; childIndex++) {\n            const ctx = childIndex < frame.before.children.length - 1 ? frame.ctx.clone() : frame.ctx;\n            const childBefore = frame.before.children[childIndex];\n            const data = f(ctx, childBefore.data, childIndex);\n            if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(data)) {\n                const childAfter = new ChildNode(data);\n                frame.after.children.push(childAfter);\n                stack.push({\n                    before: childBefore,\n                    after: childAfter,\n                    ctx,\n                });\n            }\n        }\n    }\n    return root;\n};\nconst walk = (node, ctx, f) => {\n    const stack = [{ node, ctx }];\n    let frame;\n    while ((frame = stack.pop())) {\n        for (let childIndex = 0; childIndex < frame.node.children.length; childIndex++) {\n            const ctx = childIndex < frame.node.children.length - 1 ? frame.ctx.clone() : frame.ctx;\n            const child = frame.node.children[childIndex];\n            if (f(ctx, child.data, childIndex) !== false)\n                stack.push({ node: child, ctx });\n        }\n    }\n};\nconst makeOutcome = (outcome) => {\n    if (!outcome)\n        return '*';\n    else if (outcome.winner === 'white')\n        return '1-0';\n    else if (outcome.winner === 'black')\n        return '0-1';\n    else\n        return '1/2-1/2';\n};\nconst parseOutcome = (s) => {\n    if (s === '1-0' || s === '10' || s === '10')\n        return { winner: 'white' };\n    else if (s === '0-1' || s === '01' || s === '01')\n        return { winner: 'black' };\n    else if (s === '1/2-1/2' || s === '1/21/2' || s === '1/21/2')\n        return { winner: undefined };\n    else\n        return;\n};\nconst escapeHeader = (value) => value.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"');\nconst safeComment = (comment) => comment.replace(/\\}/g, '');\nconst makePgn = (game) => {\n    const builder = [], tokens = [];\n    if (game.headers.size) {\n        for (const [key, value] of game.headers.entries()) {\n            builder.push('[', key, ' \"', escapeHeader(value), '\"]\\n');\n        }\n        builder.push('\\n');\n    }\n    for (const comment of game.comments || [])\n        tokens.push('{', safeComment(comment), '}');\n    const fen = game.headers.get('FEN');\n    const initialPly = fen\n        ? (0,_fen_js__WEBPACK_IMPORTED_MODULE_1__.parseFen)(fen).unwrap(setup => (setup.fullmoves - 1) * 2 + (setup.turn === 'white' ? 0 : 1), _ => 0)\n        : 0;\n    const stack = [];\n    const variations = game.moves.children[Symbol.iterator]();\n    const firstVariation = variations.next();\n    if (!firstVariation.done) {\n        stack.push({\n            state: 0 /* MakePgnState.Pre */,\n            ply: initialPly,\n            node: firstVariation.value,\n            sidelines: variations,\n            startsVariation: false,\n            inVariation: false,\n        });\n    }\n    let forceMoveNumber = true;\n    while (stack.length) {\n        const frame = stack[stack.length - 1];\n        if (frame.inVariation) {\n            tokens.push(')');\n            frame.inVariation = false;\n            forceMoveNumber = true;\n        }\n        switch (frame.state) {\n            case 0 /* MakePgnState.Pre */:\n                for (const comment of frame.node.data.startingComments || []) {\n                    tokens.push('{', safeComment(comment), '}');\n                    forceMoveNumber = true;\n                }\n                if (forceMoveNumber || frame.ply % 2 === 0) {\n                    tokens.push(Math.floor(frame.ply / 2) + 1 + (frame.ply % 2 ? '...' : '.'));\n                    forceMoveNumber = false;\n                }\n                tokens.push(frame.node.data.san);\n                for (const nag of frame.node.data.nags || []) {\n                    tokens.push('$' + nag);\n                    forceMoveNumber = true;\n                }\n                for (const comment of frame.node.data.comments || []) {\n                    tokens.push('{', safeComment(comment), '}');\n                }\n                frame.state = 1 /* MakePgnState.Sidelines */; // fall through\n            case 1 /* MakePgnState.Sidelines */: {\n                const child = frame.sidelines.next();\n                if (child.done) {\n                    const variations = frame.node.children[Symbol.iterator]();\n                    const firstVariation = variations.next();\n                    if (!firstVariation.done) {\n                        stack.push({\n                            state: 0 /* MakePgnState.Pre */,\n                            ply: frame.ply + 1,\n                            node: firstVariation.value,\n                            sidelines: variations,\n                            startsVariation: false,\n                            inVariation: false,\n                        });\n                    }\n                    frame.state = 2 /* MakePgnState.End */;\n                }\n                else {\n                    tokens.push('(');\n                    forceMoveNumber = true;\n                    stack.push({\n                        state: 0 /* MakePgnState.Pre */,\n                        ply: frame.ply,\n                        node: child.value,\n                        sidelines: [][Symbol.iterator](),\n                        startsVariation: true,\n                        inVariation: false,\n                    });\n                    frame.inVariation = true;\n                }\n                break;\n            }\n            case 2 /* MakePgnState.End */:\n                stack.pop();\n        }\n    }\n    tokens.push(makeOutcome(parseOutcome(game.headers.get('Result'))));\n    builder.push(tokens.join(' '), '\\n');\n    return builder.join('');\n};\nconst defaultHeaders = () => new Map([\n    ['Event', '?'],\n    ['Site', '?'],\n    ['Date', '????.??.??'],\n    ['Round', '?'],\n    ['White', '?'],\n    ['Black', '?'],\n    ['Result', '*'],\n]);\nconst emptyHeaders = () => new Map();\nconst BOM = '\\ufeff';\nconst isWhitespace = (line) => /^\\s*$/.test(line);\nconst isCommentLine = (line) => line.startsWith('%');\nclass PgnError extends Error {\n}\nclass PgnParser {\n    constructor(emitGame, initHeaders = defaultHeaders, maxBudget = 1000000) {\n        this.emitGame = emitGame;\n        this.initHeaders = initHeaders;\n        this.maxBudget = maxBudget;\n        this.lineBuf = [];\n        this.resetGame();\n        this.state = 0 /* ParserState.Bom */;\n    }\n    resetGame() {\n        this.budget = this.maxBudget;\n        this.found = false;\n        this.state = 1 /* ParserState.Pre */;\n        this.game = defaultGame(this.initHeaders);\n        this.stack = [{ parent: this.game.moves, root: true }];\n        this.commentBuf = [];\n    }\n    consumeBudget(cost) {\n        this.budget -= cost;\n        if (this.budget < 0)\n            throw new PgnError('ERR_PGN_BUDGET');\n    }\n    parse(data, options) {\n        if (this.budget < 0)\n            return;\n        try {\n            let idx = 0;\n            for (;;) {\n                const nlIdx = data.indexOf('\\n', idx);\n                if (nlIdx === -1) {\n                    break;\n                }\n                const crIdx = nlIdx > idx && data[nlIdx - 1] === '\\r' ? nlIdx - 1 : nlIdx;\n                this.consumeBudget(nlIdx - idx);\n                this.lineBuf.push(data.slice(idx, crIdx));\n                idx = nlIdx + 1;\n                this.handleLine();\n            }\n            this.consumeBudget(data.length - idx);\n            this.lineBuf.push(data.slice(idx));\n            if (!(options === null || options === void 0 ? void 0 : options.stream)) {\n                this.handleLine();\n                this.emit(undefined);\n            }\n        }\n        catch (err) {\n            this.emit(err);\n        }\n    }\n    handleLine() {\n        let freshLine = true;\n        let line = this.lineBuf.join('');\n        this.lineBuf = [];\n        continuedLine: for (;;) {\n            switch (this.state) {\n                case 0 /* ParserState.Bom */:\n                    if (line.startsWith(BOM))\n                        line = line.slice(BOM.length);\n                    this.state = 1 /* ParserState.Pre */; // fall through\n                case 1 /* ParserState.Pre */:\n                    if (isWhitespace(line) || isCommentLine(line))\n                        return;\n                    this.found = true;\n                    this.state = 2 /* ParserState.Headers */; // fall through\n                case 2 /* ParserState.Headers */: {\n                    if (isCommentLine(line))\n                        return;\n                    let moreHeaders = true;\n                    while (moreHeaders) {\n                        moreHeaders = false;\n                        line = line.replace(/^\\s*\\[([A-Za-z0-9][A-Za-z0-9_+#=:-]*)\\s+\"((?:[^\"\\\\]|\\\\\"|\\\\\\\\)*)\"\\]/, (_match, headerName, headerValue) => {\n                            this.consumeBudget(200);\n                            this.handleHeader(headerName, headerValue.replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\'));\n                            moreHeaders = true;\n                            freshLine = false;\n                            return '';\n                        });\n                    }\n                    if (isWhitespace(line))\n                        return;\n                    this.state = 3 /* ParserState.Moves */; // fall through\n                }\n                case 3 /* ParserState.Moves */: {\n                    if (freshLine) {\n                        if (isCommentLine(line))\n                            return;\n                        if (isWhitespace(line))\n                            return this.emit(undefined);\n                    }\n                    const tokenRegex = /(?:[NBKRQ]?[a-h]?[1-8]?[-x]?[a-h][1-8](?:=?[nbrqkNBRQK])?|[pnbrqkPNBRQK]?@[a-h][1-8]|[O0o][-][O0o](?:[-][O0o])?)[+#]?|--|Z0|0000|@@@@|{|;|\\$\\d{1,4}|[?!]{1,2}|\\(|\\)|\\*|1[-]0|0[-]1|1\\/2[-]1\\/2/g;\n                    let match;\n                    while ((match = tokenRegex.exec(line))) {\n                        const frame = this.stack[this.stack.length - 1];\n                        let token = match[0];\n                        if (token === ';')\n                            return;\n                        else if (token.startsWith('$'))\n                            this.handleNag(parseInt(token.slice(1), 10));\n                        else if (token === '!')\n                            this.handleNag(1);\n                        else if (token === '?')\n                            this.handleNag(2);\n                        else if (token === '!!')\n                            this.handleNag(3);\n                        else if (token === '??')\n                            this.handleNag(4);\n                        else if (token === '!?')\n                            this.handleNag(5);\n                        else if (token === '?!')\n                            this.handleNag(6);\n                        else if (token === '1-0' || token === '10' || token === '10'\n                            || token === '0-1' || token === '01' || token === '01'\n                            || token === '1/2-1/2' || token === '1/21/2' || token === '1/21/2'\n                            || token === '*') {\n                            if (this.stack.length === 1 && token !== '*')\n                                this.handleHeader('Result', token);\n                        }\n                        else if (token === '(') {\n                            this.consumeBudget(100);\n                            this.stack.push({ parent: frame.parent, root: false });\n                        }\n                        else if (token === ')') {\n                            if (this.stack.length > 1)\n                                this.stack.pop();\n                        }\n                        else if (token === '{') {\n                            const openIndex = tokenRegex.lastIndex;\n                            const beginIndex = line[openIndex] === ' ' ? openIndex + 1 : openIndex;\n                            line = line.slice(beginIndex);\n                            this.state = 4 /* ParserState.Comment */;\n                            continue continuedLine;\n                        }\n                        else {\n                            this.consumeBudget(100);\n                            if (token.startsWith('O') || token.startsWith('0') || token.startsWith('o')) {\n                                token = token.replace(/[0o]/g, 'O').replace(/[]/g, '-');\n                            }\n                            else if (token === 'Z0' || token === '0000' || token === '@@@@')\n                                token = '--';\n                            if (frame.node)\n                                frame.parent = frame.node;\n                            frame.node = new ChildNode({\n                                san: token,\n                                startingComments: frame.startingComments,\n                            });\n                            frame.startingComments = undefined;\n                            frame.root = false;\n                            frame.parent.children.push(frame.node);\n                        }\n                    }\n                    return;\n                }\n                case 4 /* ParserState.Comment */: {\n                    const closeIndex = line.indexOf('}');\n                    if (closeIndex === -1) {\n                        this.commentBuf.push(line);\n                        return;\n                    }\n                    else {\n                        const endIndex = closeIndex > 0 && line[closeIndex - 1] === ' ' ? closeIndex - 1 : closeIndex;\n                        this.commentBuf.push(line.slice(0, endIndex));\n                        this.handleComment();\n                        line = line.slice(closeIndex);\n                        this.state = 3 /* ParserState.Moves */;\n                        freshLine = false;\n                    }\n                }\n            }\n        }\n    }\n    handleHeader(name, value) {\n        this.game.headers.set(name, name === 'Result' ? makeOutcome(parseOutcome(value)) : value);\n    }\n    handleNag(nag) {\n        var _a;\n        this.consumeBudget(50);\n        const frame = this.stack[this.stack.length - 1];\n        if (frame.node) {\n            (_a = frame.node.data).nags || (_a.nags = []);\n            frame.node.data.nags.push(nag);\n        }\n    }\n    handleComment() {\n        var _a, _b;\n        this.consumeBudget(100);\n        const frame = this.stack[this.stack.length - 1];\n        const comment = this.commentBuf.join('\\n');\n        this.commentBuf = [];\n        if (frame.node) {\n            (_a = frame.node.data).comments || (_a.comments = []);\n            frame.node.data.comments.push(comment);\n        }\n        else if (frame.root) {\n            (_b = this.game).comments || (_b.comments = []);\n            this.game.comments.push(comment);\n        }\n        else {\n            frame.startingComments || (frame.startingComments = []);\n            frame.startingComments.push(comment);\n        }\n    }\n    emit(err) {\n        if (this.state === 4 /* ParserState.Comment */)\n            this.handleComment();\n        if (err)\n            return this.emitGame(this.game, err);\n        if (this.found)\n            this.emitGame(this.game, undefined);\n        this.resetGame();\n    }\n}\nconst parsePgn = (pgn, initHeaders = defaultHeaders) => {\n    const games = [];\n    new PgnParser(game => games.push(game), initHeaders, NaN).parse(pgn);\n    return games;\n};\nconst parseVariant = (variant) => {\n    switch ((variant || 'chess').toLowerCase()) {\n        case 'chess':\n        case 'chess960':\n        case 'chess 960':\n        case 'standard':\n        case 'from position':\n        case 'classical':\n        case 'normal':\n        case 'fischerandom': // Cute Chess\n        case 'fischerrandom':\n        case 'fischer random':\n        case 'wild/0':\n        case 'wild/1':\n        case 'wild/2':\n        case 'wild/3':\n        case 'wild/4':\n        case 'wild/5':\n        case 'wild/6':\n        case 'wild/7':\n        case 'wild/8':\n        case 'wild/8a':\n            return 'chess';\n        case 'crazyhouse':\n        case 'crazy house':\n        case 'house':\n        case 'zh':\n            return 'crazyhouse';\n        case 'king of the hill':\n        case 'koth':\n        case 'kingofthehill':\n            return 'kingofthehill';\n        case 'three-check':\n        case 'three check':\n        case 'threecheck':\n        case 'three check chess':\n        case '3-check':\n        case '3 check':\n        case '3check':\n            return '3check';\n        case 'antichess':\n        case 'anti chess':\n        case 'anti':\n            return 'antichess';\n        case 'atomic':\n        case 'atom':\n        case 'atomic chess':\n            return 'atomic';\n        case 'horde':\n        case 'horde chess':\n            return 'horde';\n        case 'racing kings':\n        case 'racingkings':\n        case 'racing':\n        case 'race':\n            return 'racingkings';\n        default:\n            return;\n    }\n};\nconst makeVariant = (rules) => {\n    switch (rules) {\n        case 'chess':\n            return;\n        case 'crazyhouse':\n            return 'Crazyhouse';\n        case 'racingkings':\n            return 'Racing Kings';\n        case 'horde':\n            return 'Horde';\n        case 'atomic':\n            return 'Atomic';\n        case 'antichess':\n            return 'Antichess';\n        case '3check':\n            return 'Three-check';\n        case 'kingofthehill':\n            return 'King of the Hill';\n    }\n};\nconst startingPosition = (headers) => {\n    const rules = parseVariant(headers.get('Variant'));\n    if (!rules)\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_3__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_3__.IllegalSetup.Variant));\n    const fen = headers.get('FEN');\n    if (fen)\n        return (0,_fen_js__WEBPACK_IMPORTED_MODULE_1__.parseFen)(fen).chain(setup => (0,_variant_js__WEBPACK_IMPORTED_MODULE_4__.setupPosition)(rules, setup));\n    else\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok((0,_variant_js__WEBPACK_IMPORTED_MODULE_4__.defaultPosition)(rules));\n};\nconst setStartingPosition = (headers, pos) => {\n    const variant = makeVariant(pos.rules);\n    if (variant)\n        headers.set('Variant', variant);\n    else\n        headers.delete('Variant');\n    const fen = (0,_fen_js__WEBPACK_IMPORTED_MODULE_1__.makeFen)(pos.toSetup());\n    const defaultFen = (0,_fen_js__WEBPACK_IMPORTED_MODULE_1__.makeFen)((0,_variant_js__WEBPACK_IMPORTED_MODULE_4__.defaultPosition)(pos.rules).toSetup());\n    if (fen !== defaultFen)\n        headers.set('FEN', fen);\n    else\n        headers.delete('FEN');\n};\nconst isPawns = (ev) => 'pawns' in ev;\nconst isMate = (ev) => 'mate' in ev;\nconst makeClk = (seconds) => {\n    seconds = Math.max(0, seconds);\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    seconds = (seconds % 3600) % 60;\n    return `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toLocaleString('en', {\n        minimumIntegerDigits: 2,\n        maximumFractionDigits: 3,\n    })}`;\n};\nconst makeCommentShapeColor = (color) => {\n    switch (color) {\n        case 'green':\n            return 'G';\n        case 'red':\n            return 'R';\n        case 'yellow':\n            return 'Y';\n        case 'blue':\n            return 'B';\n    }\n};\nfunction parseCommentShapeColor(str) {\n    switch (str) {\n        case 'G':\n            return 'green';\n        case 'R':\n            return 'red';\n        case 'Y':\n            return 'yellow';\n        case 'B':\n            return 'blue';\n        default:\n            return;\n    }\n}\nconst makeCommentShape = (shape) => shape.to === shape.from\n    ? `${makeCommentShapeColor(shape.color)}${(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.makeSquare)(shape.to)}`\n    : `${makeCommentShapeColor(shape.color)}${(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.makeSquare)(shape.from)}${(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.makeSquare)(shape.to)}`;\nconst parseCommentShape = (str) => {\n    const color = parseCommentShapeColor(str.slice(0, 1));\n    const from = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.parseSquare)(str.slice(1, 3));\n    const to = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.parseSquare)(str.slice(3, 5));\n    if (!color || !(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(from))\n        return;\n    if (str.length === 3)\n        return { color, from, to: from };\n    if (str.length === 5 && (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(to))\n        return { color, from, to };\n    return;\n};\nconst makeEval = (ev) => {\n    const str = isMate(ev) ? '#' + ev.mate : ev.pawns.toFixed(2);\n    return (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(ev.depth) ? str + ',' + ev.depth : str;\n};\nconst makeComment = (comment) => {\n    const builder = [];\n    if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(comment.text))\n        builder.push(comment.text);\n    const circles = (comment.shapes || []).filter(shape => shape.to === shape.from).map(makeCommentShape);\n    if (circles.length)\n        builder.push(`[%csl ${circles.join(',')}]`);\n    const arrows = (comment.shapes || []).filter(shape => shape.to !== shape.from).map(makeCommentShape);\n    if (arrows.length)\n        builder.push(`[%cal ${arrows.join(',')}]`);\n    if (comment.evaluation)\n        builder.push(`[%eval ${makeEval(comment.evaluation)}]`);\n    if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(comment.emt))\n        builder.push(`[%emt ${makeClk(comment.emt)}]`);\n    if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.defined)(comment.clock))\n        builder.push(`[%clk ${makeClk(comment.clock)}]`);\n    return builder.join(' ');\n};\nconst parseComment = (comment) => {\n    let emt, clock, evaluation;\n    const shapes = [];\n    const text = comment\n        .replace(/\\s?\\[%(emt|clk)\\s(\\d{1,5}):(\\d{1,2}):(\\d{1,2}(?:\\.\\d{0,3})?)\\]\\s?/g, (_, annotation, hours, minutes, seconds) => {\n        const value = parseInt(hours, 10) * 3600 + parseInt(minutes, 10) * 60 + parseFloat(seconds);\n        if (annotation === 'emt')\n            emt = value;\n        else if (annotation === 'clk')\n            clock = value;\n        return '  ';\n    })\n        .replace(/\\s?\\[%(?:csl|cal)\\s([RGYB][a-h][1-8](?:[a-h][1-8])?(?:,[RGYB][a-h][1-8](?:[a-h][1-8])?)*)\\]\\s?/g, (_, arrows) => {\n        for (const arrow of arrows.split(',')) {\n            shapes.push(parseCommentShape(arrow));\n        }\n        return '  ';\n    })\n        .replace(/\\s?\\[%eval\\s(?:#([+-]?\\d{1,5})|([+-]?(?:\\d{1,5}|\\d{0,5}\\.\\d{1,2})))(?:,(\\d{1,5}))?\\]\\s?/g, (_, mate, pawns, d) => {\n        const depth = d && parseInt(d, 10);\n        evaluation = mate ? { mate: parseInt(mate, 10), depth } : { pawns: parseFloat(pawns), depth };\n        return '  ';\n    })\n        .trim();\n    return {\n        text,\n        shapes,\n        emt,\n        clock,\n        evaluation,\n    };\n};\n//# sourceMappingURL=pgn.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9wZ24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkJBQTZCO0FBQ3pDLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0IsWUFBWSxZQUFZO0FBQ3hCO0FBQ0Esa0RBQWtELG1CQUFtQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixZQUFZLFVBQVU7QUFDdEIsWUFBWSwyQkFBMkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDd0M7QUFDaUI7QUFDWjtBQUNnQjtBQUNDO0FBQ3ZEO0FBQ1A7QUFDQTtBQUNBLENBQUM7QUFDTTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLG1DQUFtQztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxrREFBTSxTQUFTLG9EQUFhLENBQUMsbURBQVk7QUFDeEQ7QUFDQTtBQUNBLGVBQWUsaURBQVEscUJBQXFCLDBEQUFhO0FBQ3pEO0FBQ0EsZUFBZSxrREFBTSxJQUFJLDREQUFlO0FBQ3hDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFPO0FBQ3ZCLHVCQUF1QixnREFBTyxDQUFDLDREQUFlO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsTUFBTSxHQUFHLG9DQUFvQyxHQUFHO0FBQzlEO0FBQ0E7QUFDQSxLQUFLLEVBQUU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsbUNBQW1DLEVBQUUsb0RBQVUsV0FBVztBQUNuRSxTQUFTLG1DQUFtQyxFQUFFLG9EQUFVLGFBQWEsRUFBRSxvREFBVSxXQUFXO0FBQzVGO0FBQ0E7QUFDQSxpQkFBaUIscURBQVc7QUFDNUIsZUFBZSxxREFBVztBQUMxQixtQkFBbUIsaURBQU87QUFDMUI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiw0QkFBNEIsaURBQU87QUFDbkMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBTztBQUNsQjtBQUNPO0FBQ1A7QUFDQSxRQUFRLGlEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtCQUFrQjtBQUNoRDtBQUNBO0FBQ0EsOEJBQThCLGlCQUFpQjtBQUMvQztBQUNBLCtCQUErQiw2QkFBNkI7QUFDNUQsUUFBUSxpREFBTztBQUNmLDhCQUE4QixxQkFBcUI7QUFDbkQsUUFBUSxpREFBTztBQUNmLDhCQUE4Qix1QkFBdUI7QUFDckQ7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxRQUFRLElBQUk7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkNBQTJDLElBQUksY0FBYyxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksV0FBVyxJQUFJO0FBQ2pHO0FBQ0EsOEJBQThCLGtDQUFrQyxJQUFJO0FBQ3BFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvcmFrc2hpdC93b3Jrc3BhY2UvYXJjaGl2ZXMvcmVwb3MvY2hlc3MvZXZhbC1iYXIvbm9kZV9tb2R1bGVzL2NoZXNzb3BzL2Rpc3QvZXNtL3Bnbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBhcnNlLCB0cmFuc2Zvcm0gYW5kIHdyaXRlIFBHTi5cbiAqXG4gKiAjIyBQYXJzZXJcbiAqXG4gKiBUaGUgcGFyc2VyIHdpbGwgaW50ZXJwcmV0IGFueSBpbnB1dCBhcyBhIFBHTiwgY3JlYXRpbmcgYSB0cmVlIG9mXG4gKiBzeW50YWN0aWNhbGx5IHZhbGlkIChidXQgbm90IG5lY2Vzc2FyaWx5IGxlZ2FsKSBtb3Zlcywgc2tpcHBpbmcgYW55IGludmFsaWRcbiAqIHRva2Vucy5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgcGFyc2VQZ24sIHN0YXJ0aW5nUG9zaXRpb24gfSBmcm9tICdjaGVzc29wcy9wZ24nO1xuICogaW1wb3J0IHsgcGFyc2VTYW4gfSBmcm9tICdjaGVzc29wcy9zYW4nO1xuICpcbiAqIGNvbnN0IHBnbiA9ICcxLiBkNCBkNSAqJztcbiAqIGNvbnN0IGdhbWVzID0gcGFyc2VQZ24ocGduKTtcbiAqIGZvciAoY29uc3QgZ2FtZSBvZiBnYW1lcykge1xuICogICBjb25zdCBwb3MgPSBzdGFydGluZ1Bvc2l0aW9uKGdhbWUuaGVhZGVycykudW53cmFwKCk7XG4gKiAgIGZvciAoY29uc3Qgbm9kZSBvZiBnYW1lLm1vdmVzLm1haW5saW5lKCkpIHtcbiAqICAgICBjb25zdCBtb3ZlID0gcGFyc2VTYW4ocG9zLCBub2RlLnNhbik7XG4gKiAgICAgaWYgKCFtb3ZlKSBicmVhazsgLy8gSWxsZWdhbCBtb3ZlXG4gKiAgICAgcG9zLnBsYXkobW92ZSk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIFN0cmVhbWluZyBwYXJzZXJcbiAqXG4gKiBUaGUgbW9kdWxlIGFsc28gcHJvdmlkZXMgYSBkZW5pYWwtb2Ytc2VydmljZSByZXNpc3RhbnQgc3RyZWFtaW5nIHBhcnNlci5cbiAqIEl0IGNhbiBiZSBjb25maWd1cmVkIHdpdGggYSBidWRnZXQgZm9yIHJlYXNvbmFibGUgY29tcGxleGl0eSBvZiBhIHNpbmdsZVxuICogZ2FtZSwgZmVkIHdpdGggY2h1bmtzIG9mIHRleHQsIGFuZCB3aWxsIHlpZWxkIHBhcnNlZCBnYW1lcyBhcyB0aGV5IGFyZVxuICogY29tcGxldGVkLlxuICpcbiAqIGBgYHRzXG4gKlxuICogaW1wb3J0IHsgY3JlYXRlUmVhZFN0cmVhbSB9IGZyb20gJ2ZzJztcbiAqIGltcG9ydCB7IFBnblBhcnNlciB9IGZyb20gJ2NoZXNzb3BzL3Bnbic7XG4gKlxuICogY29uc3Qgc3RyZWFtID0gY3JlYXRlUmVhZFN0cmVhbSgnZ2FtZXMucGduJywgeyBlbmNvZGluZzogJ3V0Zi04JyB9KTtcbiAqXG4gKiBjb25zdCBwYXJzZXIgPSBuZXcgUGduUGFyc2VyKChnYW1lLCBlcnIpID0+IHtcbiAqICAgaWYgKGVycikge1xuICogICAgIC8vIEJ1ZGdldCBleGNlZWRlZC5cbiAqICAgICBzdHJlYW0uZGVzdHJveShlcnIpO1xuICogICB9XG4gKlxuICogICAvLyBVc2UgZ2FtZSAuLi5cbiAqIH0pO1xuICpcbiAqIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT5cbiAqICAgc3RyZWFtXG4gKiAgICAgLm9uKCdkYXRhJywgKGNodW5rOiBzdHJpbmcpID0+IHBhcnNlci5wYXJzZShjaHVuaywgeyBzdHJlYW06IHRydWUgfSkpXG4gKiAgICAgLm9uKCdjbG9zZScsICgpID0+IHtcbiAqICAgICAgIHBhcnNlci5wYXJzZSgnJyk7XG4gKiAgICAgICByZXNvbHZlKCk7XG4gKiAgICAgfSlcbiAqICk7XG4gKiBgYGBcbiAqXG4gKiAjIyBBdWdtZW50aW5nIHRoZSBnYW1lIHRyZWVcbiAqXG4gKiBZb3UgY2FuIHVzZSBgd2Fsa2AgdG8gdmlzaXQgYWxsIG5vZGVzIGluIHRoZSBnYW1lIHRyZWUsIG9yIGB0cmFuc2Zvcm1gXG4gKiB0byBhdWdtZW50IGl0IHdpdGggdXNlciBkYXRhLlxuICpcbiAqIEJvdGggYWxsb3cgeW91IHRvIHByb3ZpZGUgY29udGV4dC4gWW91IHVwZGF0ZSB0aGUgY29udGV4dCBpbnNpZGUgdGhlXG4gKiBjYWxsYmFjaywgYW5kIGl0IGlzIGF1dG9tYXRpY2FsbHkgYGNsb25lKClgLWVkIGF0IGVhY2ggZm9yay5cbiAqIEluIHRoZSBleGFtcGxlIGJlbG93LCB0aGUgY3VycmVudCBwb3NpdGlvbiBgcG9zYCBpcyBwcm92aWRlZCBhcyBjb250ZXh0LlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyB0cmFuc2Zvcm0gfSBmcm9tICdjaGVzc29wcy9wZ24nO1xuICogaW1wb3J0IHsgbWFrZUZlbiB9IGZyb20gJ2NoZXNzb3BzL2Zlbic7XG4gKiBpbXBvcnQgeyBwYXJzZVNhbiwgbWFrZVNhbkFuZFBsYXkgfSBmcm9tICdjaGVzc29wcy9zYW4nO1xuICpcbiAqIGNvbnN0IHBvcyA9IHN0YXJ0aW5nUG9zaXRpb24oZ2FtZS5oZWFkZXJzKS51bndyYXAoKTtcbiAqIGdhbWUubW92ZXMgPSB0cmFuc2Zvcm0oZ2FtZS5tb3ZlcywgcG9zLCAocG9zLCBub2RlKSA9PiB7XG4gKiAgIGNvbnN0IG1vdmUgPSBwYXJzZVNhbihwb3MsIG5vZGUuc2FuKTtcbiAqICAgaWYgKCFtb3ZlKSB7XG4gKiAgICAgLy8gSWxsZWdhbCBtb3ZlLiBSZXR1cm5pbmcgdW5kZWZpbmVkIGN1dHMgb2ZmIHRoZSB0cmVlIGhlcmUuXG4gKiAgICAgcmV0dXJuO1xuICogICB9XG4gKlxuICogICBjb25zdCBzYW4gPSBtYWtlU2FuQW5kUGxheShwb3MsIG1vdmUpOyAvLyBNdXRhdGluZyBwb3MhXG4gKlxuICogICByZXR1cm4ge1xuICogICAgIC4uLm5vZGUsIC8vIEtlZXAgY29tbWVudHMgYW5kIGFubm90YXRpb24gZ2x5cGhzXG4gKiAgICAgc2FuLCAvLyBOb3JtYWxpemVkIFNBTlxuICogICAgIGZlbjogbWFrZUZlbihwb3MudG9TZXR1cCgpKSwgLy8gQWRkIGFyYml0cmFyeSB1c2VyIGRhdGEgdG8gbm9kZVxuICogICB9O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAjIyBXcml0aW5nXG4gKlxuICogUmVxdWlyZXMgZWFjaCBub2RlIHRvIGF0IGxlYXN0IGhhdmUgYSBgc2FuYCBwcm9wZXJ0eS5cbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7IG1ha2VQZ24gfSBmcm9tICdjaGVzc29wcy9wZ24nO1xuICpcbiAqIGNvbnN0IHJld3JpdHRlblBnbiA9IG1ha2VQZ24oZ2FtZSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnQGJhZHJhcC9yZXN1bHQnO1xuaW1wb3J0IHsgSWxsZWdhbFNldHVwLCBQb3NpdGlvbkVycm9yIH0gZnJvbSAnLi9jaGVzcy5qcyc7XG5pbXBvcnQgeyBtYWtlRmVuLCBwYXJzZUZlbiB9IGZyb20gJy4vZmVuLmpzJztcbmltcG9ydCB7IGRlZmluZWQsIG1ha2VTcXVhcmUsIHBhcnNlU3F1YXJlIH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IGRlZmF1bHRQb3NpdGlvbiwgc2V0dXBQb3NpdGlvbiB9IGZyb20gJy4vdmFyaWFudC5qcyc7XG5leHBvcnQgY29uc3QgZGVmYXVsdEdhbWUgPSAoaW5pdEhlYWRlcnMgPSBkZWZhdWx0SGVhZGVycykgPT4gKHtcbiAgICBoZWFkZXJzOiBpbml0SGVhZGVycygpLFxuICAgIG1vdmVzOiBuZXcgTm9kZSgpLFxufSk7XG5leHBvcnQgY2xhc3MgTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG4gICAgKm1haW5saW5lTm9kZXMoKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcztcbiAgICAgICAgd2hpbGUgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICB5aWVsZCBjaGlsZDtcbiAgICAgICAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqbWFpbmxpbmUoKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5tYWlubGluZU5vZGVzKCkpXG4gICAgICAgICAgICB5aWVsZCBjaGlsZC5kYXRhO1xuICAgIH1cbiAgICBlbmQoKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcztcbiAgICAgICAgd2hpbGUgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bMF07XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGlsZE5vZGUgZXh0ZW5kcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGlzQ2hpbGROb2RlID0gKG5vZGUpID0+IG5vZGUgaW5zdGFuY2VvZiBDaGlsZE5vZGU7XG5leHBvcnQgY29uc3QgZXh0ZW5kID0gKG5vZGUsIGRhdGEpID0+IHtcbiAgICBmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IG5ldyBDaGlsZE5vZGUoZCk7XG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG59O1xuZXhwb3J0IGNsYXNzIEJveCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3godGhpcy52YWx1ZSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChub2RlLCBjdHgsIGYpID0+IHtcbiAgICBjb25zdCByb290ID0gbmV3IE5vZGUoKTtcbiAgICBjb25zdCBzdGFjayA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgYmVmb3JlOiBub2RlLFxuICAgICAgICAgICAgYWZ0ZXI6IHJvb3QsXG4gICAgICAgICAgICBjdHgsXG4gICAgICAgIH0sXG4gICAgXTtcbiAgICBsZXQgZnJhbWU7XG4gICAgd2hpbGUgKChmcmFtZSA9IHN0YWNrLnBvcCgpKSkge1xuICAgICAgICBmb3IgKGxldCBjaGlsZEluZGV4ID0gMDsgY2hpbGRJbmRleCA8IGZyYW1lLmJlZm9yZS5jaGlsZHJlbi5sZW5ndGg7IGNoaWxkSW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gY2hpbGRJbmRleCA8IGZyYW1lLmJlZm9yZS5jaGlsZHJlbi5sZW5ndGggLSAxID8gZnJhbWUuY3R4LmNsb25lKCkgOiBmcmFtZS5jdHg7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEJlZm9yZSA9IGZyYW1lLmJlZm9yZS5jaGlsZHJlbltjaGlsZEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBmKGN0eCwgY2hpbGRCZWZvcmUuZGF0YSwgY2hpbGRJbmRleCk7XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQWZ0ZXIgPSBuZXcgQ2hpbGROb2RlKGRhdGEpO1xuICAgICAgICAgICAgICAgIGZyYW1lLmFmdGVyLmNoaWxkcmVuLnB1c2goY2hpbGRBZnRlcik7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZTogY2hpbGRCZWZvcmUsXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyOiBjaGlsZEFmdGVyLFxuICAgICAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59O1xuZXhwb3J0IGNvbnN0IHdhbGsgPSAobm9kZSwgY3R4LCBmKSA9PiB7XG4gICAgY29uc3Qgc3RhY2sgPSBbeyBub2RlLCBjdHggfV07XG4gICAgbGV0IGZyYW1lO1xuICAgIHdoaWxlICgoZnJhbWUgPSBzdGFjay5wb3AoKSkpIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGRJbmRleCA9IDA7IGNoaWxkSW5kZXggPCBmcmFtZS5ub2RlLmNoaWxkcmVuLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjaGlsZEluZGV4IDwgZnJhbWUubm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxID8gZnJhbWUuY3R4LmNsb25lKCkgOiBmcmFtZS5jdHg7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGZyYW1lLm5vZGUuY2hpbGRyZW5bY2hpbGRJbmRleF07XG4gICAgICAgICAgICBpZiAoZihjdHgsIGNoaWxkLmRhdGEsIGNoaWxkSW5kZXgpICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHsgbm9kZTogY2hpbGQsIGN0eCB9KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5leHBvcnQgY29uc3QgbWFrZU91dGNvbWUgPSAob3V0Y29tZSkgPT4ge1xuICAgIGlmICghb3V0Y29tZSlcbiAgICAgICAgcmV0dXJuICcqJztcbiAgICBlbHNlIGlmIChvdXRjb21lLndpbm5lciA9PT0gJ3doaXRlJylcbiAgICAgICAgcmV0dXJuICcxLTAnO1xuICAgIGVsc2UgaWYgKG91dGNvbWUud2lubmVyID09PSAnYmxhY2snKVxuICAgICAgICByZXR1cm4gJzAtMSc7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gJzEvMi0xLzInO1xufTtcbmV4cG9ydCBjb25zdCBwYXJzZU91dGNvbWUgPSAocykgPT4ge1xuICAgIGlmIChzID09PSAnMS0wJyB8fCBzID09PSAnMeKAkzAnIHx8IHMgPT09ICcx4oCUMCcpXG4gICAgICAgIHJldHVybiB7IHdpbm5lcjogJ3doaXRlJyB9O1xuICAgIGVsc2UgaWYgKHMgPT09ICcwLTEnIHx8IHMgPT09ICcw4oCTMScgfHwgcyA9PT0gJzDigJQxJylcbiAgICAgICAgcmV0dXJuIHsgd2lubmVyOiAnYmxhY2snIH07XG4gICAgZWxzZSBpZiAocyA9PT0gJzEvMi0xLzInIHx8IHMgPT09ICcxLzLigJMxLzInIHx8IHMgPT09ICcxLzLigJQxLzInKVxuICAgICAgICByZXR1cm4geyB3aW5uZXI6IHVuZGVmaW5lZCB9O1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuO1xufTtcbmNvbnN0IGVzY2FwZUhlYWRlciA9ICh2YWx1ZSkgPT4gdmFsdWUucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKS5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJyk7XG5jb25zdCBzYWZlQ29tbWVudCA9IChjb21tZW50KSA9PiBjb21tZW50LnJlcGxhY2UoL1xcfS9nLCAnJyk7XG5leHBvcnQgY29uc3QgbWFrZVBnbiA9IChnYW1lKSA9PiB7XG4gICAgY29uc3QgYnVpbGRlciA9IFtdLCB0b2tlbnMgPSBbXTtcbiAgICBpZiAoZ2FtZS5oZWFkZXJzLnNpemUpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZ2FtZS5oZWFkZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgYnVpbGRlci5wdXNoKCdbJywga2V5LCAnIFwiJywgZXNjYXBlSGVhZGVyKHZhbHVlKSwgJ1wiXVxcbicpO1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkZXIucHVzaCgnXFxuJyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY29tbWVudCBvZiBnYW1lLmNvbW1lbnRzIHx8IFtdKVxuICAgICAgICB0b2tlbnMucHVzaCgneycsIHNhZmVDb21tZW50KGNvbW1lbnQpLCAnfScpO1xuICAgIGNvbnN0IGZlbiA9IGdhbWUuaGVhZGVycy5nZXQoJ0ZFTicpO1xuICAgIGNvbnN0IGluaXRpYWxQbHkgPSBmZW5cbiAgICAgICAgPyBwYXJzZUZlbihmZW4pLnVud3JhcChzZXR1cCA9PiAoc2V0dXAuZnVsbG1vdmVzIC0gMSkgKiAyICsgKHNldHVwLnR1cm4gPT09ICd3aGl0ZScgPyAwIDogMSksIF8gPT4gMClcbiAgICAgICAgOiAwO1xuICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgY29uc3QgdmFyaWF0aW9ucyA9IGdhbWUubW92ZXMuY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIGNvbnN0IGZpcnN0VmFyaWF0aW9uID0gdmFyaWF0aW9ucy5uZXh0KCk7XG4gICAgaWYgKCFmaXJzdFZhcmlhdGlvbi5kb25lKSB7XG4gICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgc3RhdGU6IDAgLyogTWFrZVBnblN0YXRlLlByZSAqLyxcbiAgICAgICAgICAgIHBseTogaW5pdGlhbFBseSxcbiAgICAgICAgICAgIG5vZGU6IGZpcnN0VmFyaWF0aW9uLnZhbHVlLFxuICAgICAgICAgICAgc2lkZWxpbmVzOiB2YXJpYXRpb25zLFxuICAgICAgICAgICAgc3RhcnRzVmFyaWF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgIGluVmFyaWF0aW9uOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBmb3JjZU1vdmVOdW1iZXIgPSB0cnVlO1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGZyYW1lLmluVmFyaWF0aW9uKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCgnKScpO1xuICAgICAgICAgICAgZnJhbWUuaW5WYXJpYXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIGZvcmNlTW92ZU51bWJlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChmcmFtZS5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIE1ha2VQZ25TdGF0ZS5QcmUgKi86XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb21tZW50IG9mIGZyYW1lLm5vZGUuZGF0YS5zdGFydGluZ0NvbW1lbnRzIHx8IFtdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKCd7Jywgc2FmZUNvbW1lbnQoY29tbWVudCksICd9Jyk7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlTW92ZU51bWJlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmb3JjZU1vdmVOdW1iZXIgfHwgZnJhbWUucGx5ICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChNYXRoLmZsb29yKGZyYW1lLnBseSAvIDIpICsgMSArIChmcmFtZS5wbHkgJSAyID8gJy4uLicgOiAnLicpKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VNb3ZlTnVtYmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGZyYW1lLm5vZGUuZGF0YS5zYW4pO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmFnIG9mIGZyYW1lLm5vZGUuZGF0YS5uYWdzIHx8IFtdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKCckJyArIG5hZyk7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlTW92ZU51bWJlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29tbWVudCBvZiBmcmFtZS5ub2RlLmRhdGEuY29tbWVudHMgfHwgW10pIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goJ3snLCBzYWZlQ29tbWVudChjb21tZW50KSwgJ30nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnJhbWUuc3RhdGUgPSAxIC8qIE1ha2VQZ25TdGF0ZS5TaWRlbGluZXMgKi87IC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICAgICAgY2FzZSAxIC8qIE1ha2VQZ25TdGF0ZS5TaWRlbGluZXMgKi86IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGZyYW1lLnNpZGVsaW5lcy5uZXh0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWF0aW9ucyA9IGZyYW1lLm5vZGUuY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFZhcmlhdGlvbiA9IHZhcmlhdGlvbnMubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0VmFyaWF0aW9uLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAwIC8qIE1ha2VQZ25TdGF0ZS5QcmUgKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx5OiBmcmFtZS5wbHkgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IGZpcnN0VmFyaWF0aW9uLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVsaW5lczogdmFyaWF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydHNWYXJpYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluVmFyaWF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lLnN0YXRlID0gMiAvKiBNYWtlUGduU3RhdGUuRW5kICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goJygnKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VNb3ZlTnVtYmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogMCAvKiBNYWtlUGduU3RhdGUuUHJlICovLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGx5OiBmcmFtZS5wbHksXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBjaGlsZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVsaW5lczogW11bU3ltYm9sLml0ZXJhdG9yXSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRzVmFyaWF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5WYXJpYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUuaW5WYXJpYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMiAvKiBNYWtlUGduU3RhdGUuRW5kICovOlxuICAgICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2Vucy5wdXNoKG1ha2VPdXRjb21lKHBhcnNlT3V0Y29tZShnYW1lLmhlYWRlcnMuZ2V0KCdSZXN1bHQnKSkpKTtcbiAgICBidWlsZGVyLnB1c2godG9rZW5zLmpvaW4oJyAnKSwgJ1xcbicpO1xuICAgIHJldHVybiBidWlsZGVyLmpvaW4oJycpO1xufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0SGVhZGVycyA9ICgpID0+IG5ldyBNYXAoW1xuICAgIFsnRXZlbnQnLCAnPyddLFxuICAgIFsnU2l0ZScsICc/J10sXG4gICAgWydEYXRlJywgJz8/Pz8uPz8uPz8nXSxcbiAgICBbJ1JvdW5kJywgJz8nXSxcbiAgICBbJ1doaXRlJywgJz8nXSxcbiAgICBbJ0JsYWNrJywgJz8nXSxcbiAgICBbJ1Jlc3VsdCcsICcqJ10sXG5dKTtcbmV4cG9ydCBjb25zdCBlbXB0eUhlYWRlcnMgPSAoKSA9PiBuZXcgTWFwKCk7XG5jb25zdCBCT00gPSAnXFx1ZmVmZic7XG5jb25zdCBpc1doaXRlc3BhY2UgPSAobGluZSkgPT4gL15cXHMqJC8udGVzdChsaW5lKTtcbmNvbnN0IGlzQ29tbWVudExpbmUgPSAobGluZSkgPT4gbGluZS5zdGFydHNXaXRoKCclJyk7XG5leHBvcnQgY2xhc3MgUGduRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgUGduUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihlbWl0R2FtZSwgaW5pdEhlYWRlcnMgPSBkZWZhdWx0SGVhZGVycywgbWF4QnVkZ2V0ID0gMTAwMDAwMCkge1xuICAgICAgICB0aGlzLmVtaXRHYW1lID0gZW1pdEdhbWU7XG4gICAgICAgIHRoaXMuaW5pdEhlYWRlcnMgPSBpbml0SGVhZGVycztcbiAgICAgICAgdGhpcy5tYXhCdWRnZXQgPSBtYXhCdWRnZXQ7XG4gICAgICAgIHRoaXMubGluZUJ1ZiA9IFtdO1xuICAgICAgICB0aGlzLnJlc2V0R2FtZSgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gMCAvKiBQYXJzZXJTdGF0ZS5Cb20gKi87XG4gICAgfVxuICAgIHJlc2V0R2FtZSgpIHtcbiAgICAgICAgdGhpcy5idWRnZXQgPSB0aGlzLm1heEJ1ZGdldDtcbiAgICAgICAgdGhpcy5mb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXRlID0gMSAvKiBQYXJzZXJTdGF0ZS5QcmUgKi87XG4gICAgICAgIHRoaXMuZ2FtZSA9IGRlZmF1bHRHYW1lKHRoaXMuaW5pdEhlYWRlcnMpO1xuICAgICAgICB0aGlzLnN0YWNrID0gW3sgcGFyZW50OiB0aGlzLmdhbWUubW92ZXMsIHJvb3Q6IHRydWUgfV07XG4gICAgICAgIHRoaXMuY29tbWVudEJ1ZiA9IFtdO1xuICAgIH1cbiAgICBjb25zdW1lQnVkZ2V0KGNvc3QpIHtcbiAgICAgICAgdGhpcy5idWRnZXQgLT0gY29zdDtcbiAgICAgICAgaWYgKHRoaXMuYnVkZ2V0IDwgMClcbiAgICAgICAgICAgIHRocm93IG5ldyBQZ25FcnJvcignRVJSX1BHTl9CVURHRVQnKTtcbiAgICB9XG4gICAgcGFyc2UoZGF0YSwgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5idWRnZXQgPCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGlkeCA9IDA7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmxJZHggPSBkYXRhLmluZGV4T2YoJ1xcbicsIGlkeCk7XG4gICAgICAgICAgICAgICAgaWYgKG5sSWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3JJZHggPSBubElkeCA+IGlkeCAmJiBkYXRhW25sSWR4IC0gMV0gPT09ICdcXHInID8gbmxJZHggLSAxIDogbmxJZHg7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQnVkZ2V0KG5sSWR4IC0gaWR4KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVCdWYucHVzaChkYXRhLnNsaWNlKGlkeCwgY3JJZHgpKTtcbiAgICAgICAgICAgICAgICBpZHggPSBubElkeCArIDE7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMaW5lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVCdWRnZXQoZGF0YS5sZW5ndGggLSBpZHgpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmLnB1c2goZGF0YS5zbGljZShpZHgpKTtcbiAgICAgICAgICAgIGlmICghKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zdHJlYW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMaW5lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5lbWl0KGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlTGluZSgpIHtcbiAgICAgICAgbGV0IGZyZXNoTGluZSA9IHRydWU7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5saW5lQnVmLmpvaW4oJycpO1xuICAgICAgICB0aGlzLmxpbmVCdWYgPSBbXTtcbiAgICAgICAgY29udGludWVkTGluZTogZm9yICg7Oykge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIFBhcnNlclN0YXRlLkJvbSAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aChCT00pKVxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUuc2xpY2UoQk9NLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxIC8qIFBhcnNlclN0YXRlLlByZSAqLzsgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgY2FzZSAxIC8qIFBhcnNlclN0YXRlLlByZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShsaW5lKSB8fCBpc0NvbW1lbnRMaW5lKGxpbmUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDIgLyogUGFyc2VyU3RhdGUuSGVhZGVycyAqLzsgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgY2FzZSAyIC8qIFBhcnNlclN0YXRlLkhlYWRlcnMgKi86IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tbWVudExpbmUobGluZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb3JlSGVhZGVycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChtb3JlSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9yZUhlYWRlcnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnJlcGxhY2UoL15cXHMqXFxbKFtBLVphLXowLTldW0EtWmEtejAtOV8rIz06LV0qKVxccytcIigoPzpbXlwiXFxcXF18XFxcXFwifFxcXFxcXFxcKSopXCJcXF0vLCAoX21hdGNoLCBoZWFkZXJOYW1lLCBoZWFkZXJWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJ1ZGdldCgyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlSGVhZGVyKGhlYWRlck5hbWUsIGhlYWRlclZhbHVlLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKS5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnXFxcXCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JlSGVhZGVycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc2hMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShsaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDMgLyogUGFyc2VyU3RhdGUuTW92ZXMgKi87IC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDMgLyogUGFyc2VyU3RhdGUuTW92ZXMgKi86IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNoTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tbWVudExpbmUobGluZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShsaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5SZWdleCA9IC8oPzpbTkJLUlFdP1thLWhdP1sxLThdP1steF0/W2EtaF1bMS04XSg/Oj0/W25icnFrTkJSUUtdKT98W3BuYnJxa1BOQlJRS10/QFthLWhdWzEtOF18W08wb11bLeKAk+KAlF1bTzBvXSg/Olst4oCT4oCUXVtPMG9dKT8pWysjXT98LS18WjB8MDAwMHxAQEBAfHt8O3xcXCRcXGR7MSw0fXxbPyFdezEsMn18XFwofFxcKXxcXCp8MVst4oCT4oCUXTB8MFst4oCT4oCUXTF8MVxcLzJbLeKAk+KAlF0xXFwvMi9nO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSB0b2tlblJlZ2V4LmV4ZWMobGluZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b2tlbiA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuID09PSAnOycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnJCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmFnKHBhcnNlSW50KHRva2VuLnNsaWNlKDEpLCAxMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4gPT09ICchJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hZygxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuID09PSAnPycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYWcoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbiA9PT0gJyEhJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hZygzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuID09PSAnPz8nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmFnKDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4gPT09ICchPycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYWcoNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbiA9PT0gJz8hJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hZyg2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuID09PSAnMS0wJyB8fCB0b2tlbiA9PT0gJzHigJMwJyB8fCB0b2tlbiA9PT0gJzHigJQwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRva2VuID09PSAnMC0xJyB8fCB0b2tlbiA9PT0gJzDigJMxJyB8fCB0b2tlbiA9PT0gJzDigJQxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRva2VuID09PSAnMS8yLTEvMicgfHwgdG9rZW4gPT09ICcxLzLigJMxLzInIHx8IHRva2VuID09PSAnMS8y4oCUMS8yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRva2VuID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPT09IDEgJiYgdG9rZW4gIT09ICcqJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVIZWFkZXIoJ1Jlc3VsdCcsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuID09PSAnKCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVCdWRnZXQoMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2goeyBwYXJlbnQ6IGZyYW1lLnBhcmVudCwgcm9vdDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbiA9PT0gJyknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoID4gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuID09PSAneycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGVuSW5kZXggPSB0b2tlblJlZ2V4Lmxhc3RJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiZWdpbkluZGV4ID0gbGluZVtvcGVuSW5kZXhdID09PSAnICcgPyBvcGVuSW5kZXggKyAxIDogb3BlbkluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKGJlZ2luSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSA0IC8qIFBhcnNlclN0YXRlLkNvbW1lbnQgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgY29udGludWVkTGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJ1ZGdldCgxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5zdGFydHNXaXRoKCdPJykgfHwgdG9rZW4uc3RhcnRzV2l0aCgnMCcpIHx8IHRva2VuLnN0YXJ0c1dpdGgoJ28nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuLnJlcGxhY2UoL1swb10vZywgJ08nKS5yZXBsYWNlKC9b4oCT4oCUXS9nLCAnLScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbiA9PT0gJ1owJyB8fCB0b2tlbiA9PT0gJzAwMDAnIHx8IHRva2VuID09PSAnQEBAQCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gJy0tJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhbWUubm9kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUucGFyZW50ID0gZnJhbWUubm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5ub2RlID0gbmV3IENoaWxkTm9kZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nQ29tbWVudHM6IGZyYW1lLnN0YXJ0aW5nQ29tbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuc3RhcnRpbmdDb21tZW50cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5yb290ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUucGFyZW50LmNoaWxkcmVuLnB1c2goZnJhbWUubm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDQgLyogUGFyc2VyU3RhdGUuQ29tbWVudCAqLzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9zZUluZGV4ID0gbGluZS5pbmRleE9mKCd9Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tZW50QnVmLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IGNsb3NlSW5kZXggPiAwICYmIGxpbmVbY2xvc2VJbmRleCAtIDFdID09PSAnICcgPyBjbG9zZUluZGV4IC0gMSA6IGNsb3NlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRCdWYucHVzaChsaW5lLnNsaWNlKDAsIGVuZEluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNvbW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKGNsb3NlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDMgLyogUGFyc2VyU3RhdGUuTW92ZXMgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmVzaExpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVIZWFkZXIobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5nYW1lLmhlYWRlcnMuc2V0KG5hbWUsIG5hbWUgPT09ICdSZXN1bHQnID8gbWFrZU91dGNvbWUocGFyc2VPdXRjb21lKHZhbHVlKSkgOiB2YWx1ZSk7XG4gICAgfVxuICAgIGhhbmRsZU5hZyhuYWcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmNvbnN1bWVCdWRnZXQoNTApO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGZyYW1lLm5vZGUpIHtcbiAgICAgICAgICAgIChfYSA9IGZyYW1lLm5vZGUuZGF0YSkubmFncyB8fCAoX2EubmFncyA9IFtdKTtcbiAgICAgICAgICAgIGZyYW1lLm5vZGUuZGF0YS5uYWdzLnB1c2gobmFnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDb21tZW50KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmNvbnN1bWVCdWRnZXQoMTAwKTtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmNvbW1lbnRCdWYuam9pbignXFxuJyk7XG4gICAgICAgIHRoaXMuY29tbWVudEJ1ZiA9IFtdO1xuICAgICAgICBpZiAoZnJhbWUubm9kZSkge1xuICAgICAgICAgICAgKF9hID0gZnJhbWUubm9kZS5kYXRhKS5jb21tZW50cyB8fCAoX2EuY29tbWVudHMgPSBbXSk7XG4gICAgICAgICAgICBmcmFtZS5ub2RlLmRhdGEuY29tbWVudHMucHVzaChjb21tZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmcmFtZS5yb290KSB7XG4gICAgICAgICAgICAoX2IgPSB0aGlzLmdhbWUpLmNvbW1lbnRzIHx8IChfYi5jb21tZW50cyA9IFtdKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5jb21tZW50cy5wdXNoKGNvbW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUuc3RhcnRpbmdDb21tZW50cyB8fCAoZnJhbWUuc3RhcnRpbmdDb21tZW50cyA9IFtdKTtcbiAgICAgICAgICAgIGZyYW1lLnN0YXJ0aW5nQ29tbWVudHMucHVzaChjb21tZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbWl0KGVycikge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gNCAvKiBQYXJzZXJTdGF0ZS5Db21tZW50ICovKVxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tZW50KCk7XG4gICAgICAgIGlmIChlcnIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0R2FtZSh0aGlzLmdhbWUsIGVycik7XG4gICAgICAgIGlmICh0aGlzLmZvdW5kKVxuICAgICAgICAgICAgdGhpcy5lbWl0R2FtZSh0aGlzLmdhbWUsIHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMucmVzZXRHYW1lKCk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IHBhcnNlUGduID0gKHBnbiwgaW5pdEhlYWRlcnMgPSBkZWZhdWx0SGVhZGVycykgPT4ge1xuICAgIGNvbnN0IGdhbWVzID0gW107XG4gICAgbmV3IFBnblBhcnNlcihnYW1lID0+IGdhbWVzLnB1c2goZ2FtZSksIGluaXRIZWFkZXJzLCBOYU4pLnBhcnNlKHBnbik7XG4gICAgcmV0dXJuIGdhbWVzO1xufTtcbmV4cG9ydCBjb25zdCBwYXJzZVZhcmlhbnQgPSAodmFyaWFudCkgPT4ge1xuICAgIHN3aXRjaCAoKHZhcmlhbnQgfHwgJ2NoZXNzJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdjaGVzcyc6XG4gICAgICAgIGNhc2UgJ2NoZXNzOTYwJzpcbiAgICAgICAgY2FzZSAnY2hlc3MgOTYwJzpcbiAgICAgICAgY2FzZSAnc3RhbmRhcmQnOlxuICAgICAgICBjYXNlICdmcm9tIHBvc2l0aW9uJzpcbiAgICAgICAgY2FzZSAnY2xhc3NpY2FsJzpcbiAgICAgICAgY2FzZSAnbm9ybWFsJzpcbiAgICAgICAgY2FzZSAnZmlzY2hlcmFuZG9tJzogLy8gQ3V0ZSBDaGVzc1xuICAgICAgICBjYXNlICdmaXNjaGVycmFuZG9tJzpcbiAgICAgICAgY2FzZSAnZmlzY2hlciByYW5kb20nOlxuICAgICAgICBjYXNlICd3aWxkLzAnOlxuICAgICAgICBjYXNlICd3aWxkLzEnOlxuICAgICAgICBjYXNlICd3aWxkLzInOlxuICAgICAgICBjYXNlICd3aWxkLzMnOlxuICAgICAgICBjYXNlICd3aWxkLzQnOlxuICAgICAgICBjYXNlICd3aWxkLzUnOlxuICAgICAgICBjYXNlICd3aWxkLzYnOlxuICAgICAgICBjYXNlICd3aWxkLzcnOlxuICAgICAgICBjYXNlICd3aWxkLzgnOlxuICAgICAgICBjYXNlICd3aWxkLzhhJzpcbiAgICAgICAgICAgIHJldHVybiAnY2hlc3MnO1xuICAgICAgICBjYXNlICdjcmF6eWhvdXNlJzpcbiAgICAgICAgY2FzZSAnY3JhenkgaG91c2UnOlxuICAgICAgICBjYXNlICdob3VzZSc6XG4gICAgICAgIGNhc2UgJ3poJzpcbiAgICAgICAgICAgIHJldHVybiAnY3Jhenlob3VzZSc7XG4gICAgICAgIGNhc2UgJ2tpbmcgb2YgdGhlIGhpbGwnOlxuICAgICAgICBjYXNlICdrb3RoJzpcbiAgICAgICAgY2FzZSAna2luZ29mdGhlaGlsbCc6XG4gICAgICAgICAgICByZXR1cm4gJ2tpbmdvZnRoZWhpbGwnO1xuICAgICAgICBjYXNlICd0aHJlZS1jaGVjayc6XG4gICAgICAgIGNhc2UgJ3RocmVlIGNoZWNrJzpcbiAgICAgICAgY2FzZSAndGhyZWVjaGVjayc6XG4gICAgICAgIGNhc2UgJ3RocmVlIGNoZWNrIGNoZXNzJzpcbiAgICAgICAgY2FzZSAnMy1jaGVjayc6XG4gICAgICAgIGNhc2UgJzMgY2hlY2snOlxuICAgICAgICBjYXNlICczY2hlY2snOlxuICAgICAgICAgICAgcmV0dXJuICczY2hlY2snO1xuICAgICAgICBjYXNlICdhbnRpY2hlc3MnOlxuICAgICAgICBjYXNlICdhbnRpIGNoZXNzJzpcbiAgICAgICAgY2FzZSAnYW50aSc6XG4gICAgICAgICAgICByZXR1cm4gJ2FudGljaGVzcyc7XG4gICAgICAgIGNhc2UgJ2F0b21pYyc6XG4gICAgICAgIGNhc2UgJ2F0b20nOlxuICAgICAgICBjYXNlICdhdG9taWMgY2hlc3MnOlxuICAgICAgICAgICAgcmV0dXJuICdhdG9taWMnO1xuICAgICAgICBjYXNlICdob3JkZSc6XG4gICAgICAgIGNhc2UgJ2hvcmRlIGNoZXNzJzpcbiAgICAgICAgICAgIHJldHVybiAnaG9yZGUnO1xuICAgICAgICBjYXNlICdyYWNpbmcga2luZ3MnOlxuICAgICAgICBjYXNlICdyYWNpbmdraW5ncyc6XG4gICAgICAgIGNhc2UgJ3JhY2luZyc6XG4gICAgICAgIGNhc2UgJ3JhY2UnOlxuICAgICAgICAgICAgcmV0dXJuICdyYWNpbmdraW5ncyc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBtYWtlVmFyaWFudCA9IChydWxlcykgPT4ge1xuICAgIHN3aXRjaCAocnVsZXMpIHtcbiAgICAgICAgY2FzZSAnY2hlc3MnOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlICdjcmF6eWhvdXNlJzpcbiAgICAgICAgICAgIHJldHVybiAnQ3Jhenlob3VzZSc7XG4gICAgICAgIGNhc2UgJ3JhY2luZ2tpbmdzJzpcbiAgICAgICAgICAgIHJldHVybiAnUmFjaW5nIEtpbmdzJztcbiAgICAgICAgY2FzZSAnaG9yZGUnOlxuICAgICAgICAgICAgcmV0dXJuICdIb3JkZSc7XG4gICAgICAgIGNhc2UgJ2F0b21pYyc6XG4gICAgICAgICAgICByZXR1cm4gJ0F0b21pYyc7XG4gICAgICAgIGNhc2UgJ2FudGljaGVzcyc6XG4gICAgICAgICAgICByZXR1cm4gJ0FudGljaGVzcyc7XG4gICAgICAgIGNhc2UgJzNjaGVjayc6XG4gICAgICAgICAgICByZXR1cm4gJ1RocmVlLWNoZWNrJztcbiAgICAgICAgY2FzZSAna2luZ29mdGhlaGlsbCc6XG4gICAgICAgICAgICByZXR1cm4gJ0tpbmcgb2YgdGhlIEhpbGwnO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgc3RhcnRpbmdQb3NpdGlvbiA9IChoZWFkZXJzKSA9PiB7XG4gICAgY29uc3QgcnVsZXMgPSBwYXJzZVZhcmlhbnQoaGVhZGVycy5nZXQoJ1ZhcmlhbnQnKSk7XG4gICAgaWYgKCFydWxlcylcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IFBvc2l0aW9uRXJyb3IoSWxsZWdhbFNldHVwLlZhcmlhbnQpKTtcbiAgICBjb25zdCBmZW4gPSBoZWFkZXJzLmdldCgnRkVOJyk7XG4gICAgaWYgKGZlbilcbiAgICAgICAgcmV0dXJuIHBhcnNlRmVuKGZlbikuY2hhaW4oc2V0dXAgPT4gc2V0dXBQb3NpdGlvbihydWxlcywgc2V0dXApKTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBSZXN1bHQub2soZGVmYXVsdFBvc2l0aW9uKHJ1bGVzKSk7XG59O1xuZXhwb3J0IGNvbnN0IHNldFN0YXJ0aW5nUG9zaXRpb24gPSAoaGVhZGVycywgcG9zKSA9PiB7XG4gICAgY29uc3QgdmFyaWFudCA9IG1ha2VWYXJpYW50KHBvcy5ydWxlcyk7XG4gICAgaWYgKHZhcmlhbnQpXG4gICAgICAgIGhlYWRlcnMuc2V0KCdWYXJpYW50JywgdmFyaWFudCk7XG4gICAgZWxzZVxuICAgICAgICBoZWFkZXJzLmRlbGV0ZSgnVmFyaWFudCcpO1xuICAgIGNvbnN0IGZlbiA9IG1ha2VGZW4ocG9zLnRvU2V0dXAoKSk7XG4gICAgY29uc3QgZGVmYXVsdEZlbiA9IG1ha2VGZW4oZGVmYXVsdFBvc2l0aW9uKHBvcy5ydWxlcykudG9TZXR1cCgpKTtcbiAgICBpZiAoZmVuICE9PSBkZWZhdWx0RmVuKVxuICAgICAgICBoZWFkZXJzLnNldCgnRkVOJywgZmVuKTtcbiAgICBlbHNlXG4gICAgICAgIGhlYWRlcnMuZGVsZXRlKCdGRU4nKTtcbn07XG5leHBvcnQgY29uc3QgaXNQYXducyA9IChldikgPT4gJ3Bhd25zJyBpbiBldjtcbmV4cG9ydCBjb25zdCBpc01hdGUgPSAoZXYpID0+ICdtYXRlJyBpbiBldjtcbmNvbnN0IG1ha2VDbGsgPSAoc2Vjb25kcykgPT4ge1xuICAgIHNlY29uZHMgPSBNYXRoLm1heCgwLCBzZWNvbmRzKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCk7XG4gICAgc2Vjb25kcyA9IChzZWNvbmRzICUgMzYwMCkgJSA2MDtcbiAgICByZXR1cm4gYCR7aG91cnN9OiR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2Vjb25kcy50b0xvY2FsZVN0cmluZygnZW4nLCB7XG4gICAgICAgIG1pbmltdW1JbnRlZ2VyRGlnaXRzOiAyLFxuICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDMsXG4gICAgfSl9YDtcbn07XG5jb25zdCBtYWtlQ29tbWVudFNoYXBlQ29sb3IgPSAoY29sb3IpID0+IHtcbiAgICBzd2l0Y2ggKGNvbG9yKSB7XG4gICAgICAgIGNhc2UgJ2dyZWVuJzpcbiAgICAgICAgICAgIHJldHVybiAnRyc7XG4gICAgICAgIGNhc2UgJ3JlZCc6XG4gICAgICAgICAgICByZXR1cm4gJ1InO1xuICAgICAgICBjYXNlICd5ZWxsb3cnOlxuICAgICAgICAgICAgcmV0dXJuICdZJztcbiAgICAgICAgY2FzZSAnYmx1ZSc6XG4gICAgICAgICAgICByZXR1cm4gJ0InO1xuICAgIH1cbn07XG5mdW5jdGlvbiBwYXJzZUNvbW1lbnRTaGFwZUNvbG9yKHN0cikge1xuICAgIHN3aXRjaCAoc3RyKSB7XG4gICAgICAgIGNhc2UgJ0cnOlxuICAgICAgICAgICAgcmV0dXJuICdncmVlbic7XG4gICAgICAgIGNhc2UgJ1InOlxuICAgICAgICAgICAgcmV0dXJuICdyZWQnO1xuICAgICAgICBjYXNlICdZJzpcbiAgICAgICAgICAgIHJldHVybiAneWVsbG93JztcbiAgICAgICAgY2FzZSAnQic6XG4gICAgICAgICAgICByZXR1cm4gJ2JsdWUnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmNvbnN0IG1ha2VDb21tZW50U2hhcGUgPSAoc2hhcGUpID0+IHNoYXBlLnRvID09PSBzaGFwZS5mcm9tXG4gICAgPyBgJHttYWtlQ29tbWVudFNoYXBlQ29sb3Ioc2hhcGUuY29sb3IpfSR7bWFrZVNxdWFyZShzaGFwZS50byl9YFxuICAgIDogYCR7bWFrZUNvbW1lbnRTaGFwZUNvbG9yKHNoYXBlLmNvbG9yKX0ke21ha2VTcXVhcmUoc2hhcGUuZnJvbSl9JHttYWtlU3F1YXJlKHNoYXBlLnRvKX1gO1xuY29uc3QgcGFyc2VDb21tZW50U2hhcGUgPSAoc3RyKSA9PiB7XG4gICAgY29uc3QgY29sb3IgPSBwYXJzZUNvbW1lbnRTaGFwZUNvbG9yKHN0ci5zbGljZSgwLCAxKSk7XG4gICAgY29uc3QgZnJvbSA9IHBhcnNlU3F1YXJlKHN0ci5zbGljZSgxLCAzKSk7XG4gICAgY29uc3QgdG8gPSBwYXJzZVNxdWFyZShzdHIuc2xpY2UoMywgNSkpO1xuICAgIGlmICghY29sb3IgfHwgIWRlZmluZWQoZnJvbSkpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMylcbiAgICAgICAgcmV0dXJuIHsgY29sb3IsIGZyb20sIHRvOiBmcm9tIH07XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDUgJiYgZGVmaW5lZCh0bykpXG4gICAgICAgIHJldHVybiB7IGNvbG9yLCBmcm9tLCB0byB9O1xuICAgIHJldHVybjtcbn07XG5jb25zdCBtYWtlRXZhbCA9IChldikgPT4ge1xuICAgIGNvbnN0IHN0ciA9IGlzTWF0ZShldikgPyAnIycgKyBldi5tYXRlIDogZXYucGF3bnMudG9GaXhlZCgyKTtcbiAgICByZXR1cm4gZGVmaW5lZChldi5kZXB0aCkgPyBzdHIgKyAnLCcgKyBldi5kZXB0aCA6IHN0cjtcbn07XG5leHBvcnQgY29uc3QgbWFrZUNvbW1lbnQgPSAoY29tbWVudCkgPT4ge1xuICAgIGNvbnN0IGJ1aWxkZXIgPSBbXTtcbiAgICBpZiAoZGVmaW5lZChjb21tZW50LnRleHQpKVxuICAgICAgICBidWlsZGVyLnB1c2goY29tbWVudC50ZXh0KTtcbiAgICBjb25zdCBjaXJjbGVzID0gKGNvbW1lbnQuc2hhcGVzIHx8IFtdKS5maWx0ZXIoc2hhcGUgPT4gc2hhcGUudG8gPT09IHNoYXBlLmZyb20pLm1hcChtYWtlQ29tbWVudFNoYXBlKTtcbiAgICBpZiAoY2lyY2xlcy5sZW5ndGgpXG4gICAgICAgIGJ1aWxkZXIucHVzaChgWyVjc2wgJHtjaXJjbGVzLmpvaW4oJywnKX1dYCk7XG4gICAgY29uc3QgYXJyb3dzID0gKGNvbW1lbnQuc2hhcGVzIHx8IFtdKS5maWx0ZXIoc2hhcGUgPT4gc2hhcGUudG8gIT09IHNoYXBlLmZyb20pLm1hcChtYWtlQ29tbWVudFNoYXBlKTtcbiAgICBpZiAoYXJyb3dzLmxlbmd0aClcbiAgICAgICAgYnVpbGRlci5wdXNoKGBbJWNhbCAke2Fycm93cy5qb2luKCcsJyl9XWApO1xuICAgIGlmIChjb21tZW50LmV2YWx1YXRpb24pXG4gICAgICAgIGJ1aWxkZXIucHVzaChgWyVldmFsICR7bWFrZUV2YWwoY29tbWVudC5ldmFsdWF0aW9uKX1dYCk7XG4gICAgaWYgKGRlZmluZWQoY29tbWVudC5lbXQpKVxuICAgICAgICBidWlsZGVyLnB1c2goYFslZW10ICR7bWFrZUNsayhjb21tZW50LmVtdCl9XWApO1xuICAgIGlmIChkZWZpbmVkKGNvbW1lbnQuY2xvY2spKVxuICAgICAgICBidWlsZGVyLnB1c2goYFslY2xrICR7bWFrZUNsayhjb21tZW50LmNsb2NrKX1dYCk7XG4gICAgcmV0dXJuIGJ1aWxkZXIuam9pbignICcpO1xufTtcbmV4cG9ydCBjb25zdCBwYXJzZUNvbW1lbnQgPSAoY29tbWVudCkgPT4ge1xuICAgIGxldCBlbXQsIGNsb2NrLCBldmFsdWF0aW9uO1xuICAgIGNvbnN0IHNoYXBlcyA9IFtdO1xuICAgIGNvbnN0IHRleHQgPSBjb21tZW50XG4gICAgICAgIC5yZXBsYWNlKC9cXHM/XFxbJShlbXR8Y2xrKVxccyhcXGR7MSw1fSk6KFxcZHsxLDJ9KTooXFxkezEsMn0oPzpcXC5cXGR7MCwzfSk/KVxcXVxccz8vZywgKF8sIGFubm90YXRpb24sIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoaG91cnMsIDEwKSAqIDM2MDAgKyBwYXJzZUludChtaW51dGVzLCAxMCkgKiA2MCArIHBhcnNlRmxvYXQoc2Vjb25kcyk7XG4gICAgICAgIGlmIChhbm5vdGF0aW9uID09PSAnZW10JylcbiAgICAgICAgICAgIGVtdCA9IHZhbHVlO1xuICAgICAgICBlbHNlIGlmIChhbm5vdGF0aW9uID09PSAnY2xrJylcbiAgICAgICAgICAgIGNsb2NrID0gdmFsdWU7XG4gICAgICAgIHJldHVybiAnICAnO1xuICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKC9cXHM/XFxbJSg/OmNzbHxjYWwpXFxzKFtSR1lCXVthLWhdWzEtOF0oPzpbYS1oXVsxLThdKT8oPzosW1JHWUJdW2EtaF1bMS04XSg/OlthLWhdWzEtOF0pPykqKVxcXVxccz8vZywgKF8sIGFycm93cykgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGFycm93IG9mIGFycm93cy5zcGxpdCgnLCcpKSB7XG4gICAgICAgICAgICBzaGFwZXMucHVzaChwYXJzZUNvbW1lbnRTaGFwZShhcnJvdykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnICAnO1xuICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKC9cXHM/XFxbJWV2YWxcXHMoPzojKFsrLV0/XFxkezEsNX0pfChbKy1dPyg/OlxcZHsxLDV9fFxcZHswLDV9XFwuXFxkezEsMn0pKSkoPzosKFxcZHsxLDV9KSk/XFxdXFxzPy9nLCAoXywgbWF0ZSwgcGF3bnMsIGQpID0+IHtcbiAgICAgICAgY29uc3QgZGVwdGggPSBkICYmIHBhcnNlSW50KGQsIDEwKTtcbiAgICAgICAgZXZhbHVhdGlvbiA9IG1hdGUgPyB7IG1hdGU6IHBhcnNlSW50KG1hdGUsIDEwKSwgZGVwdGggfSA6IHsgcGF3bnM6IHBhcnNlRmxvYXQocGF3bnMpLCBkZXB0aCB9O1xuICAgICAgICByZXR1cm4gJyAgJztcbiAgICB9KVxuICAgICAgICAudHJpbSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRleHQsXG4gICAgICAgIHNoYXBlcyxcbiAgICAgICAgZW10LFxuICAgICAgICBjbG9jayxcbiAgICAgICAgZXZhbHVhdGlvbixcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBnbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/pgn.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/san.js":
/*!***********************************************!*\
  !*** ./node_modules/chessops/dist/esm/san.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeSan: () => (/* binding */ makeSan),\n/* harmony export */   makeSanAndPlay: () => (/* binding */ makeSanAndPlay),\n/* harmony export */   makeSanVariation: () => (/* binding */ makeSanVariation),\n/* harmony export */   parseSan: () => (/* binding */ parseSan)\n/* harmony export */ });\n/* harmony import */ var _attacks_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attacks.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/attacks.js\");\n/* harmony import */ var _squareSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./squareSet.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/util.js\");\n\n\n\n\nconst makeSanWithoutSuffix = (pos, move) => {\n    let san = '';\n    if ((0,_types_js__WEBPACK_IMPORTED_MODULE_0__.isDrop)(move)) {\n        if (move.role !== 'pawn')\n            san = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.roleToChar)(move.role).toUpperCase();\n        san += '@' + (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.makeSquare)(move.to);\n    }\n    else {\n        const role = pos.board.getRole(move.from);\n        if (!role)\n            return '--';\n        if (role === 'king' && (pos.board[pos.turn].has(move.to) || Math.abs(move.to - move.from) === 2)) {\n            san = move.to > move.from ? 'O-O' : 'O-O-O';\n        }\n        else {\n            const capture = pos.board.occupied.has(move.to)\n                || (role === 'pawn' && (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(move.from) !== (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(move.to));\n            if (role !== 'pawn') {\n                san = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.roleToChar)(role).toUpperCase();\n                // Disambiguation\n                let others;\n                if (role === 'king')\n                    others = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_2__.kingAttacks)(move.to).intersect(pos.board.king);\n                else if (role === 'queen')\n                    others = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_2__.queenAttacks)(move.to, pos.board.occupied).intersect(pos.board.queen);\n                else if (role === 'rook')\n                    others = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_2__.rookAttacks)(move.to, pos.board.occupied).intersect(pos.board.rook);\n                else if (role === 'bishop')\n                    others = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_2__.bishopAttacks)(move.to, pos.board.occupied).intersect(pos.board.bishop);\n                else\n                    others = (0,_attacks_js__WEBPACK_IMPORTED_MODULE_2__.knightAttacks)(move.to).intersect(pos.board.knight);\n                others = others.intersect(pos.board[pos.turn]).without(move.from);\n                if (others.nonEmpty()) {\n                    const ctx = pos.ctx();\n                    for (const from of others) {\n                        if (!pos.dests(from, ctx).has(move.to))\n                            others = others.without(from);\n                    }\n                    if (others.nonEmpty()) {\n                        let row = false;\n                        let column = others.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.fromRank((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareRank)(move.from)));\n                        if (others.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.fromFile((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(move.from))))\n                            row = true;\n                        else\n                            column = true;\n                        if (column)\n                            san += _types_js__WEBPACK_IMPORTED_MODULE_0__.FILE_NAMES[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(move.from)];\n                        if (row)\n                            san += _types_js__WEBPACK_IMPORTED_MODULE_0__.RANK_NAMES[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareRank)(move.from)];\n                    }\n                }\n            }\n            else if (capture)\n                san = _types_js__WEBPACK_IMPORTED_MODULE_0__.FILE_NAMES[(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(move.from)];\n            if (capture)\n                san += 'x';\n            san += (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.makeSquare)(move.to);\n            if (move.promotion)\n                san += '=' + (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.roleToChar)(move.promotion).toUpperCase();\n        }\n    }\n    return san;\n};\nconst makeSanAndPlay = (pos, move) => {\n    var _a;\n    const san = makeSanWithoutSuffix(pos, move);\n    pos.play(move);\n    if ((_a = pos.outcome()) === null || _a === void 0 ? void 0 : _a.winner)\n        return san + '#';\n    if (pos.isCheck())\n        return san + '+';\n    return san;\n};\nconst makeSanVariation = (pos, variation) => {\n    var _a;\n    pos = pos.clone();\n    const line = [];\n    for (let i = 0; i < variation.length; i++) {\n        if (i !== 0)\n            line.push(' ');\n        if (pos.turn === 'white')\n            line.push(pos.fullmoves, '. ');\n        else if (i === 0)\n            line.push(pos.fullmoves, '... ');\n        const san = makeSanWithoutSuffix(pos, variation[i]);\n        pos.play(variation[i]);\n        line.push(san);\n        if (san === '--')\n            return line.join('');\n        if (i === variation.length - 1 && ((_a = pos.outcome()) === null || _a === void 0 ? void 0 : _a.winner))\n            line.push('#');\n        else if (pos.isCheck())\n            line.push('+');\n    }\n    return line.join('');\n};\nconst makeSan = (pos, move) => makeSanAndPlay(pos.clone(), move);\nconst parseSan = (pos, san) => {\n    const ctx = pos.ctx();\n    // Normal move\n    const match = san.match(/^([NBRQK])?([a-h])?([1-8])?[-x]?([a-h][1-8])(?:=?([nbrqkNBRQK]))?[+#]?$/);\n    if (!match) {\n        // Castling\n        let castlingSide;\n        if (san === 'O-O' || san === 'O-O+' || san === 'O-O#')\n            castlingSide = 'h';\n        else if (san === 'O-O-O' || san === 'O-O-O+' || san === 'O-O-O#')\n            castlingSide = 'a';\n        if (castlingSide) {\n            const rook = pos.castles.rook[pos.turn][castlingSide];\n            if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(ctx.king) || !(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(rook) || !pos.dests(ctx.king, ctx).has(rook))\n                return;\n            return {\n                from: ctx.king,\n                to: rook,\n            };\n        }\n        // Drop\n        const match = san.match(/^([pnbrqkPNBRQK])?@([a-h][1-8])[+#]?$/);\n        if (!match)\n            return;\n        const move = {\n            role: match[1] ? (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.charToRole)(match[1]) : 'pawn',\n            to: (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.parseSquare)(match[2]),\n        };\n        return pos.isLegal(move, ctx) ? move : undefined;\n    }\n    const role = match[1] ? (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.charToRole)(match[1]) : 'pawn';\n    const to = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.parseSquare)(match[4]);\n    const promotion = match[5] ? (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.charToRole)(match[5]) : undefined;\n    if (!!promotion !== (role === 'pawn' && _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.backranks().has(to)))\n        return;\n    if (promotion === 'king' && pos.rules !== 'antichess')\n        return;\n    let candidates = pos.board.pieces(pos.turn, role);\n    if (role === 'pawn' && !match[2])\n        candidates = candidates.intersect(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.fromFile((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(to)));\n    else if (match[2])\n        candidates = candidates.intersect(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.fromFile(match[2].charCodeAt(0) - 'a'.charCodeAt(0)));\n    if (match[3])\n        candidates = candidates.intersect(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.fromRank(match[3].charCodeAt(0) - '1'.charCodeAt(0)));\n    // Optimization: Reduce set of candidates\n    const pawnAdvance = role === 'pawn' ? _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.fromFile((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.squareFile)(to)) : _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n    candidates = candidates.intersect(pawnAdvance.union((0,_attacks_js__WEBPACK_IMPORTED_MODULE_2__.attacks)({ color: (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.opposite)(pos.turn), role }, to, pos.board.occupied)));\n    // Check uniqueness and legality\n    let from;\n    for (const candidate of candidates) {\n        if (pos.dests(candidate, ctx).has(to)) {\n            if ((0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(from))\n                return; // Ambiguous\n            from = candidate;\n        }\n    }\n    if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.defined)(from))\n        return; // Illegal\n    return {\n        from,\n        to,\n        promotion,\n    };\n};\n//# sourceMappingURL=san.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9zYW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNkc7QUFDbEU7QUFDaUI7QUFDMkQ7QUFDdkg7QUFDQTtBQUNBLFFBQVEsaURBQU07QUFDZDtBQUNBLGtCQUFrQixvREFBVTtBQUM1QixxQkFBcUIsb0RBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsb0RBQVUsZ0JBQWdCLG9EQUFVO0FBQzNFO0FBQ0Esc0JBQXNCLG9EQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix3REFBVztBQUN4QztBQUNBLDZCQUE2Qix5REFBWTtBQUN6QztBQUNBLDZCQUE2Qix3REFBVztBQUN4QztBQUNBLDZCQUE2QiwwREFBYTtBQUMxQztBQUNBLDZCQUE2QiwwREFBYTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsb0RBQVMsVUFBVSxvREFBVTtBQUNwRiw4Q0FBOEMsb0RBQVMsVUFBVSxvREFBVTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxpREFBVSxDQUFDLG9EQUFVO0FBQ3hEO0FBQ0EsbUNBQW1DLGlEQUFVLENBQUMsb0RBQVU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaURBQVUsQ0FBQyxvREFBVTtBQUMzQztBQUNBO0FBQ0EsbUJBQW1CLG9EQUFVO0FBQzdCO0FBQ0EsNkJBQTZCLG9EQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpREFBTyxlQUFlLGlEQUFPO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0RBQVU7QUFDdkMsZ0JBQWdCLHFEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvREFBVTtBQUN0QyxlQUFlLHFEQUFXO0FBQzFCLGlDQUFpQyxvREFBVTtBQUMzQyw0Q0FBNEMsb0RBQVM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxvREFBUyxVQUFVLG9EQUFVO0FBQ3ZFO0FBQ0EsMENBQTBDLG9EQUFTO0FBQ25EO0FBQ0EsMENBQTBDLG9EQUFTO0FBQ25EO0FBQ0EsMENBQTBDLG9EQUFTLFVBQVUsb0RBQVUsUUFBUSxvREFBUztBQUN4Rix3REFBd0Qsb0RBQU8sR0FBRyxPQUFPLGtEQUFRLGtCQUFrQjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpREFBTztBQUN2Qix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpREFBTztBQUNoQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvY2hlc3NvcHMvZGlzdC9lc20vc2FuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF0dGFja3MsIGJpc2hvcEF0dGFja3MsIGtpbmdBdHRhY2tzLCBrbmlnaHRBdHRhY2tzLCBxdWVlbkF0dGFja3MsIHJvb2tBdHRhY2tzIH0gZnJvbSAnLi9hdHRhY2tzLmpzJztcbmltcG9ydCB7IFNxdWFyZVNldCB9IGZyb20gJy4vc3F1YXJlU2V0LmpzJztcbmltcG9ydCB7IEZJTEVfTkFNRVMsIGlzRHJvcCwgUkFOS19OQU1FUyB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgY2hhclRvUm9sZSwgZGVmaW5lZCwgbWFrZVNxdWFyZSwgb3Bwb3NpdGUsIHBhcnNlU3F1YXJlLCByb2xlVG9DaGFyLCBzcXVhcmVGaWxlLCBzcXVhcmVSYW5rIH0gZnJvbSAnLi91dGlsLmpzJztcbmNvbnN0IG1ha2VTYW5XaXRob3V0U3VmZml4ID0gKHBvcywgbW92ZSkgPT4ge1xuICAgIGxldCBzYW4gPSAnJztcbiAgICBpZiAoaXNEcm9wKG1vdmUpKSB7XG4gICAgICAgIGlmIChtb3ZlLnJvbGUgIT09ICdwYXduJylcbiAgICAgICAgICAgIHNhbiA9IHJvbGVUb0NoYXIobW92ZS5yb2xlKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBzYW4gKz0gJ0AnICsgbWFrZVNxdWFyZShtb3ZlLnRvKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwb3MuYm9hcmQuZ2V0Um9sZShtb3ZlLmZyb20pO1xuICAgICAgICBpZiAoIXJvbGUpXG4gICAgICAgICAgICByZXR1cm4gJy0tJztcbiAgICAgICAgaWYgKHJvbGUgPT09ICdraW5nJyAmJiAocG9zLmJvYXJkW3Bvcy50dXJuXS5oYXMobW92ZS50bykgfHwgTWF0aC5hYnMobW92ZS50byAtIG1vdmUuZnJvbSkgPT09IDIpKSB7XG4gICAgICAgICAgICBzYW4gPSBtb3ZlLnRvID4gbW92ZS5mcm9tID8gJ08tTycgOiAnTy1PLU8nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2FwdHVyZSA9IHBvcy5ib2FyZC5vY2N1cGllZC5oYXMobW92ZS50bylcbiAgICAgICAgICAgICAgICB8fCAocm9sZSA9PT0gJ3Bhd24nICYmIHNxdWFyZUZpbGUobW92ZS5mcm9tKSAhPT0gc3F1YXJlRmlsZShtb3ZlLnRvKSk7XG4gICAgICAgICAgICBpZiAocm9sZSAhPT0gJ3Bhd24nKSB7XG4gICAgICAgICAgICAgICAgc2FuID0gcm9sZVRvQ2hhcihyb2xlKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIC8vIERpc2FtYmlndWF0aW9uXG4gICAgICAgICAgICAgICAgbGV0IG90aGVycztcbiAgICAgICAgICAgICAgICBpZiAocm9sZSA9PT0gJ2tpbmcnKVxuICAgICAgICAgICAgICAgICAgICBvdGhlcnMgPSBraW5nQXR0YWNrcyhtb3ZlLnRvKS5pbnRlcnNlY3QocG9zLmJvYXJkLmtpbmcpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJvbGUgPT09ICdxdWVlbicpXG4gICAgICAgICAgICAgICAgICAgIG90aGVycyA9IHF1ZWVuQXR0YWNrcyhtb3ZlLnRvLCBwb3MuYm9hcmQub2NjdXBpZWQpLmludGVyc2VjdChwb3MuYm9hcmQucXVlZW4pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJvbGUgPT09ICdyb29rJylcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJzID0gcm9va0F0dGFja3MobW92ZS50bywgcG9zLmJvYXJkLm9jY3VwaWVkKS5pbnRlcnNlY3QocG9zLmJvYXJkLnJvb2spO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJvbGUgPT09ICdiaXNob3AnKVxuICAgICAgICAgICAgICAgICAgICBvdGhlcnMgPSBiaXNob3BBdHRhY2tzKG1vdmUudG8sIHBvcy5ib2FyZC5vY2N1cGllZCkuaW50ZXJzZWN0KHBvcy5ib2FyZC5iaXNob3ApO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJzID0ga25pZ2h0QXR0YWNrcyhtb3ZlLnRvKS5pbnRlcnNlY3QocG9zLmJvYXJkLmtuaWdodCk7XG4gICAgICAgICAgICAgICAgb3RoZXJzID0gb3RoZXJzLmludGVyc2VjdChwb3MuYm9hcmRbcG9zLnR1cm5dKS53aXRob3V0KG1vdmUuZnJvbSk7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVycy5ub25FbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IHBvcy5jdHgoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmcm9tIG9mIG90aGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwb3MuZGVzdHMoZnJvbSwgY3R4KS5oYXMobW92ZS50bykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJzID0gb3RoZXJzLndpdGhvdXQoZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVycy5ub25FbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcm93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sdW1uID0gb3RoZXJzLmludGVyc2VjdHMoU3F1YXJlU2V0LmZyb21SYW5rKHNxdWFyZVJhbmsobW92ZS5mcm9tKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVycy5pbnRlcnNlY3RzKFNxdWFyZVNldC5mcm9tRmlsZShzcXVhcmVGaWxlKG1vdmUuZnJvbSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbiArPSBGSUxFX05BTUVTW3NxdWFyZUZpbGUobW92ZS5mcm9tKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbiArPSBSQU5LX05BTUVTW3NxdWFyZVJhbmsobW92ZS5mcm9tKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjYXB0dXJlKVxuICAgICAgICAgICAgICAgIHNhbiA9IEZJTEVfTkFNRVNbc3F1YXJlRmlsZShtb3ZlLmZyb20pXTtcbiAgICAgICAgICAgIGlmIChjYXB0dXJlKVxuICAgICAgICAgICAgICAgIHNhbiArPSAneCc7XG4gICAgICAgICAgICBzYW4gKz0gbWFrZVNxdWFyZShtb3ZlLnRvKTtcbiAgICAgICAgICAgIGlmIChtb3ZlLnByb21vdGlvbilcbiAgICAgICAgICAgICAgICBzYW4gKz0gJz0nICsgcm9sZVRvQ2hhcihtb3ZlLnByb21vdGlvbikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2FuO1xufTtcbmV4cG9ydCBjb25zdCBtYWtlU2FuQW5kUGxheSA9IChwb3MsIG1vdmUpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc2FuID0gbWFrZVNhbldpdGhvdXRTdWZmaXgocG9zLCBtb3ZlKTtcbiAgICBwb3MucGxheShtb3ZlKTtcbiAgICBpZiAoKF9hID0gcG9zLm91dGNvbWUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndpbm5lcilcbiAgICAgICAgcmV0dXJuIHNhbiArICcjJztcbiAgICBpZiAocG9zLmlzQ2hlY2soKSlcbiAgICAgICAgcmV0dXJuIHNhbiArICcrJztcbiAgICByZXR1cm4gc2FuO1xufTtcbmV4cG9ydCBjb25zdCBtYWtlU2FuVmFyaWF0aW9uID0gKHBvcywgdmFyaWF0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHBvcyA9IHBvcy5jbG9uZSgpO1xuICAgIGNvbnN0IGxpbmUgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSAhPT0gMClcbiAgICAgICAgICAgIGxpbmUucHVzaCgnICcpO1xuICAgICAgICBpZiAocG9zLnR1cm4gPT09ICd3aGl0ZScpXG4gICAgICAgICAgICBsaW5lLnB1c2gocG9zLmZ1bGxtb3ZlcywgJy4gJyk7XG4gICAgICAgIGVsc2UgaWYgKGkgPT09IDApXG4gICAgICAgICAgICBsaW5lLnB1c2gocG9zLmZ1bGxtb3ZlcywgJy4uLiAnKTtcbiAgICAgICAgY29uc3Qgc2FuID0gbWFrZVNhbldpdGhvdXRTdWZmaXgocG9zLCB2YXJpYXRpb25baV0pO1xuICAgICAgICBwb3MucGxheSh2YXJpYXRpb25baV0pO1xuICAgICAgICBsaW5lLnB1c2goc2FuKTtcbiAgICAgICAgaWYgKHNhbiA9PT0gJy0tJylcbiAgICAgICAgICAgIHJldHVybiBsaW5lLmpvaW4oJycpO1xuICAgICAgICBpZiAoaSA9PT0gdmFyaWF0aW9uLmxlbmd0aCAtIDEgJiYgKChfYSA9IHBvcy5vdXRjb21lKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS53aW5uZXIpKVxuICAgICAgICAgICAgbGluZS5wdXNoKCcjJyk7XG4gICAgICAgIGVsc2UgaWYgKHBvcy5pc0NoZWNrKCkpXG4gICAgICAgICAgICBsaW5lLnB1c2goJysnKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmUuam9pbignJyk7XG59O1xuZXhwb3J0IGNvbnN0IG1ha2VTYW4gPSAocG9zLCBtb3ZlKSA9PiBtYWtlU2FuQW5kUGxheShwb3MuY2xvbmUoKSwgbW92ZSk7XG5leHBvcnQgY29uc3QgcGFyc2VTYW4gPSAocG9zLCBzYW4pID0+IHtcbiAgICBjb25zdCBjdHggPSBwb3MuY3R4KCk7XG4gICAgLy8gTm9ybWFsIG1vdmVcbiAgICBjb25zdCBtYXRjaCA9IHNhbi5tYXRjaCgvXihbTkJSUUtdKT8oW2EtaF0pPyhbMS04XSk/Wy14XT8oW2EtaF1bMS04XSkoPzo9PyhbbmJycWtOQlJRS10pKT9bKyNdPyQvKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIC8vIENhc3RsaW5nXG4gICAgICAgIGxldCBjYXN0bGluZ1NpZGU7XG4gICAgICAgIGlmIChzYW4gPT09ICdPLU8nIHx8IHNhbiA9PT0gJ08tTysnIHx8IHNhbiA9PT0gJ08tTyMnKVxuICAgICAgICAgICAgY2FzdGxpbmdTaWRlID0gJ2gnO1xuICAgICAgICBlbHNlIGlmIChzYW4gPT09ICdPLU8tTycgfHwgc2FuID09PSAnTy1PLU8rJyB8fCBzYW4gPT09ICdPLU8tTyMnKVxuICAgICAgICAgICAgY2FzdGxpbmdTaWRlID0gJ2EnO1xuICAgICAgICBpZiAoY2FzdGxpbmdTaWRlKSB7XG4gICAgICAgICAgICBjb25zdCByb29rID0gcG9zLmNhc3RsZXMucm9va1twb3MudHVybl1bY2FzdGxpbmdTaWRlXTtcbiAgICAgICAgICAgIGlmICghZGVmaW5lZChjdHgua2luZykgfHwgIWRlZmluZWQocm9vaykgfHwgIXBvcy5kZXN0cyhjdHgua2luZywgY3R4KS5oYXMocm9vaykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tOiBjdHgua2luZyxcbiAgICAgICAgICAgICAgICB0bzogcm9vayxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHJvcFxuICAgICAgICBjb25zdCBtYXRjaCA9IHNhbi5tYXRjaCgvXihbcG5icnFrUE5CUlFLXSk/QChbYS1oXVsxLThdKVsrI10/JC8pO1xuICAgICAgICBpZiAoIW1hdGNoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBtb3ZlID0ge1xuICAgICAgICAgICAgcm9sZTogbWF0Y2hbMV0gPyBjaGFyVG9Sb2xlKG1hdGNoWzFdKSA6ICdwYXduJyxcbiAgICAgICAgICAgIHRvOiBwYXJzZVNxdWFyZShtYXRjaFsyXSksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwb3MuaXNMZWdhbChtb3ZlLCBjdHgpID8gbW92ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgcm9sZSA9IG1hdGNoWzFdID8gY2hhclRvUm9sZShtYXRjaFsxXSkgOiAncGF3bic7XG4gICAgY29uc3QgdG8gPSBwYXJzZVNxdWFyZShtYXRjaFs0XSk7XG4gICAgY29uc3QgcHJvbW90aW9uID0gbWF0Y2hbNV0gPyBjaGFyVG9Sb2xlKG1hdGNoWzVdKSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoISFwcm9tb3Rpb24gIT09IChyb2xlID09PSAncGF3bicgJiYgU3F1YXJlU2V0LmJhY2tyYW5rcygpLmhhcyh0bykpKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHByb21vdGlvbiA9PT0gJ2tpbmcnICYmIHBvcy5ydWxlcyAhPT0gJ2FudGljaGVzcycpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgY2FuZGlkYXRlcyA9IHBvcy5ib2FyZC5waWVjZXMocG9zLnR1cm4sIHJvbGUpO1xuICAgIGlmIChyb2xlID09PSAncGF3bicgJiYgIW1hdGNoWzJdKVxuICAgICAgICBjYW5kaWRhdGVzID0gY2FuZGlkYXRlcy5pbnRlcnNlY3QoU3F1YXJlU2V0LmZyb21GaWxlKHNxdWFyZUZpbGUodG8pKSk7XG4gICAgZWxzZSBpZiAobWF0Y2hbMl0pXG4gICAgICAgIGNhbmRpZGF0ZXMgPSBjYW5kaWRhdGVzLmludGVyc2VjdChTcXVhcmVTZXQuZnJvbUZpbGUobWF0Y2hbMl0uY2hhckNvZGVBdCgwKSAtICdhJy5jaGFyQ29kZUF0KDApKSk7XG4gICAgaWYgKG1hdGNoWzNdKVxuICAgICAgICBjYW5kaWRhdGVzID0gY2FuZGlkYXRlcy5pbnRlcnNlY3QoU3F1YXJlU2V0LmZyb21SYW5rKG1hdGNoWzNdLmNoYXJDb2RlQXQoMCkgLSAnMScuY2hhckNvZGVBdCgwKSkpO1xuICAgIC8vIE9wdGltaXphdGlvbjogUmVkdWNlIHNldCBvZiBjYW5kaWRhdGVzXG4gICAgY29uc3QgcGF3bkFkdmFuY2UgPSByb2xlID09PSAncGF3bicgPyBTcXVhcmVTZXQuZnJvbUZpbGUoc3F1YXJlRmlsZSh0bykpIDogU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgY2FuZGlkYXRlcyA9IGNhbmRpZGF0ZXMuaW50ZXJzZWN0KHBhd25BZHZhbmNlLnVuaW9uKGF0dGFja3MoeyBjb2xvcjogb3Bwb3NpdGUocG9zLnR1cm4pLCByb2xlIH0sIHRvLCBwb3MuYm9hcmQub2NjdXBpZWQpKSk7XG4gICAgLy8gQ2hlY2sgdW5pcXVlbmVzcyBhbmQgbGVnYWxpdHlcbiAgICBsZXQgZnJvbTtcbiAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjYW5kaWRhdGVzKSB7XG4gICAgICAgIGlmIChwb3MuZGVzdHMoY2FuZGlkYXRlLCBjdHgpLmhhcyh0bykpIHtcbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGZyb20pKVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gQW1iaWd1b3VzXG4gICAgICAgICAgICBmcm9tID0gY2FuZGlkYXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZGVmaW5lZChmcm9tKSlcbiAgICAgICAgcmV0dXJuOyAvLyBJbGxlZ2FsXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJvbSxcbiAgICAgICAgdG8sXG4gICAgICAgIHByb21vdGlvbixcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/san.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/setup.js":
/*!*************************************************!*\
  !*** ./node_modules/chessops/dist/esm/setup.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Material: () => (/* binding */ Material),\n/* harmony export */   MaterialSide: () => (/* binding */ MaterialSide),\n/* harmony export */   RemainingChecks: () => (/* binding */ RemainingChecks),\n/* harmony export */   defaultSetup: () => (/* binding */ defaultSetup),\n/* harmony export */   setupClone: () => (/* binding */ setupClone),\n/* harmony export */   setupEquals: () => (/* binding */ setupEquals)\n/* harmony export */ });\n/* harmony import */ var _board_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./board.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/board.js\");\n/* harmony import */ var _squareSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./squareSet.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/types.js\");\n\n\n\nclass MaterialSide {\n    constructor() { }\n    static empty() {\n        const m = new MaterialSide();\n        for (const role of _types_js__WEBPACK_IMPORTED_MODULE_0__.ROLES)\n            m[role] = 0;\n        return m;\n    }\n    static fromBoard(board, color) {\n        const m = new MaterialSide();\n        for (const role of _types_js__WEBPACK_IMPORTED_MODULE_0__.ROLES)\n            m[role] = board.pieces(color, role).size();\n        return m;\n    }\n    clone() {\n        const m = new MaterialSide();\n        for (const role of _types_js__WEBPACK_IMPORTED_MODULE_0__.ROLES)\n            m[role] = this[role];\n        return m;\n    }\n    equals(other) {\n        return _types_js__WEBPACK_IMPORTED_MODULE_0__.ROLES.every(role => this[role] === other[role]);\n    }\n    add(other) {\n        const m = new MaterialSide();\n        for (const role of _types_js__WEBPACK_IMPORTED_MODULE_0__.ROLES)\n            m[role] = this[role] + other[role];\n        return m;\n    }\n    subtract(other) {\n        const m = new MaterialSide();\n        for (const role of _types_js__WEBPACK_IMPORTED_MODULE_0__.ROLES)\n            m[role] = this[role] - other[role];\n        return m;\n    }\n    nonEmpty() {\n        return _types_js__WEBPACK_IMPORTED_MODULE_0__.ROLES.some(role => this[role] > 0);\n    }\n    isEmpty() {\n        return !this.nonEmpty();\n    }\n    hasPawns() {\n        return this.pawn > 0;\n    }\n    hasNonPawns() {\n        return this.knight > 0 || this.bishop > 0 || this.rook > 0 || this.queen > 0 || this.king > 0;\n    }\n    size() {\n        return this.pawn + this.knight + this.bishop + this.rook + this.queen + this.king;\n    }\n}\nclass Material {\n    constructor(white, black) {\n        this.white = white;\n        this.black = black;\n    }\n    static empty() {\n        return new Material(MaterialSide.empty(), MaterialSide.empty());\n    }\n    static fromBoard(board) {\n        return new Material(MaterialSide.fromBoard(board, 'white'), MaterialSide.fromBoard(board, 'black'));\n    }\n    clone() {\n        return new Material(this.white.clone(), this.black.clone());\n    }\n    equals(other) {\n        return this.white.equals(other.white) && this.black.equals(other.black);\n    }\n    add(other) {\n        return new Material(this.white.add(other.white), this.black.add(other.black));\n    }\n    subtract(other) {\n        return new Material(this.white.subtract(other.white), this.black.subtract(other.black));\n    }\n    count(role) {\n        return this.white[role] + this.black[role];\n    }\n    size() {\n        return this.white.size() + this.black.size();\n    }\n    isEmpty() {\n        return this.white.isEmpty() && this.black.isEmpty();\n    }\n    nonEmpty() {\n        return !this.isEmpty();\n    }\n    hasPawns() {\n        return this.white.hasPawns() || this.black.hasPawns();\n    }\n    hasNonPawns() {\n        return this.white.hasNonPawns() || this.black.hasNonPawns();\n    }\n}\nclass RemainingChecks {\n    constructor(white, black) {\n        this.white = white;\n        this.black = black;\n    }\n    static default() {\n        return new RemainingChecks(3, 3);\n    }\n    clone() {\n        return new RemainingChecks(this.white, this.black);\n    }\n    equals(other) {\n        return this.white === other.white && this.black === other.black;\n    }\n}\nconst defaultSetup = () => ({\n    board: _board_js__WEBPACK_IMPORTED_MODULE_1__.Board.default(),\n    pockets: undefined,\n    turn: 'white',\n    castlingRights: _squareSet_js__WEBPACK_IMPORTED_MODULE_2__.SquareSet.corners(),\n    epSquare: undefined,\n    remainingChecks: undefined,\n    halfmoves: 0,\n    fullmoves: 1,\n});\nconst setupClone = (setup) => {\n    var _a, _b;\n    return ({\n        board: setup.board.clone(),\n        pockets: (_a = setup.pockets) === null || _a === void 0 ? void 0 : _a.clone(),\n        turn: setup.turn,\n        castlingRights: setup.castlingRights,\n        epSquare: setup.epSquare,\n        remainingChecks: (_b = setup.remainingChecks) === null || _b === void 0 ? void 0 : _b.clone(),\n        halfmoves: setup.halfmoves,\n        fullmoves: setup.fullmoves,\n    });\n};\nconst setupEquals = (left, right) => {\n    var _a, _b;\n    return (0,_board_js__WEBPACK_IMPORTED_MODULE_1__.boardEquals)(left.board, right.board)\n        && ((right.pockets && ((_a = left.pockets) === null || _a === void 0 ? void 0 : _a.equals(right.pockets))) || (!left.pockets && !right.pockets))\n        && left.turn === right.turn\n        && left.castlingRights.equals(right.castlingRights)\n        && left.epSquare === right.epSquare\n        && ((right.remainingChecks && ((_b = left.remainingChecks) === null || _b === void 0 ? void 0 : _b.equals(right.remainingChecks)))\n            || (!left.remainingChecks && !right.remainingChecks))\n        && left.halfmoves === right.halfmoves\n        && left.fullmoves === right.fullmoves;\n};\n//# sourceMappingURL=setup.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9zZXR1cC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDTDtBQUNSO0FBQzVCO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDRDQUFLO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNENBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0Q0FBSztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNENBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDRDQUFLO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNENBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRDQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFdBQVcsNENBQUs7QUFDaEI7QUFDQTtBQUNBLG9CQUFvQixvREFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDTTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBLFdBQVcsc0RBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvY2hlc3NvcHMvZGlzdC9lc20vc2V0dXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm9hcmQsIGJvYXJkRXF1YWxzIH0gZnJvbSAnLi9ib2FyZC5qcyc7XG5pbXBvcnQgeyBTcXVhcmVTZXQgfSBmcm9tICcuL3NxdWFyZVNldC5qcyc7XG5pbXBvcnQgeyBST0xFUyB9IGZyb20gJy4vdHlwZXMuanMnO1xuZXhwb3J0IGNsYXNzIE1hdGVyaWFsU2lkZSB7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbiAgICBzdGF0aWMgZW1wdHkoKSB7XG4gICAgICAgIGNvbnN0IG0gPSBuZXcgTWF0ZXJpYWxTaWRlKCk7XG4gICAgICAgIGZvciAoY29uc3Qgcm9sZSBvZiBST0xFUylcbiAgICAgICAgICAgIG1bcm9sZV0gPSAwO1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Cb2FyZChib2FyZCwgY29sb3IpIHtcbiAgICAgICAgY29uc3QgbSA9IG5ldyBNYXRlcmlhbFNpZGUoKTtcbiAgICAgICAgZm9yIChjb25zdCByb2xlIG9mIFJPTEVTKVxuICAgICAgICAgICAgbVtyb2xlXSA9IGJvYXJkLnBpZWNlcyhjb2xvciwgcm9sZSkuc2l6ZSgpO1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IG0gPSBuZXcgTWF0ZXJpYWxTaWRlKCk7XG4gICAgICAgIGZvciAoY29uc3Qgcm9sZSBvZiBST0xFUylcbiAgICAgICAgICAgIG1bcm9sZV0gPSB0aGlzW3JvbGVdO1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBST0xFUy5ldmVyeShyb2xlID0+IHRoaXNbcm9sZV0gPT09IG90aGVyW3JvbGVdKTtcbiAgICB9XG4gICAgYWRkKG90aGVyKSB7XG4gICAgICAgIGNvbnN0IG0gPSBuZXcgTWF0ZXJpYWxTaWRlKCk7XG4gICAgICAgIGZvciAoY29uc3Qgcm9sZSBvZiBST0xFUylcbiAgICAgICAgICAgIG1bcm9sZV0gPSB0aGlzW3JvbGVdICsgb3RoZXJbcm9sZV07XG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cbiAgICBzdWJ0cmFjdChvdGhlcikge1xuICAgICAgICBjb25zdCBtID0gbmV3IE1hdGVyaWFsU2lkZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IHJvbGUgb2YgUk9MRVMpXG4gICAgICAgICAgICBtW3JvbGVdID0gdGhpc1tyb2xlXSAtIG90aGVyW3JvbGVdO1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgbm9uRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBST0xFUy5zb21lKHJvbGUgPT4gdGhpc1tyb2xlXSA+IDApO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubm9uRW1wdHkoKTtcbiAgICB9XG4gICAgaGFzUGF3bnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhd24gPiAwO1xuICAgIH1cbiAgICBoYXNOb25QYXducygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua25pZ2h0ID4gMCB8fCB0aGlzLmJpc2hvcCA+IDAgfHwgdGhpcy5yb29rID4gMCB8fCB0aGlzLnF1ZWVuID4gMCB8fCB0aGlzLmtpbmcgPiAwO1xuICAgIH1cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXduICsgdGhpcy5rbmlnaHQgKyB0aGlzLmJpc2hvcCArIHRoaXMucm9vayArIHRoaXMucXVlZW4gKyB0aGlzLmtpbmc7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1hdGVyaWFsIHtcbiAgICBjb25zdHJ1Y3Rvcih3aGl0ZSwgYmxhY2spIHtcbiAgICAgICAgdGhpcy53aGl0ZSA9IHdoaXRlO1xuICAgICAgICB0aGlzLmJsYWNrID0gYmxhY2s7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRlcmlhbChNYXRlcmlhbFNpZGUuZW1wdHkoKSwgTWF0ZXJpYWxTaWRlLmVtcHR5KCkpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUJvYXJkKGJvYXJkKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0ZXJpYWwoTWF0ZXJpYWxTaWRlLmZyb21Cb2FyZChib2FyZCwgJ3doaXRlJyksIE1hdGVyaWFsU2lkZS5mcm9tQm9hcmQoYm9hcmQsICdibGFjaycpKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0ZXJpYWwodGhpcy53aGl0ZS5jbG9uZSgpLCB0aGlzLmJsYWNrLmNsb25lKCkpO1xuICAgIH1cbiAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2hpdGUuZXF1YWxzKG90aGVyLndoaXRlKSAmJiB0aGlzLmJsYWNrLmVxdWFscyhvdGhlci5ibGFjayk7XG4gICAgfVxuICAgIGFkZChvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IE1hdGVyaWFsKHRoaXMud2hpdGUuYWRkKG90aGVyLndoaXRlKSwgdGhpcy5ibGFjay5hZGQob3RoZXIuYmxhY2spKTtcbiAgICB9XG4gICAgc3VidHJhY3Qob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRlcmlhbCh0aGlzLndoaXRlLnN1YnRyYWN0KG90aGVyLndoaXRlKSwgdGhpcy5ibGFjay5zdWJ0cmFjdChvdGhlci5ibGFjaykpO1xuICAgIH1cbiAgICBjb3VudChyb2xlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndoaXRlW3JvbGVdICsgdGhpcy5ibGFja1tyb2xlXTtcbiAgICB9XG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2hpdGUuc2l6ZSgpICsgdGhpcy5ibGFjay5zaXplKCk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndoaXRlLmlzRW1wdHkoKSAmJiB0aGlzLmJsYWNrLmlzRW1wdHkoKTtcbiAgICB9XG4gICAgbm9uRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5pc0VtcHR5KCk7XG4gICAgfVxuICAgIGhhc1Bhd25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aGl0ZS5oYXNQYXducygpIHx8IHRoaXMuYmxhY2suaGFzUGF3bnMoKTtcbiAgICB9XG4gICAgaGFzTm9uUGF3bnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndoaXRlLmhhc05vblBhd25zKCkgfHwgdGhpcy5ibGFjay5oYXNOb25QYXducygpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZW1haW5pbmdDaGVja3Mge1xuICAgIGNvbnN0cnVjdG9yKHdoaXRlLCBibGFjaykge1xuICAgICAgICB0aGlzLndoaXRlID0gd2hpdGU7XG4gICAgICAgIHRoaXMuYmxhY2sgPSBibGFjaztcbiAgICB9XG4gICAgc3RhdGljIGRlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtYWluaW5nQ2hlY2tzKDMsIDMpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW1haW5pbmdDaGVja3ModGhpcy53aGl0ZSwgdGhpcy5ibGFjayk7XG4gICAgfVxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy53aGl0ZSA9PT0gb3RoZXIud2hpdGUgJiYgdGhpcy5ibGFjayA9PT0gb3RoZXIuYmxhY2s7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTZXR1cCA9ICgpID0+ICh7XG4gICAgYm9hcmQ6IEJvYXJkLmRlZmF1bHQoKSxcbiAgICBwb2NrZXRzOiB1bmRlZmluZWQsXG4gICAgdHVybjogJ3doaXRlJyxcbiAgICBjYXN0bGluZ1JpZ2h0czogU3F1YXJlU2V0LmNvcm5lcnMoKSxcbiAgICBlcFNxdWFyZTogdW5kZWZpbmVkLFxuICAgIHJlbWFpbmluZ0NoZWNrczogdW5kZWZpbmVkLFxuICAgIGhhbGZtb3ZlczogMCxcbiAgICBmdWxsbW92ZXM6IDEsXG59KTtcbmV4cG9ydCBjb25zdCBzZXR1cENsb25lID0gKHNldHVwKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKHtcbiAgICAgICAgYm9hcmQ6IHNldHVwLmJvYXJkLmNsb25lKCksXG4gICAgICAgIHBvY2tldHM6IChfYSA9IHNldHVwLnBvY2tldHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9uZSgpLFxuICAgICAgICB0dXJuOiBzZXR1cC50dXJuLFxuICAgICAgICBjYXN0bGluZ1JpZ2h0czogc2V0dXAuY2FzdGxpbmdSaWdodHMsXG4gICAgICAgIGVwU3F1YXJlOiBzZXR1cC5lcFNxdWFyZSxcbiAgICAgICAgcmVtYWluaW5nQ2hlY2tzOiAoX2IgPSBzZXR1cC5yZW1haW5pbmdDaGVja3MpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jbG9uZSgpLFxuICAgICAgICBoYWxmbW92ZXM6IHNldHVwLmhhbGZtb3ZlcyxcbiAgICAgICAgZnVsbG1vdmVzOiBzZXR1cC5mdWxsbW92ZXMsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNldHVwRXF1YWxzID0gKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gYm9hcmRFcXVhbHMobGVmdC5ib2FyZCwgcmlnaHQuYm9hcmQpXG4gICAgICAgICYmICgocmlnaHQucG9ja2V0cyAmJiAoKF9hID0gbGVmdC5wb2NrZXRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXF1YWxzKHJpZ2h0LnBvY2tldHMpKSkgfHwgKCFsZWZ0LnBvY2tldHMgJiYgIXJpZ2h0LnBvY2tldHMpKVxuICAgICAgICAmJiBsZWZ0LnR1cm4gPT09IHJpZ2h0LnR1cm5cbiAgICAgICAgJiYgbGVmdC5jYXN0bGluZ1JpZ2h0cy5lcXVhbHMocmlnaHQuY2FzdGxpbmdSaWdodHMpXG4gICAgICAgICYmIGxlZnQuZXBTcXVhcmUgPT09IHJpZ2h0LmVwU3F1YXJlXG4gICAgICAgICYmICgocmlnaHQucmVtYWluaW5nQ2hlY2tzICYmICgoX2IgPSBsZWZ0LnJlbWFpbmluZ0NoZWNrcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVxdWFscyhyaWdodC5yZW1haW5pbmdDaGVja3MpKSlcbiAgICAgICAgICAgIHx8ICghbGVmdC5yZW1haW5pbmdDaGVja3MgJiYgIXJpZ2h0LnJlbWFpbmluZ0NoZWNrcykpXG4gICAgICAgICYmIGxlZnQuaGFsZm1vdmVzID09PSByaWdodC5oYWxmbW92ZXNcbiAgICAgICAgJiYgbGVmdC5mdWxsbW92ZXMgPT09IHJpZ2h0LmZ1bGxtb3Zlcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR1cC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/setup.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js":
/*!*****************************************************!*\
  !*** ./node_modules/chessops/dist/esm/squareSet.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SquareSet: () => (/* binding */ SquareSet)\n/* harmony export */ });\nconst popcnt32 = (n) => {\n    n = n - ((n >>> 1) & 1431655765);\n    n = (n & 858993459) + ((n >>> 2) & 858993459);\n    return Math.imul((n + (n >>> 4)) & 252645135, 16843009) >> 24;\n};\nconst bswap32 = (n) => {\n    n = ((n >>> 8) & 16711935) | ((n & 16711935) << 8);\n    return ((n >>> 16) & 0xffff) | ((n & 0xffff) << 16);\n};\nconst rbit32 = (n) => {\n    n = ((n >>> 1) & 1431655765) | ((n & 1431655765) << 1);\n    n = ((n >>> 2) & 858993459) | ((n & 858993459) << 2);\n    n = ((n >>> 4) & 252645135) | ((n & 252645135) << 4);\n    return bswap32(n);\n};\n/**\n * An immutable set of squares, implemented as a bitboard.\n */\nclass SquareSet {\n    constructor(lo, hi) {\n        this.lo = lo | 0;\n        this.hi = hi | 0;\n    }\n    static fromSquare(square) {\n        return square >= 32 ? new SquareSet(0, 1 << (square - 32)) : new SquareSet(1 << square, 0);\n    }\n    static fromRank(rank) {\n        return new SquareSet(0xff, 0).shl64(8 * rank);\n    }\n    static fromFile(file) {\n        return new SquareSet(16843009 << file, 16843009 << file);\n    }\n    static empty() {\n        return new SquareSet(0, 0);\n    }\n    static full() {\n        return new SquareSet(4294967295, 4294967295);\n    }\n    static corners() {\n        return new SquareSet(0x81, 2164260864);\n    }\n    static center() {\n        return new SquareSet(402653184, 0x18);\n    }\n    static backranks() {\n        return new SquareSet(0xff, 4278190080);\n    }\n    static backrank(color) {\n        return color === 'white' ? new SquareSet(0xff, 0) : new SquareSet(0, 4278190080);\n    }\n    static lightSquares() {\n        return new SquareSet(1437226410, 1437226410);\n    }\n    static darkSquares() {\n        return new SquareSet(2857740885, 2857740885);\n    }\n    complement() {\n        return new SquareSet(~this.lo, ~this.hi);\n    }\n    xor(other) {\n        return new SquareSet(this.lo ^ other.lo, this.hi ^ other.hi);\n    }\n    union(other) {\n        return new SquareSet(this.lo | other.lo, this.hi | other.hi);\n    }\n    intersect(other) {\n        return new SquareSet(this.lo & other.lo, this.hi & other.hi);\n    }\n    diff(other) {\n        return new SquareSet(this.lo & ~other.lo, this.hi & ~other.hi);\n    }\n    intersects(other) {\n        return this.intersect(other).nonEmpty();\n    }\n    isDisjoint(other) {\n        return this.intersect(other).isEmpty();\n    }\n    supersetOf(other) {\n        return other.diff(this).isEmpty();\n    }\n    subsetOf(other) {\n        return this.diff(other).isEmpty();\n    }\n    shr64(shift) {\n        if (shift >= 64)\n            return SquareSet.empty();\n        if (shift >= 32)\n            return new SquareSet(this.hi >>> (shift - 32), 0);\n        if (shift > 0)\n            return new SquareSet((this.lo >>> shift) ^ (this.hi << (32 - shift)), this.hi >>> shift);\n        return this;\n    }\n    shl64(shift) {\n        if (shift >= 64)\n            return SquareSet.empty();\n        if (shift >= 32)\n            return new SquareSet(0, this.lo << (shift - 32));\n        if (shift > 0)\n            return new SquareSet(this.lo << shift, (this.hi << shift) ^ (this.lo >>> (32 - shift)));\n        return this;\n    }\n    bswap64() {\n        return new SquareSet(bswap32(this.hi), bswap32(this.lo));\n    }\n    rbit64() {\n        return new SquareSet(rbit32(this.hi), rbit32(this.lo));\n    }\n    minus64(other) {\n        const lo = this.lo - other.lo;\n        const c = ((lo & other.lo & 1) + (other.lo >>> 1) + (lo >>> 1)) >>> 31;\n        return new SquareSet(lo, this.hi - (other.hi + c));\n    }\n    equals(other) {\n        return this.lo === other.lo && this.hi === other.hi;\n    }\n    size() {\n        return popcnt32(this.lo) + popcnt32(this.hi);\n    }\n    isEmpty() {\n        return this.lo === 0 && this.hi === 0;\n    }\n    nonEmpty() {\n        return this.lo !== 0 || this.hi !== 0;\n    }\n    has(square) {\n        return (square >= 32 ? this.hi & (1 << (square - 32)) : this.lo & (1 << square)) !== 0;\n    }\n    set(square, on) {\n        return on ? this.with(square) : this.without(square);\n    }\n    with(square) {\n        return square >= 32\n            ? new SquareSet(this.lo, this.hi | (1 << (square - 32)))\n            : new SquareSet(this.lo | (1 << square), this.hi);\n    }\n    without(square) {\n        return square >= 32\n            ? new SquareSet(this.lo, this.hi & ~(1 << (square - 32)))\n            : new SquareSet(this.lo & ~(1 << square), this.hi);\n    }\n    toggle(square) {\n        return square >= 32\n            ? new SquareSet(this.lo, this.hi ^ (1 << (square - 32)))\n            : new SquareSet(this.lo ^ (1 << square), this.hi);\n    }\n    last() {\n        if (this.hi !== 0)\n            return 63 - Math.clz32(this.hi);\n        if (this.lo !== 0)\n            return 31 - Math.clz32(this.lo);\n        return;\n    }\n    first() {\n        if (this.lo !== 0)\n            return 31 - Math.clz32(this.lo & -this.lo);\n        if (this.hi !== 0)\n            return 63 - Math.clz32(this.hi & -this.hi);\n        return;\n    }\n    withoutFirst() {\n        if (this.lo !== 0)\n            return new SquareSet(this.lo & (this.lo - 1), this.hi);\n        return new SquareSet(0, this.hi & (this.hi - 1));\n    }\n    moreThanOne() {\n        return (this.hi !== 0 && this.lo !== 0) || (this.lo & (this.lo - 1)) !== 0 || (this.hi & (this.hi - 1)) !== 0;\n    }\n    singleSquare() {\n        return this.moreThanOne() ? undefined : this.last();\n    }\n    *[Symbol.iterator]() {\n        let lo = this.lo;\n        let hi = this.hi;\n        while (lo !== 0) {\n            const idx = 31 - Math.clz32(lo & -lo);\n            lo ^= 1 << idx;\n            yield idx;\n        }\n        while (hi !== 0) {\n            const idx = 31 - Math.clz32(hi & -hi);\n            hi ^= 1 << idx;\n            yield 32 + idx;\n        }\n    }\n    *reversed() {\n        let lo = this.lo;\n        let hi = this.hi;\n        while (hi !== 0) {\n            const idx = 31 - Math.clz32(hi);\n            hi ^= 1 << idx;\n            yield 32 + idx;\n        }\n        while (lo !== 0) {\n            const idx = 31 - Math.clz32(lo);\n            lo ^= 1 << idx;\n            yield idx;\n        }\n    }\n}\n//# sourceMappingURL=squareSet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS9zcXVhcmVTZXQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvY2hlc3NvcHMvZGlzdC9lc20vc3F1YXJlU2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBvcGNudDMyID0gKG4pID0+IHtcbiAgICBuID0gbiAtICgobiA+Pj4gMSkgJiAxNDMxNjU1NzY1KTtcbiAgICBuID0gKG4gJiA4NTg5OTM0NTkpICsgKChuID4+PiAyKSAmIDg1ODk5MzQ1OSk7XG4gICAgcmV0dXJuIE1hdGguaW11bCgobiArIChuID4+PiA0KSkgJiAyNTI2NDUxMzUsIDE2ODQzMDA5KSA+PiAyNDtcbn07XG5jb25zdCBic3dhcDMyID0gKG4pID0+IHtcbiAgICBuID0gKChuID4+PiA4KSAmIDE2NzExOTM1KSB8ICgobiAmIDE2NzExOTM1KSA8PCA4KTtcbiAgICByZXR1cm4gKChuID4+PiAxNikgJiAweGZmZmYpIHwgKChuICYgMHhmZmZmKSA8PCAxNik7XG59O1xuY29uc3QgcmJpdDMyID0gKG4pID0+IHtcbiAgICBuID0gKChuID4+PiAxKSAmIDE0MzE2NTU3NjUpIHwgKChuICYgMTQzMTY1NTc2NSkgPDwgMSk7XG4gICAgbiA9ICgobiA+Pj4gMikgJiA4NTg5OTM0NTkpIHwgKChuICYgODU4OTkzNDU5KSA8PCAyKTtcbiAgICBuID0gKChuID4+PiA0KSAmIDI1MjY0NTEzNSkgfCAoKG4gJiAyNTI2NDUxMzUpIDw8IDQpO1xuICAgIHJldHVybiBic3dhcDMyKG4pO1xufTtcbi8qKlxuICogQW4gaW1tdXRhYmxlIHNldCBvZiBzcXVhcmVzLCBpbXBsZW1lbnRlZCBhcyBhIGJpdGJvYXJkLlxuICovXG5leHBvcnQgY2xhc3MgU3F1YXJlU2V0IHtcbiAgICBjb25zdHJ1Y3RvcihsbywgaGkpIHtcbiAgICAgICAgdGhpcy5sbyA9IGxvIHwgMDtcbiAgICAgICAgdGhpcy5oaSA9IGhpIHwgMDtcbiAgICB9XG4gICAgc3RhdGljIGZyb21TcXVhcmUoc3F1YXJlKSB7XG4gICAgICAgIHJldHVybiBzcXVhcmUgPj0gMzIgPyBuZXcgU3F1YXJlU2V0KDAsIDEgPDwgKHNxdWFyZSAtIDMyKSkgOiBuZXcgU3F1YXJlU2V0KDEgPDwgc3F1YXJlLCAwKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SYW5rKHJhbmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcXVhcmVTZXQoMHhmZiwgMCkuc2hsNjQoOCAqIHJhbmspO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUZpbGUoZmlsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCgxNjg0MzAwOSA8PCBmaWxlLCAxNjg0MzAwOSA8PCBmaWxlKTtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCgwLCAwKTtcbiAgICB9XG4gICAgc3RhdGljIGZ1bGwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3F1YXJlU2V0KDQyOTQ5NjcyOTUsIDQyOTQ5NjcyOTUpO1xuICAgIH1cbiAgICBzdGF0aWMgY29ybmVycygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcXVhcmVTZXQoMHg4MSwgMjE2NDI2MDg2NCk7XG4gICAgfVxuICAgIHN0YXRpYyBjZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3F1YXJlU2V0KDQwMjY1MzE4NCwgMHgxOCk7XG4gICAgfVxuICAgIHN0YXRpYyBiYWNrcmFua3MoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3F1YXJlU2V0KDB4ZmYsIDQyNzgxOTAwODApO1xuICAgIH1cbiAgICBzdGF0aWMgYmFja3JhbmsoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnID8gbmV3IFNxdWFyZVNldCgweGZmLCAwKSA6IG5ldyBTcXVhcmVTZXQoMCwgNDI3ODE5MDA4MCk7XG4gICAgfVxuICAgIHN0YXRpYyBsaWdodFNxdWFyZXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3F1YXJlU2V0KDE0MzcyMjY0MTAsIDE0MzcyMjY0MTApO1xuICAgIH1cbiAgICBzdGF0aWMgZGFya1NxdWFyZXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3F1YXJlU2V0KDI4NTc3NDA4ODUsIDI4NTc3NDA4ODUpO1xuICAgIH1cbiAgICBjb21wbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCh+dGhpcy5sbywgfnRoaXMuaGkpO1xuICAgIH1cbiAgICB4b3Iob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcXVhcmVTZXQodGhpcy5sbyBeIG90aGVyLmxvLCB0aGlzLmhpIF4gb3RoZXIuaGkpO1xuICAgIH1cbiAgICB1bmlvbihvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCh0aGlzLmxvIHwgb3RoZXIubG8sIHRoaXMuaGkgfCBvdGhlci5oaSk7XG4gICAgfVxuICAgIGludGVyc2VjdChvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCh0aGlzLmxvICYgb3RoZXIubG8sIHRoaXMuaGkgJiBvdGhlci5oaSk7XG4gICAgfVxuICAgIGRpZmYob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcXVhcmVTZXQodGhpcy5sbyAmIH5vdGhlci5sbywgdGhpcy5oaSAmIH5vdGhlci5oaSk7XG4gICAgfVxuICAgIGludGVyc2VjdHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0KG90aGVyKS5ub25FbXB0eSgpO1xuICAgIH1cbiAgICBpc0Rpc2pvaW50KG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVyc2VjdChvdGhlcikuaXNFbXB0eSgpO1xuICAgIH1cbiAgICBzdXBlcnNldE9mKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlci5kaWZmKHRoaXMpLmlzRW1wdHkoKTtcbiAgICB9XG4gICAgc3Vic2V0T2Yob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlmZihvdGhlcikuaXNFbXB0eSgpO1xuICAgIH1cbiAgICBzaHI2NChzaGlmdCkge1xuICAgICAgICBpZiAoc2hpZnQgPj0gNjQpXG4gICAgICAgICAgICByZXR1cm4gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgICAgIGlmIChzaGlmdCA+PSAzMilcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3F1YXJlU2V0KHRoaXMuaGkgPj4+IChzaGlmdCAtIDMyKSwgMCk7XG4gICAgICAgIGlmIChzaGlmdCA+IDApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCgodGhpcy5sbyA+Pj4gc2hpZnQpIF4gKHRoaXMuaGkgPDwgKDMyIC0gc2hpZnQpKSwgdGhpcy5oaSA+Pj4gc2hpZnQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2hsNjQoc2hpZnQpIHtcbiAgICAgICAgaWYgKHNoaWZ0ID49IDY0KVxuICAgICAgICAgICAgcmV0dXJuIFNxdWFyZVNldC5lbXB0eSgpO1xuICAgICAgICBpZiAoc2hpZnQgPj0gMzIpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCgwLCB0aGlzLmxvIDw8IChzaGlmdCAtIDMyKSk7XG4gICAgICAgIGlmIChzaGlmdCA+IDApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCh0aGlzLmxvIDw8IHNoaWZ0LCAodGhpcy5oaSA8PCBzaGlmdCkgXiAodGhpcy5sbyA+Pj4gKDMyIC0gc2hpZnQpKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBic3dhcDY0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldChic3dhcDMyKHRoaXMuaGkpLCBic3dhcDMyKHRoaXMubG8pKTtcbiAgICB9XG4gICAgcmJpdDY0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldChyYml0MzIodGhpcy5oaSksIHJiaXQzMih0aGlzLmxvKSk7XG4gICAgfVxuICAgIG1pbnVzNjQob3RoZXIpIHtcbiAgICAgICAgY29uc3QgbG8gPSB0aGlzLmxvIC0gb3RoZXIubG87XG4gICAgICAgIGNvbnN0IGMgPSAoKGxvICYgb3RoZXIubG8gJiAxKSArIChvdGhlci5sbyA+Pj4gMSkgKyAobG8gPj4+IDEpKSA+Pj4gMzE7XG4gICAgICAgIHJldHVybiBuZXcgU3F1YXJlU2V0KGxvLCB0aGlzLmhpIC0gKG90aGVyLmhpICsgYykpO1xuICAgIH1cbiAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG8gPT09IG90aGVyLmxvICYmIHRoaXMuaGkgPT09IG90aGVyLmhpO1xuICAgIH1cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gcG9wY250MzIodGhpcy5sbykgKyBwb3BjbnQzMih0aGlzLmhpKTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG8gPT09IDAgJiYgdGhpcy5oaSA9PT0gMDtcbiAgICB9XG4gICAgbm9uRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvICE9PSAwIHx8IHRoaXMuaGkgIT09IDA7XG4gICAgfVxuICAgIGhhcyhzcXVhcmUpIHtcbiAgICAgICAgcmV0dXJuIChzcXVhcmUgPj0gMzIgPyB0aGlzLmhpICYgKDEgPDwgKHNxdWFyZSAtIDMyKSkgOiB0aGlzLmxvICYgKDEgPDwgc3F1YXJlKSkgIT09IDA7XG4gICAgfVxuICAgIHNldChzcXVhcmUsIG9uKSB7XG4gICAgICAgIHJldHVybiBvbiA/IHRoaXMud2l0aChzcXVhcmUpIDogdGhpcy53aXRob3V0KHNxdWFyZSk7XG4gICAgfVxuICAgIHdpdGgoc3F1YXJlKSB7XG4gICAgICAgIHJldHVybiBzcXVhcmUgPj0gMzJcbiAgICAgICAgICAgID8gbmV3IFNxdWFyZVNldCh0aGlzLmxvLCB0aGlzLmhpIHwgKDEgPDwgKHNxdWFyZSAtIDMyKSkpXG4gICAgICAgICAgICA6IG5ldyBTcXVhcmVTZXQodGhpcy5sbyB8ICgxIDw8IHNxdWFyZSksIHRoaXMuaGkpO1xuICAgIH1cbiAgICB3aXRob3V0KHNxdWFyZSkge1xuICAgICAgICByZXR1cm4gc3F1YXJlID49IDMyXG4gICAgICAgICAgICA/IG5ldyBTcXVhcmVTZXQodGhpcy5sbywgdGhpcy5oaSAmIH4oMSA8PCAoc3F1YXJlIC0gMzIpKSlcbiAgICAgICAgICAgIDogbmV3IFNxdWFyZVNldCh0aGlzLmxvICYgfigxIDw8IHNxdWFyZSksIHRoaXMuaGkpO1xuICAgIH1cbiAgICB0b2dnbGUoc3F1YXJlKSB7XG4gICAgICAgIHJldHVybiBzcXVhcmUgPj0gMzJcbiAgICAgICAgICAgID8gbmV3IFNxdWFyZVNldCh0aGlzLmxvLCB0aGlzLmhpIF4gKDEgPDwgKHNxdWFyZSAtIDMyKSkpXG4gICAgICAgICAgICA6IG5ldyBTcXVhcmVTZXQodGhpcy5sbyBeICgxIDw8IHNxdWFyZSksIHRoaXMuaGkpO1xuICAgIH1cbiAgICBsYXN0KCkge1xuICAgICAgICBpZiAodGhpcy5oaSAhPT0gMClcbiAgICAgICAgICAgIHJldHVybiA2MyAtIE1hdGguY2x6MzIodGhpcy5oaSk7XG4gICAgICAgIGlmICh0aGlzLmxvICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIDMxIC0gTWF0aC5jbHozMih0aGlzLmxvKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaXJzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMubG8gIT09IDApXG4gICAgICAgICAgICByZXR1cm4gMzEgLSBNYXRoLmNsejMyKHRoaXMubG8gJiAtdGhpcy5sbyk7XG4gICAgICAgIGlmICh0aGlzLmhpICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIDYzIC0gTWF0aC5jbHozMih0aGlzLmhpICYgLXRoaXMuaGkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHdpdGhvdXRGaXJzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMubG8gIT09IDApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNxdWFyZVNldCh0aGlzLmxvICYgKHRoaXMubG8gLSAxKSwgdGhpcy5oaSk7XG4gICAgICAgIHJldHVybiBuZXcgU3F1YXJlU2V0KDAsIHRoaXMuaGkgJiAodGhpcy5oaSAtIDEpKTtcbiAgICB9XG4gICAgbW9yZVRoYW5PbmUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5oaSAhPT0gMCAmJiB0aGlzLmxvICE9PSAwKSB8fCAodGhpcy5sbyAmICh0aGlzLmxvIC0gMSkpICE9PSAwIHx8ICh0aGlzLmhpICYgKHRoaXMuaGkgLSAxKSkgIT09IDA7XG4gICAgfVxuICAgIHNpbmdsZVNxdWFyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9yZVRoYW5PbmUoKSA/IHVuZGVmaW5lZCA6IHRoaXMubGFzdCgpO1xuICAgIH1cbiAgICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIGxldCBsbyA9IHRoaXMubG87XG4gICAgICAgIGxldCBoaSA9IHRoaXMuaGk7XG4gICAgICAgIHdoaWxlIChsbyAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gMzEgLSBNYXRoLmNsejMyKGxvICYgLWxvKTtcbiAgICAgICAgICAgIGxvIF49IDEgPDwgaWR4O1xuICAgICAgICAgICAgeWllbGQgaWR4O1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChoaSAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gMzEgLSBNYXRoLmNsejMyKGhpICYgLWhpKTtcbiAgICAgICAgICAgIGhpIF49IDEgPDwgaWR4O1xuICAgICAgICAgICAgeWllbGQgMzIgKyBpZHg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKnJldmVyc2VkKCkge1xuICAgICAgICBsZXQgbG8gPSB0aGlzLmxvO1xuICAgICAgICBsZXQgaGkgPSB0aGlzLmhpO1xuICAgICAgICB3aGlsZSAoaGkgIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IDMxIC0gTWF0aC5jbHozMihoaSk7XG4gICAgICAgICAgICBoaSBePSAxIDw8IGlkeDtcbiAgICAgICAgICAgIHlpZWxkIDMyICsgaWR4O1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChsbyAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gMzEgLSBNYXRoLmNsejMyKGxvKTtcbiAgICAgICAgICAgIGxvIF49IDEgPDwgaWR4O1xuICAgICAgICAgICAgeWllbGQgaWR4O1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3F1YXJlU2V0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/types.js":
/*!*************************************************!*\
  !*** ./node_modules/chessops/dist/esm/types.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CASTLING_SIDES: () => (/* binding */ CASTLING_SIDES),\n/* harmony export */   COLORS: () => (/* binding */ COLORS),\n/* harmony export */   FILE_NAMES: () => (/* binding */ FILE_NAMES),\n/* harmony export */   RANK_NAMES: () => (/* binding */ RANK_NAMES),\n/* harmony export */   ROLES: () => (/* binding */ ROLES),\n/* harmony export */   ROLE_CHARS: () => (/* binding */ ROLE_CHARS),\n/* harmony export */   RULES: () => (/* binding */ RULES),\n/* harmony export */   isDrop: () => (/* binding */ isDrop),\n/* harmony export */   isNormal: () => (/* binding */ isNormal)\n/* harmony export */ });\nconst FILE_NAMES = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\nconst RANK_NAMES = ['1', '2', '3', '4', '5', '6', '7', '8'];\nconst ROLE_CHARS = ['q', 'n', 'r', 'b', 'p', 'k'];\nconst COLORS = ['white', 'black'];\nconst ROLES = ['pawn', 'knight', 'bishop', 'rook', 'queen', 'king'];\nconst CASTLING_SIDES = ['a', 'h'];\nconst isDrop = (v) => 'role' in v;\nconst isNormal = (v) => 'from' in v;\nconst RULES = [\n    'chess',\n    'antichess',\n    'kingofthehill',\n    '3check',\n    'atomic',\n    'horde',\n    'racingkings',\n    'crazyhouse',\n];\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS90eXBlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRklMRV9OQU1FUyA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJ107XG5leHBvcnQgY29uc3QgUkFOS19OQU1FUyA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4J107XG5leHBvcnQgY29uc3QgUk9MRV9DSEFSUyA9IFsncScsICduJywgJ3InLCAnYicsICdwJywgJ2snXTtcbmV4cG9ydCBjb25zdCBDT0xPUlMgPSBbJ3doaXRlJywgJ2JsYWNrJ107XG5leHBvcnQgY29uc3QgUk9MRVMgPSBbJ3Bhd24nLCAna25pZ2h0JywgJ2Jpc2hvcCcsICdyb29rJywgJ3F1ZWVuJywgJ2tpbmcnXTtcbmV4cG9ydCBjb25zdCBDQVNUTElOR19TSURFUyA9IFsnYScsICdoJ107XG5leHBvcnQgY29uc3QgaXNEcm9wID0gKHYpID0+ICdyb2xlJyBpbiB2O1xuZXhwb3J0IGNvbnN0IGlzTm9ybWFsID0gKHYpID0+ICdmcm9tJyBpbiB2O1xuZXhwb3J0IGNvbnN0IFJVTEVTID0gW1xuICAgICdjaGVzcycsXG4gICAgJ2FudGljaGVzcycsXG4gICAgJ2tpbmdvZnRoZWhpbGwnLFxuICAgICczY2hlY2snLFxuICAgICdhdG9taWMnLFxuICAgICdob3JkZScsXG4gICAgJ3JhY2luZ2tpbmdzJyxcbiAgICAnY3Jhenlob3VzZScsXG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/types.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/util.js":
/*!************************************************!*\
  !*** ./node_modules/chessops/dist/esm/util.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   charToRole: () => (/* binding */ charToRole),\n/* harmony export */   defined: () => (/* binding */ defined),\n/* harmony export */   kingCastlesTo: () => (/* binding */ kingCastlesTo),\n/* harmony export */   makeSquare: () => (/* binding */ makeSquare),\n/* harmony export */   makeUci: () => (/* binding */ makeUci),\n/* harmony export */   moveEquals: () => (/* binding */ moveEquals),\n/* harmony export */   opposite: () => (/* binding */ opposite),\n/* harmony export */   parseSquare: () => (/* binding */ parseSquare),\n/* harmony export */   parseUci: () => (/* binding */ parseUci),\n/* harmony export */   roleToChar: () => (/* binding */ roleToChar),\n/* harmony export */   rookCastlesTo: () => (/* binding */ rookCastlesTo),\n/* harmony export */   squareFile: () => (/* binding */ squareFile),\n/* harmony export */   squareFromCoords: () => (/* binding */ squareFromCoords),\n/* harmony export */   squareRank: () => (/* binding */ squareRank)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/types.js\");\n\nconst defined = (v) => v !== undefined;\nconst opposite = (color) => (color === 'white' ? 'black' : 'white');\nconst squareRank = (square) => square >> 3;\nconst squareFile = (square) => square & 0x7;\nconst squareFromCoords = (file, rank) => 0 <= file && file < 8 && 0 <= rank && rank < 8 ? file + 8 * rank : undefined;\nconst roleToChar = (role) => {\n    switch (role) {\n        case 'pawn':\n            return 'p';\n        case 'knight':\n            return 'n';\n        case 'bishop':\n            return 'b';\n        case 'rook':\n            return 'r';\n        case 'queen':\n            return 'q';\n        case 'king':\n            return 'k';\n    }\n};\nfunction charToRole(ch) {\n    switch (ch.toLowerCase()) {\n        case 'p':\n            return 'pawn';\n        case 'n':\n            return 'knight';\n        case 'b':\n            return 'bishop';\n        case 'r':\n            return 'rook';\n        case 'q':\n            return 'queen';\n        case 'k':\n            return 'king';\n        default:\n            return;\n    }\n}\nfunction parseSquare(str) {\n    if (str.length !== 2)\n        return;\n    return squareFromCoords(str.charCodeAt(0) - 'a'.charCodeAt(0), str.charCodeAt(1) - '1'.charCodeAt(0));\n}\nconst makeSquare = (square) => (_types_js__WEBPACK_IMPORTED_MODULE_0__.FILE_NAMES[squareFile(square)] + _types_js__WEBPACK_IMPORTED_MODULE_0__.RANK_NAMES[squareRank(square)]);\nconst parseUci = (str) => {\n    if (str[1] === '@' && str.length === 4) {\n        const role = charToRole(str[0]);\n        const to = parseSquare(str.slice(2));\n        if (role && defined(to))\n            return { role, to };\n    }\n    else if (str.length === 4 || str.length === 5) {\n        const from = parseSquare(str.slice(0, 2));\n        const to = parseSquare(str.slice(2, 4));\n        let promotion;\n        if (str.length === 5) {\n            promotion = charToRole(str[4]);\n            if (!promotion)\n                return;\n        }\n        if (defined(from) && defined(to))\n            return { from, to, promotion };\n    }\n    return;\n};\nconst moveEquals = (left, right) => {\n    if (left.to !== right.to)\n        return false;\n    if ((0,_types_js__WEBPACK_IMPORTED_MODULE_0__.isDrop)(left))\n        return (0,_types_js__WEBPACK_IMPORTED_MODULE_0__.isDrop)(right) && left.role === right.role;\n    else\n        return (0,_types_js__WEBPACK_IMPORTED_MODULE_0__.isNormal)(right) && left.from === right.from && left.promotion === right.promotion;\n};\n/**\n * Converts a move to UCI notation, like `g1f3` for a normal move,\n * `a7a8q` for promotion to a queen, and `Q@f7` for a Crazyhouse drop.\n */\nconst makeUci = (move) => (0,_types_js__WEBPACK_IMPORTED_MODULE_0__.isDrop)(move)\n    ? `${roleToChar(move.role).toUpperCase()}@${makeSquare(move.to)}`\n    : makeSquare(move.from) + makeSquare(move.to) + (move.promotion ? roleToChar(move.promotion) : '');\nconst kingCastlesTo = (color, side) => color === 'white' ? (side === 'a' ? 2 : 6) : side === 'a' ? 58 : 62;\nconst rookCastlesTo = (color, side) => color === 'white' ? (side === 'a' ? 3 : 5) : side === 'a' ? 59 : 61;\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS91dGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZ0NBQWdDLGlEQUFVLHVCQUF1QixpREFBVTtBQUMzRTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsUUFBUSxpREFBTTtBQUNkLGVBQWUsaURBQU07QUFDckI7QUFDQSxlQUFlLG1EQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQkFBMEIsaURBQU07QUFDdkMsU0FBUyxvQ0FBb0MsR0FBRyxvQkFBb0I7QUFDcEU7QUFDTztBQUNBO0FBQ1AiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvY2hlc3NvcHMvZGlzdC9lc20vdXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGSUxFX05BTUVTLCBpc0Ryb3AsIGlzTm9ybWFsLCBSQU5LX05BTUVTLCB9IGZyb20gJy4vdHlwZXMuanMnO1xuZXhwb3J0IGNvbnN0IGRlZmluZWQgPSAodikgPT4gdiAhPT0gdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IG9wcG9zaXRlID0gKGNvbG9yKSA9PiAoY29sb3IgPT09ICd3aGl0ZScgPyAnYmxhY2snIDogJ3doaXRlJyk7XG5leHBvcnQgY29uc3Qgc3F1YXJlUmFuayA9IChzcXVhcmUpID0+IHNxdWFyZSA+PiAzO1xuZXhwb3J0IGNvbnN0IHNxdWFyZUZpbGUgPSAoc3F1YXJlKSA9PiBzcXVhcmUgJiAweDc7XG5leHBvcnQgY29uc3Qgc3F1YXJlRnJvbUNvb3JkcyA9IChmaWxlLCByYW5rKSA9PiAwIDw9IGZpbGUgJiYgZmlsZSA8IDggJiYgMCA8PSByYW5rICYmIHJhbmsgPCA4ID8gZmlsZSArIDggKiByYW5rIDogdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IHJvbGVUb0NoYXIgPSAocm9sZSkgPT4ge1xuICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlICdwYXduJzpcbiAgICAgICAgICAgIHJldHVybiAncCc7XG4gICAgICAgIGNhc2UgJ2tuaWdodCc6XG4gICAgICAgICAgICByZXR1cm4gJ24nO1xuICAgICAgICBjYXNlICdiaXNob3AnOlxuICAgICAgICAgICAgcmV0dXJuICdiJztcbiAgICAgICAgY2FzZSAncm9vayc6XG4gICAgICAgICAgICByZXR1cm4gJ3InO1xuICAgICAgICBjYXNlICdxdWVlbic6XG4gICAgICAgICAgICByZXR1cm4gJ3EnO1xuICAgICAgICBjYXNlICdraW5nJzpcbiAgICAgICAgICAgIHJldHVybiAnayc7XG4gICAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBjaGFyVG9Sb2xlKGNoKSB7XG4gICAgc3dpdGNoIChjaC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ3AnOlxuICAgICAgICAgICAgcmV0dXJuICdwYXduJztcbiAgICAgICAgY2FzZSAnbic6XG4gICAgICAgICAgICByZXR1cm4gJ2tuaWdodCc7XG4gICAgICAgIGNhc2UgJ2InOlxuICAgICAgICAgICAgcmV0dXJuICdiaXNob3AnO1xuICAgICAgICBjYXNlICdyJzpcbiAgICAgICAgICAgIHJldHVybiAncm9vayc7XG4gICAgICAgIGNhc2UgJ3EnOlxuICAgICAgICAgICAgcmV0dXJuICdxdWVlbic7XG4gICAgICAgIGNhc2UgJ2snOlxuICAgICAgICAgICAgcmV0dXJuICdraW5nJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTcXVhcmUoc3RyKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggIT09IDIpXG4gICAgICAgIHJldHVybjtcbiAgICByZXR1cm4gc3F1YXJlRnJvbUNvb3JkcyhzdHIuY2hhckNvZGVBdCgwKSAtICdhJy5jaGFyQ29kZUF0KDApLCBzdHIuY2hhckNvZGVBdCgxKSAtICcxJy5jaGFyQ29kZUF0KDApKTtcbn1cbmV4cG9ydCBjb25zdCBtYWtlU3F1YXJlID0gKHNxdWFyZSkgPT4gKEZJTEVfTkFNRVNbc3F1YXJlRmlsZShzcXVhcmUpXSArIFJBTktfTkFNRVNbc3F1YXJlUmFuayhzcXVhcmUpXSk7XG5leHBvcnQgY29uc3QgcGFyc2VVY2kgPSAoc3RyKSA9PiB7XG4gICAgaWYgKHN0clsxXSA9PT0gJ0AnICYmIHN0ci5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgY29uc3Qgcm9sZSA9IGNoYXJUb1JvbGUoc3RyWzBdKTtcbiAgICAgICAgY29uc3QgdG8gPSBwYXJzZVNxdWFyZShzdHIuc2xpY2UoMikpO1xuICAgICAgICBpZiAocm9sZSAmJiBkZWZpbmVkKHRvKSlcbiAgICAgICAgICAgIHJldHVybiB7IHJvbGUsIHRvIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0ci5sZW5ndGggPT09IDQgfHwgc3RyLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICBjb25zdCBmcm9tID0gcGFyc2VTcXVhcmUoc3RyLnNsaWNlKDAsIDIpKTtcbiAgICAgICAgY29uc3QgdG8gPSBwYXJzZVNxdWFyZShzdHIuc2xpY2UoMiwgNCkpO1xuICAgICAgICBsZXQgcHJvbW90aW9uO1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgICAgcHJvbW90aW9uID0gY2hhclRvUm9sZShzdHJbNF0pO1xuICAgICAgICAgICAgaWYgKCFwcm9tb3Rpb24pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKGZyb20pICYmIGRlZmluZWQodG8pKVxuICAgICAgICAgICAgcmV0dXJuIHsgZnJvbSwgdG8sIHByb21vdGlvbiB9O1xuICAgIH1cbiAgICByZXR1cm47XG59O1xuZXhwb3J0IGNvbnN0IG1vdmVFcXVhbHMgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgICBpZiAobGVmdC50byAhPT0gcmlnaHQudG8pXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoaXNEcm9wKGxlZnQpKVxuICAgICAgICByZXR1cm4gaXNEcm9wKHJpZ2h0KSAmJiBsZWZ0LnJvbGUgPT09IHJpZ2h0LnJvbGU7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gaXNOb3JtYWwocmlnaHQpICYmIGxlZnQuZnJvbSA9PT0gcmlnaHQuZnJvbSAmJiBsZWZ0LnByb21vdGlvbiA9PT0gcmlnaHQucHJvbW90aW9uO1xufTtcbi8qKlxuICogQ29udmVydHMgYSBtb3ZlIHRvIFVDSSBub3RhdGlvbiwgbGlrZSBgZzFmM2AgZm9yIGEgbm9ybWFsIG1vdmUsXG4gKiBgYTdhOHFgIGZvciBwcm9tb3Rpb24gdG8gYSBxdWVlbiwgYW5kIGBRQGY3YCBmb3IgYSBDcmF6eWhvdXNlIGRyb3AuXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlVWNpID0gKG1vdmUpID0+IGlzRHJvcChtb3ZlKVxuICAgID8gYCR7cm9sZVRvQ2hhcihtb3ZlLnJvbGUpLnRvVXBwZXJDYXNlKCl9QCR7bWFrZVNxdWFyZShtb3ZlLnRvKX1gXG4gICAgOiBtYWtlU3F1YXJlKG1vdmUuZnJvbSkgKyBtYWtlU3F1YXJlKG1vdmUudG8pICsgKG1vdmUucHJvbW90aW9uID8gcm9sZVRvQ2hhcihtb3ZlLnByb21vdGlvbikgOiAnJyk7XG5leHBvcnQgY29uc3Qga2luZ0Nhc3RsZXNUbyA9IChjb2xvciwgc2lkZSkgPT4gY29sb3IgPT09ICd3aGl0ZScgPyAoc2lkZSA9PT0gJ2EnID8gMiA6IDYpIDogc2lkZSA9PT0gJ2EnID8gNTggOiA2MjtcbmV4cG9ydCBjb25zdCByb29rQ2FzdGxlc1RvID0gKGNvbG9yLCBzaWRlKSA9PiBjb2xvciA9PT0gJ3doaXRlJyA/IChzaWRlID09PSAnYScgPyAzIDogNSkgOiBzaWRlID09PSAnYScgPyA1OSA6IDYxO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/util.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/chessops/dist/esm/variant.js":
/*!***************************************************!*\
  !*** ./node_modules/chessops/dist/esm/variant.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Antichess: () => (/* binding */ Antichess),\n/* harmony export */   Atomic: () => (/* binding */ Atomic),\n/* harmony export */   Castles: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.Castles),\n/* harmony export */   Chess: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess),\n/* harmony export */   Crazyhouse: () => (/* binding */ Crazyhouse),\n/* harmony export */   Horde: () => (/* binding */ Horde),\n/* harmony export */   IllegalSetup: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup),\n/* harmony export */   KingOfTheHill: () => (/* binding */ KingOfTheHill),\n/* harmony export */   Position: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.Position),\n/* harmony export */   PositionError: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError),\n/* harmony export */   RacingKings: () => (/* binding */ RacingKings),\n/* harmony export */   ThreeCheck: () => (/* binding */ ThreeCheck),\n/* harmony export */   castlingSide: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.castlingSide),\n/* harmony export */   defaultPosition: () => (/* binding */ defaultPosition),\n/* harmony export */   equalsIgnoreMoves: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.equalsIgnoreMoves),\n/* harmony export */   isImpossibleCheck: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.isImpossibleCheck),\n/* harmony export */   isStandardMaterial: () => (/* binding */ isStandardMaterial),\n/* harmony export */   normalizeMove: () => (/* reexport safe */ _chess_js__WEBPACK_IMPORTED_MODULE_0__.normalizeMove),\n/* harmony export */   setupPosition: () => (/* binding */ setupPosition)\n/* harmony export */ });\n/* harmony import */ var _badrap_result__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @badrap/result */ \"(app-pages-browser)/./node_modules/@badrap/result/dist/mjs/index.mjs\");\n/* harmony import */ var _attacks_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./attacks.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/attacks.js\");\n/* harmony import */ var _board_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./board.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/board.js\");\n/* harmony import */ var _chess_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chess.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/chess.js\");\n/* harmony import */ var _setup_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setup.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/setup.js\");\n/* harmony import */ var _squareSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./squareSet.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/squareSet.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util.js */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/util.js\");\n\n\n\n\n\n\n\n\n\nclass Crazyhouse extends _chess_js__WEBPACK_IMPORTED_MODULE_0__.Position {\n    constructor() {\n        super('crazyhouse');\n    }\n    reset() {\n        super.reset();\n        this.pockets = _setup_js__WEBPACK_IMPORTED_MODULE_1__.Material.empty();\n    }\n    setupUnchecked(setup) {\n        super.setupUnchecked(setup);\n        this.board.promoted = setup.board.promoted\n            .intersect(setup.board.occupied)\n            .diff(setup.board.king)\n            .diff(setup.board.pawn);\n        this.pockets = setup.pockets ? setup.pockets.clone() : _setup_js__WEBPACK_IMPORTED_MODULE_1__.Material.empty();\n    }\n    static default() {\n        const pos = new this();\n        pos.reset();\n        return pos;\n    }\n    static fromSetup(setup) {\n        const pos = new this();\n        pos.setupUnchecked(setup);\n        return pos.validate().map(_ => pos);\n    }\n    clone() {\n        return super.clone();\n    }\n    validate() {\n        return super.validate().chain(_ => {\n            var _a, _b;\n            if ((_a = this.pockets) === null || _a === void 0 ? void 0 : _a.count('king')) {\n                return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Kings));\n            }\n            if ((((_b = this.pockets) === null || _b === void 0 ? void 0 : _b.size()) || 0) + this.board.occupied.size() > 64) {\n                return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Variant));\n            }\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(undefined);\n        });\n    }\n    hasInsufficientMaterial(color) {\n        // No material can leave the game, but we can easily check this for\n        // custom positions.\n        if (!this.pockets)\n            return super.hasInsufficientMaterial(color);\n        return (this.board.occupied.size() + this.pockets.size() <= 3\n            && this.board.pawn.isEmpty()\n            && this.board.promoted.isEmpty()\n            && this.board.rooksAndQueens().isEmpty()\n            && this.pockets.count('pawn') <= 0\n            && this.pockets.count('rook') <= 0\n            && this.pockets.count('queen') <= 0);\n    }\n    dropDests(ctx) {\n        var _a, _b;\n        const mask = this.board.occupied\n            .complement()\n            .intersect(((_a = this.pockets) === null || _a === void 0 ? void 0 : _a[this.turn].hasNonPawns())\n            ? _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.full()\n            : ((_b = this.pockets) === null || _b === void 0 ? void 0 : _b[this.turn].hasPawns())\n                ? _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.backranks().complement()\n                : _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty());\n        ctx = ctx || this.ctx();\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(ctx.king) && ctx.checkers.nonEmpty()) {\n            const checker = ctx.checkers.singleSquare();\n            if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(checker))\n                return _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n            return mask.intersect((0,_attacks_js__WEBPACK_IMPORTED_MODULE_5__.between)(checker, ctx.king));\n        }\n        else\n            return mask;\n    }\n}\nclass Atomic extends _chess_js__WEBPACK_IMPORTED_MODULE_0__.Position {\n    constructor() {\n        super('atomic');\n    }\n    static default() {\n        const pos = new this();\n        pos.reset();\n        return pos;\n    }\n    static fromSetup(setup) {\n        const pos = new this();\n        pos.setupUnchecked(setup);\n        return pos.validate().map(_ => pos);\n    }\n    clone() {\n        return super.clone();\n    }\n    validate() {\n        // Like chess, but allow our king to be missing.\n        if (this.board.occupied.isEmpty())\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Empty));\n        if (this.board.king.size() > 2)\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Kings));\n        const otherKing = this.board.kingOf((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(this.turn));\n        if (!(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(otherKing))\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Kings));\n        if (this.kingAttackers(otherKing, this.turn, this.board.occupied).nonEmpty()) {\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.OppositeCheck));\n        }\n        if (_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.backranks().intersects(this.board.pawn)) {\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.PawnsOnBackrank));\n        }\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(undefined);\n    }\n    kingAttackers(square, attacker, occupied) {\n        const attackerKings = this.board.pieces(attacker, 'king');\n        if (attackerKings.isEmpty() || (0,_attacks_js__WEBPACK_IMPORTED_MODULE_5__.kingAttacks)(square).intersects(attackerKings)) {\n            return _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n        }\n        return super.kingAttackers(square, attacker, occupied);\n    }\n    playCaptureAt(square, captured) {\n        super.playCaptureAt(square, captured);\n        this.board.take(square);\n        for (const explode of (0,_attacks_js__WEBPACK_IMPORTED_MODULE_5__.kingAttacks)(square).intersect(this.board.occupied).diff(this.board.pawn)) {\n            const piece = this.board.take(explode);\n            if ((piece === null || piece === void 0 ? void 0 : piece.role) === 'rook')\n                this.castles.discardRook(explode);\n            if ((piece === null || piece === void 0 ? void 0 : piece.role) === 'king')\n                this.castles.discardColor(piece.color);\n        }\n    }\n    hasInsufficientMaterial(color) {\n        // Remaining material does not matter if the enemy king is already\n        // exploded.\n        if (this.board.pieces((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color), 'king').isEmpty())\n            return false;\n        // Bare king cannot mate.\n        if (this.board[color].diff(this.board.king).isEmpty())\n            return true;\n        // As long as the enemy king is not alone, there is always a chance their\n        // own pieces explode next to it.\n        if (this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color)].diff(this.board.king).nonEmpty()) {\n            // Unless there are only bishops that cannot explode each other.\n            if (this.board.occupied.equals(this.board.bishop.union(this.board.king))) {\n                if (!this.board.bishop.intersect(this.board.white).intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.darkSquares())) {\n                    return !this.board.bishop.intersect(this.board.black).intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.lightSquares());\n                }\n                if (!this.board.bishop.intersect(this.board.white).intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.lightSquares())) {\n                    return !this.board.bishop.intersect(this.board.black).intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.darkSquares());\n                }\n            }\n            return false;\n        }\n        // Queen or pawn (future queen) can give mate against bare king.\n        if (this.board.queen.nonEmpty() || this.board.pawn.nonEmpty())\n            return false;\n        // Single knight, bishop or rook cannot mate against bare king.\n        if (this.board.knight.union(this.board.bishop).union(this.board.rook).size() === 1)\n            return true;\n        // If only knights, more than two are required to mate bare king.\n        if (this.board.occupied.equals(this.board.knight.union(this.board.king))) {\n            return this.board.knight.size() <= 2;\n        }\n        return false;\n    }\n    dests(square, ctx) {\n        ctx = ctx || this.ctx();\n        let dests = _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n        for (const to of (0,_chess_js__WEBPACK_IMPORTED_MODULE_0__.pseudoDests)(this, square, ctx)) {\n            const after = this.clone();\n            after.play({ from: square, to });\n            const ourKing = after.board.kingOf(this.turn);\n            if ((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(ourKing)\n                && (!(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(after.board.kingOf(after.turn))\n                    || after.kingAttackers(ourKing, after.turn, after.board.occupied).isEmpty())) {\n                dests = dests.with(to);\n            }\n        }\n        return dests;\n    }\n    isVariantEnd() {\n        return !!this.variantOutcome();\n    }\n    variantOutcome(_ctx) {\n        for (const color of _types_js__WEBPACK_IMPORTED_MODULE_6__.COLORS) {\n            if (this.board.pieces(color, 'king').isEmpty())\n                return { winner: (0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color) };\n        }\n        return;\n    }\n}\nclass Antichess extends _chess_js__WEBPACK_IMPORTED_MODULE_0__.Position {\n    constructor() {\n        super('antichess');\n    }\n    reset() {\n        super.reset();\n        this.castles = _chess_js__WEBPACK_IMPORTED_MODULE_0__.Castles.empty();\n    }\n    setupUnchecked(setup) {\n        super.setupUnchecked(setup);\n        this.castles = _chess_js__WEBPACK_IMPORTED_MODULE_0__.Castles.empty();\n    }\n    static default() {\n        const pos = new this();\n        pos.reset();\n        return pos;\n    }\n    static fromSetup(setup) {\n        const pos = new this();\n        pos.setupUnchecked(setup);\n        return pos.validate().map(_ => pos);\n    }\n    clone() {\n        return super.clone();\n    }\n    validate() {\n        if (this.board.occupied.isEmpty())\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Empty));\n        if (_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.backranks().intersects(this.board.pawn)) {\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.PawnsOnBackrank));\n        }\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(undefined);\n    }\n    kingAttackers(_square, _attacker, _occupied) {\n        return _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n    }\n    ctx() {\n        const ctx = super.ctx();\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(this.epSquare)\n            && (0,_attacks_js__WEBPACK_IMPORTED_MODULE_5__.pawnAttacks)((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(this.turn), this.epSquare).intersects(this.board.pieces(this.turn, 'pawn'))) {\n            ctx.mustCapture = true;\n            return ctx;\n        }\n        const enemy = this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(this.turn)];\n        for (const from of this.board[this.turn]) {\n            if ((0,_chess_js__WEBPACK_IMPORTED_MODULE_0__.pseudoDests)(this, from, ctx).intersects(enemy)) {\n                ctx.mustCapture = true;\n                return ctx;\n            }\n        }\n        return ctx;\n    }\n    dests(square, ctx) {\n        ctx = ctx || this.ctx();\n        const dests = (0,_chess_js__WEBPACK_IMPORTED_MODULE_0__.pseudoDests)(this, square, ctx);\n        const enemy = this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(this.turn)];\n        return dests.intersect(ctx.mustCapture\n            ? (0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(this.epSquare) && this.board.getRole(square) === 'pawn'\n                ? enemy.with(this.epSquare)\n                : enemy\n            : _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.full());\n    }\n    hasInsufficientMaterial(color) {\n        if (this.board[color].isEmpty())\n            return false;\n        if (this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color)].isEmpty())\n            return true;\n        if (this.board.occupied.equals(this.board.bishop)) {\n            const weSomeOnLight = this.board[color].intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.lightSquares());\n            const weSomeOnDark = this.board[color].intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.darkSquares());\n            const theyAllOnDark = this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color)].isDisjoint(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.lightSquares());\n            const theyAllOnLight = this.board[(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color)].isDisjoint(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.darkSquares());\n            return (weSomeOnLight && theyAllOnDark) || (weSomeOnDark && theyAllOnLight);\n        }\n        if (this.board.occupied.equals(this.board.knight) && this.board.occupied.size() === 2) {\n            return ((this.board.white.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.lightSquares())\n                !== this.board.black.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.darkSquares()))\n                !== (this.turn === color));\n        }\n        return false;\n    }\n    isVariantEnd() {\n        return this.board[this.turn].isEmpty();\n    }\n    variantOutcome(ctx) {\n        ctx = ctx || this.ctx();\n        if (ctx.variantEnd || this.isStalemate(ctx)) {\n            return { winner: this.turn };\n        }\n        return;\n    }\n}\nclass KingOfTheHill extends _chess_js__WEBPACK_IMPORTED_MODULE_0__.Position {\n    constructor() {\n        super('kingofthehill');\n    }\n    static default() {\n        const pos = new this();\n        pos.reset();\n        return pos;\n    }\n    static fromSetup(setup) {\n        const pos = new this();\n        pos.setupUnchecked(setup);\n        return pos.validate().map(_ => pos);\n    }\n    clone() {\n        return super.clone();\n    }\n    hasInsufficientMaterial(_color) {\n        return false;\n    }\n    isVariantEnd() {\n        return this.board.king.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.center());\n    }\n    variantOutcome(_ctx) {\n        for (const color of _types_js__WEBPACK_IMPORTED_MODULE_6__.COLORS) {\n            if (this.board.pieces(color, 'king').intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.center()))\n                return { winner: color };\n        }\n        return;\n    }\n}\nclass ThreeCheck extends _chess_js__WEBPACK_IMPORTED_MODULE_0__.Position {\n    constructor() {\n        super('3check');\n    }\n    reset() {\n        super.reset();\n        this.remainingChecks = _setup_js__WEBPACK_IMPORTED_MODULE_1__.RemainingChecks.default();\n    }\n    setupUnchecked(setup) {\n        var _a;\n        super.setupUnchecked(setup);\n        this.remainingChecks = ((_a = setup.remainingChecks) === null || _a === void 0 ? void 0 : _a.clone()) || _setup_js__WEBPACK_IMPORTED_MODULE_1__.RemainingChecks.default();\n    }\n    static default() {\n        const pos = new this();\n        pos.reset();\n        return pos;\n    }\n    static fromSetup(setup) {\n        const pos = new this();\n        pos.setupUnchecked(setup);\n        return pos.validate().map(_ => pos);\n    }\n    clone() {\n        return super.clone();\n    }\n    hasInsufficientMaterial(color) {\n        return this.board.pieces(color, 'king').equals(this.board[color]);\n    }\n    isVariantEnd() {\n        return !!this.remainingChecks && (this.remainingChecks.white <= 0 || this.remainingChecks.black <= 0);\n    }\n    variantOutcome(_ctx) {\n        if (this.remainingChecks) {\n            for (const color of _types_js__WEBPACK_IMPORTED_MODULE_6__.COLORS) {\n                if (this.remainingChecks[color] <= 0)\n                    return { winner: color };\n            }\n        }\n        return;\n    }\n}\nconst racingKingsBoard = () => {\n    const board = _board_js__WEBPACK_IMPORTED_MODULE_7__.Board.empty();\n    board.occupied = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0xffff, 0);\n    board.promoted = _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n    board.white = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0xf0f0, 0);\n    board.black = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0x0f0f, 0);\n    board.pawn = _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n    board.knight = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0x1818, 0);\n    board.bishop = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0x2424, 0);\n    board.rook = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0x4242, 0);\n    board.queen = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0x0081, 0);\n    board.king = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0x8100, 0);\n    return board;\n};\nclass RacingKings extends _chess_js__WEBPACK_IMPORTED_MODULE_0__.Position {\n    constructor() {\n        super('racingkings');\n    }\n    reset() {\n        this.board = racingKingsBoard();\n        this.pockets = undefined;\n        this.turn = 'white';\n        this.castles = _chess_js__WEBPACK_IMPORTED_MODULE_0__.Castles.empty();\n        this.epSquare = undefined;\n        this.remainingChecks = undefined;\n        this.halfmoves = 0;\n        this.fullmoves = 1;\n    }\n    setupUnchecked(setup) {\n        super.setupUnchecked(setup);\n        this.castles = _chess_js__WEBPACK_IMPORTED_MODULE_0__.Castles.empty();\n    }\n    static default() {\n        const pos = new this();\n        pos.reset();\n        return pos;\n    }\n    static fromSetup(setup) {\n        const pos = new this();\n        pos.setupUnchecked(setup);\n        return pos.validate().map(_ => pos);\n    }\n    clone() {\n        return super.clone();\n    }\n    validate() {\n        if (this.isCheck() || this.board.pawn.nonEmpty())\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Variant));\n        return super.validate();\n    }\n    dests(square, ctx) {\n        ctx = ctx || this.ctx();\n        // Kings cannot give check.\n        if (square === ctx.king)\n            return super.dests(square, ctx);\n        // Do not allow giving check.\n        let dests = _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n        for (const to of super.dests(square, ctx)) {\n            // Valid, because there are no promotions (or even pawns).\n            const move = { from: square, to };\n            const after = this.clone();\n            after.play(move);\n            if (!after.isCheck())\n                dests = dests.with(to);\n        }\n        return dests;\n    }\n    hasInsufficientMaterial(_color) {\n        return false;\n    }\n    isVariantEnd() {\n        const goal = _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.fromRank(7);\n        const inGoal = this.board.king.intersect(goal);\n        if (inGoal.isEmpty())\n            return false;\n        if (this.turn === 'white' || inGoal.intersects(this.board.black))\n            return true;\n        // White has reached the backrank. Check if black can catch up.\n        const blackKing = this.board.kingOf('black');\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(blackKing)) {\n            const occ = this.board.occupied.without(blackKing);\n            for (const target of (0,_attacks_js__WEBPACK_IMPORTED_MODULE_5__.kingAttacks)(blackKing).intersect(goal).diff(this.board.black)) {\n                if (this.kingAttackers(target, 'white', occ).isEmpty())\n                    return false;\n            }\n        }\n        return true;\n    }\n    variantOutcome(ctx) {\n        if (ctx ? !ctx.variantEnd : !this.isVariantEnd())\n            return;\n        const goal = _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.fromRank(7);\n        const blackInGoal = this.board.pieces('black', 'king').intersects(goal);\n        const whiteInGoal = this.board.pieces('white', 'king').intersects(goal);\n        if (blackInGoal && !whiteInGoal)\n            return { winner: 'black' };\n        if (whiteInGoal && !blackInGoal)\n            return { winner: 'white' };\n        return { winner: undefined };\n    }\n}\nconst hordeBoard = () => {\n    const board = _board_js__WEBPACK_IMPORTED_MODULE_7__.Board.empty();\n    board.occupied = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(4294967295, 4294901862);\n    board.promoted = _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.empty();\n    board.white = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(4294967295, 102);\n    board.black = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0, 4294901760);\n    board.pawn = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(4294967295, 16711782);\n    board.knight = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0, 1107296256);\n    board.bishop = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0, 603979776);\n    board.rook = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0, 2164260864);\n    board.queen = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0, 134217728);\n    board.king = new _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet(0, 268435456);\n    return board;\n};\nclass Horde extends _chess_js__WEBPACK_IMPORTED_MODULE_0__.Position {\n    constructor() {\n        super('horde');\n    }\n    reset() {\n        this.board = hordeBoard();\n        this.pockets = undefined;\n        this.turn = 'white';\n        this.castles = _chess_js__WEBPACK_IMPORTED_MODULE_0__.Castles.default();\n        this.castles.discardColor('white');\n        this.epSquare = undefined;\n        this.remainingChecks = undefined;\n        this.halfmoves = 0;\n        this.fullmoves = 1;\n    }\n    static default() {\n        const pos = new this();\n        pos.reset();\n        return pos;\n    }\n    static fromSetup(setup) {\n        const pos = new this();\n        pos.setupUnchecked(setup);\n        return pos.validate().map(_ => pos);\n    }\n    clone() {\n        return super.clone();\n    }\n    validate() {\n        if (this.board.occupied.isEmpty())\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Empty));\n        if (this.board.king.size() !== 1)\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.Kings));\n        const otherKing = this.board.kingOf((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(this.turn));\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.defined)(otherKing) && this.kingAttackers(otherKing, this.turn, this.board.occupied).nonEmpty()) {\n            return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.OppositeCheck));\n        }\n        for (const color of _types_js__WEBPACK_IMPORTED_MODULE_6__.COLORS) {\n            const backranks = this.board.pieces(color, 'king').isEmpty()\n                ? _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.backrank((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color))\n                : _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.backranks();\n            if (this.board.pieces(color, 'pawn').intersects(backranks)) {\n                return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.err(new _chess_js__WEBPACK_IMPORTED_MODULE_0__.PositionError(_chess_js__WEBPACK_IMPORTED_MODULE_0__.IllegalSetup.PawnsOnBackrank));\n            }\n        }\n        return _badrap_result__WEBPACK_IMPORTED_MODULE_2__.Result.ok(undefined);\n    }\n    hasInsufficientMaterial(color) {\n        // The side with the king can always win by capturing the horde.\n        if (this.board.pieces(color, 'king').nonEmpty())\n            return false;\n        const oppositeSquareColor = (squareColor) => (squareColor === 'light' ? 'dark' : 'light');\n        const coloredSquares = (squareColor) => squareColor === 'light' ? _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.lightSquares() : _squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.darkSquares();\n        const hasBishopPair = (side) => {\n            const bishops = this.board.pieces(side, 'bishop');\n            return bishops.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.darkSquares()) && bishops.intersects(_squareSet_js__WEBPACK_IMPORTED_MODULE_3__.SquareSet.lightSquares());\n        };\n        // By this point: color is the horde.\n        // Based on\n        // https://github.com/stevepapazis/horde-insufficient-material-tests.\n        const horde = _setup_js__WEBPACK_IMPORTED_MODULE_1__.MaterialSide.fromBoard(this.board, color);\n        const hordeBishops = (squareColor) => coloredSquares(squareColor).intersect(this.board.pieces(color, 'bishop')).size();\n        const hordeBishopColor = hordeBishops('light') >= 1 ? 'light' : 'dark';\n        const hordeNum = horde.pawn\n            + horde.knight\n            + horde.rook\n            + horde.queen\n            + Math.min(hordeBishops('dark'), 2)\n            + Math.min(hordeBishops('light'), 2);\n        const pieces = _setup_js__WEBPACK_IMPORTED_MODULE_1__.MaterialSide.fromBoard(this.board, (0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color));\n        const piecesBishops = (squareColor) => coloredSquares(squareColor)\n            .intersect(this.board.pieces((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color), 'bishop'))\n            .size();\n        const piecesNum = pieces.size();\n        const piecesOfRoleNot = (piece) => piecesNum - piece;\n        if (hordeNum === 0)\n            return true;\n        if (hordeNum >= 4) {\n            // Four or more pieces can always deliver mate.\n            return false;\n        }\n        if ((horde.pawn >= 1 || horde.queen >= 1) && hordeNum >= 2) {\n            // Pawns/queens are never insufficient material when paired with any other\n            // piece (a pawn promotes to a queen and delivers mate).\n            return false;\n        }\n        if (horde.rook >= 1 && hordeNum >= 2) {\n            // A rook is insufficient material only when it is paired with a bishop\n            // against a lone king. The horde can mate in any other case.\n            // A rook on A1 and a bishop on C3 mate a king on B1 when there is a\n            // friendly pawn/opposite-color-bishop/rook/queen on C2.\n            // A rook on B8 and a bishop C3 mate a king on A1 when there is a friendly\n            // knight on A2.\n            if (!(hordeNum === 2\n                && horde.rook === 1\n                && horde.bishop === 1\n                && piecesOfRoleNot(piecesBishops(hordeBishopColor)) === 1)) {\n                return false;\n            }\n        }\n        if (hordeNum === 1) {\n            if (piecesNum === 1) {\n                // A lone piece cannot mate a lone king.\n                return true;\n            }\n            else if (horde.queen === 1) {\n                // The horde has a lone queen.\n                // A lone queen mates a king on A1 bounded by:\n                //  -- a pawn/rook on A2\n                //  -- two same color bishops on A2, B1\n                // We ignore every other mating case, since it can be reduced to\n                // the two previous cases (e.g. a black pawn on A2 and a black\n                // bishop on B1).\n                return !(pieces.pawn >= 1 || pieces.rook >= 1 || piecesBishops('light') >= 2 || piecesBishops('dark') >= 2);\n            }\n            else if (horde.pawn === 1) {\n                // Promote the pawn to a queen or a knight and check whether white\n                // can mate.\n                const pawnSquare = this.board.pieces(color, 'pawn').last();\n                const promoteToQueen = this.clone();\n                promoteToQueen.board.set(pawnSquare, { color, role: 'queen' });\n                const promoteToKnight = this.clone();\n                promoteToKnight.board.set(pawnSquare, { color, role: 'knight' });\n                return promoteToQueen.hasInsufficientMaterial(color) && promoteToKnight.hasInsufficientMaterial(color);\n            }\n            else if (horde.rook === 1) {\n                // A lone rook mates a king on A8 bounded by a pawn/rook on A7 and a\n                // pawn/knight on B7. We ignore every other case, since it can be\n                // reduced to the two previous cases.\n                // (e.g. three pawns on A7, B7, C7)\n                return !(pieces.pawn >= 2\n                    || (pieces.rook >= 1 && pieces.pawn >= 1)\n                    || (pieces.rook >= 1 && pieces.knight >= 1)\n                    || (pieces.pawn >= 1 && pieces.knight >= 1));\n            }\n            else if (horde.bishop === 1) {\n                // The horde has a lone bishop.\n                return !(\n                // The king can be mated on A1 if there is a pawn/opposite-color-bishop\n                // on A2 and an opposite-color-bishop on B1.\n                // If black has two or more pawns, white gets the benefit of the doubt;\n                // there is an outside chance that white promotes its pawns to\n                // opposite-color-bishops and selfmates theirself.\n                // Every other case that the king is mated by the bishop requires that\n                // black has two pawns or two opposite-color-bishop or a pawn and an\n                // opposite-color-bishop.\n                // For example a king on A3 can be mated if there is\n                // a pawn/opposite-color-bishop on A4, a pawn/opposite-color-bishop on\n                // B3, a pawn/bishop/rook/queen on A2 and any other piece on B2.\n                piecesBishops(oppositeSquareColor(hordeBishopColor)) >= 2\n                    || (piecesBishops(oppositeSquareColor(hordeBishopColor)) >= 1 && pieces.pawn >= 1)\n                    || pieces.pawn >= 2);\n            }\n            else if (horde.knight === 1) {\n                // The horde has a lone knight.\n                return !(\n                // The king on A1 can be smother mated by a knight on C2 if there is\n                // a pawn/knight/bishop on B2, a knight/rook on B1 and any other piece\n                // on A2.\n                // Moreover, when black has four or more pieces and two of them are\n                // pawns, black can promote their pawns and selfmate theirself.\n                piecesNum >= 4\n                    && (pieces.knight >= 2\n                        || pieces.pawn >= 2\n                        || (pieces.rook >= 1 && pieces.knight >= 1)\n                        || (pieces.rook >= 1 && pieces.bishop >= 1)\n                        || (pieces.knight >= 1 && pieces.bishop >= 1)\n                        || (pieces.rook >= 1 && pieces.pawn >= 1)\n                        || (pieces.knight >= 1 && pieces.pawn >= 1)\n                        || (pieces.bishop >= 1 && pieces.pawn >= 1)\n                        || (hasBishopPair((0,_util_js__WEBPACK_IMPORTED_MODULE_4__.opposite)(color)) && pieces.pawn >= 1))\n                    && (piecesBishops('dark') < 2 || piecesOfRoleNot(piecesBishops('dark')) >= 3)\n                    && (piecesBishops('light') < 2 || piecesOfRoleNot(piecesBishops('light')) >= 3));\n            }\n            // By this point, we only need to deal with white's minor pieces.\n        }\n        else if (hordeNum === 2) {\n            if (piecesNum === 1) {\n                // Two minor pieces cannot mate a lone king.\n                return true;\n            }\n            else if (horde.knight === 2) {\n                // A king on A1 is mated by two knights, if it is obstructed by a\n                // pawn/bishop/knight on B2. On the other hand, if black only has\n                // major pieces it is a draw.\n                return pieces.pawn + pieces.bishop + pieces.knight < 1;\n            }\n            else if (hasBishopPair(color)) {\n                return !(\n                // A king on A1 obstructed by a pawn/bishop on A2 is mated\n                // by the bishop pair.\n                pieces.pawn >= 1\n                    || pieces.bishop >= 1\n                    // A pawn/bishop/knight on B4, a pawn/bishop/rook/queen on\n                    // A4 and the king on A3 enable Boden's mate by the bishop\n                    // pair. In every other case white cannot win.\n                    || (pieces.knight >= 1 && pieces.rook + pieces.queen >= 1));\n            }\n            else if (horde.bishop >= 1 && horde.knight >= 1) {\n                // The horde has a bishop and a knight.\n                return !(\n                // A king on A1 obstructed by a pawn/opposite-color-bishop on\n                // A2 is mated by a knight on D2 and a bishop on C3.\n                pieces.pawn >= 1\n                    || piecesBishops(oppositeSquareColor(hordeBishopColor)) >= 1\n                    // A king on A1 bounded by two friendly pieces on A2 and B1 is\n                    // mated when the knight moves from D4 to C2 so that both the\n                    // knight and the bishop deliver check.\n                    || piecesOfRoleNot(piecesBishops(hordeBishopColor)) >= 3);\n            }\n            else {\n                // The horde has two or more bishops on the same color.\n                // White can only win if black has enough material to obstruct\n                // the squares of the opposite color around the king.\n                return !(\n                // A king on A1 obstructed by a pawn/opposite-bishop/knight\n                // on A2 and a opposite-bishop/knight on B1 is mated by two\n                // bishops on B2 and C3. This position is theoretically\n                // achievable even when black has two pawns or when they\n                // have a pawn and an opposite color bishop.\n                (pieces.pawn >= 1 && piecesBishops(oppositeSquareColor(hordeBishopColor)) >= 1)\n                    || (pieces.pawn >= 1 && pieces.knight >= 1)\n                    || (piecesBishops(oppositeSquareColor(hordeBishopColor)) >= 1 && pieces.knight >= 1)\n                    || piecesBishops(oppositeSquareColor(hordeBishopColor)) >= 2\n                    || pieces.knight >= 2\n                    || pieces.pawn >= 2\n                // In every other case, white can only draw.\n                );\n            }\n        }\n        else if (hordeNum === 3) {\n            // A king in the corner is mated by two knights and a bishop or three\n            // knights or the bishop pair and a knight/bishop.\n            if ((horde.knight === 2 && horde.bishop === 1) || horde.knight === 3 || hasBishopPair(color)) {\n                return false;\n            }\n            else {\n                // White has two same color bishops and a knight.\n                // A king on A1 is mated by a bishop on B2, a bishop on C1 and a\n                // knight on C3, as long as there is another black piece to waste\n                // a tempo.\n                return piecesNum === 1;\n            }\n        }\n        return true;\n    }\n    isVariantEnd() {\n        return this.board.white.isEmpty() || this.board.black.isEmpty();\n    }\n    variantOutcome(_ctx) {\n        if (this.board.white.isEmpty())\n            return { winner: 'black' };\n        if (this.board.black.isEmpty())\n            return { winner: 'white' };\n        return;\n    }\n}\nconst defaultPosition = (rules) => {\n    switch (rules) {\n        case 'chess':\n            return _chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess.default();\n        case 'antichess':\n            return Antichess.default();\n        case 'atomic':\n            return Atomic.default();\n        case 'horde':\n            return Horde.default();\n        case 'racingkings':\n            return RacingKings.default();\n        case 'kingofthehill':\n            return KingOfTheHill.default();\n        case '3check':\n            return ThreeCheck.default();\n        case 'crazyhouse':\n            return Crazyhouse.default();\n    }\n};\nconst setupPosition = (rules, setup) => {\n    switch (rules) {\n        case 'chess':\n            return _chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess.fromSetup(setup);\n        case 'antichess':\n            return Antichess.fromSetup(setup);\n        case 'atomic':\n            return Atomic.fromSetup(setup);\n        case 'horde':\n            return Horde.fromSetup(setup);\n        case 'racingkings':\n            return RacingKings.fromSetup(setup);\n        case 'kingofthehill':\n            return KingOfTheHill.fromSetup(setup);\n        case '3check':\n            return ThreeCheck.fromSetup(setup);\n        case 'crazyhouse':\n            return Crazyhouse.fromSetup(setup);\n    }\n};\nconst isStandardMaterial = (pos) => {\n    var _a, _b, _c, _d, _e;\n    switch (pos.rules) {\n        case 'chess':\n        case 'antichess':\n        case 'atomic':\n        case 'kingofthehill':\n        case '3check':\n            return _types_js__WEBPACK_IMPORTED_MODULE_6__.COLORS.every(color => (0,_chess_js__WEBPACK_IMPORTED_MODULE_0__.isStandardMaterialSide)(pos.board, color));\n        case 'crazyhouse': {\n            const promoted = pos.board.promoted;\n            return (promoted.size() + pos.board.pawn.size() + (((_a = pos.pockets) === null || _a === void 0 ? void 0 : _a.count('pawn')) || 0) <= 16\n                && pos.board.knight.diff(promoted).size() + (((_b = pos.pockets) === null || _b === void 0 ? void 0 : _b.count('knight')) || 0) <= 4\n                && pos.board.bishop.diff(promoted).size() + (((_c = pos.pockets) === null || _c === void 0 ? void 0 : _c.count('bishop')) || 0) <= 4\n                && pos.board.rook.diff(promoted).size() + (((_d = pos.pockets) === null || _d === void 0 ? void 0 : _d.count('rook')) || 0) <= 4\n                && pos.board.queen.diff(promoted).size() + (((_e = pos.pockets) === null || _e === void 0 ? void 0 : _e.count('queen')) || 0) <= 2);\n        }\n        case 'horde':\n            return _types_js__WEBPACK_IMPORTED_MODULE_6__.COLORS.every(color => pos.board.pieces(color, 'king').nonEmpty()\n                ? (0,_chess_js__WEBPACK_IMPORTED_MODULE_0__.isStandardMaterialSide)(pos.board, color)\n                : pos.board[color].size() <= 36);\n        case 'racingkings':\n            return _types_js__WEBPACK_IMPORTED_MODULE_6__.COLORS.every(color => pos.board.pieces(color, 'knight').size() <= 2\n                && pos.board.pieces(color, 'bishop').size() <= 2\n                && pos.board.pieces(color, 'rook').size() <= 2\n                && pos.board.pieces(color, 'queen').size() <= 1);\n    }\n};\n//# sourceMappingURL=variant.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jaGVzc29wcy9kaXN0L2VzbS92YXJpYW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QztBQUN5QjtBQUM5QjtBQUN5SjtBQUN2SDtBQUMxQjtBQUNQO0FBQ1U7QUFDdUY7QUFDOUgseUJBQXlCLCtDQUFRO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsK0NBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsK0NBQVE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFNLFNBQVMsb0RBQWEsQ0FBQyxtREFBWTtBQUNoRTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFNLFNBQVMsb0RBQWEsQ0FBQyxtREFBWTtBQUNoRTtBQUNBLG1CQUFtQixrREFBTTtBQUN6QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG9EQUFTO0FBQ3ZCO0FBQ0Esa0JBQWtCLG9EQUFTO0FBQzNCLGtCQUFrQixvREFBUztBQUMzQjtBQUNBLFlBQVksaURBQU87QUFDbkI7QUFDQSxpQkFBaUIsaURBQU87QUFDeEIsdUJBQXVCLG9EQUFTO0FBQ2hDLGtDQUFrQyxvREFBTztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLCtDQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJB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QUFNO0FBQ3pCLGtCQUFrQixpRUFBc0I7QUFDeEM7QUFDQTtBQUNBLG1CQUFtQiw2Q0FBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvY2hlc3NvcHMvZGlzdC9lc20vdmFyaWFudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXN1bHQgfSBmcm9tICdAYmFkcmFwL3Jlc3VsdCc7XG5pbXBvcnQgeyBiZXR3ZWVuLCBraW5nQXR0YWNrcywgcGF3bkF0dGFja3MgfSBmcm9tICcuL2F0dGFja3MuanMnO1xuaW1wb3J0IHsgQm9hcmQgfSBmcm9tICcuL2JvYXJkLmpzJztcbmltcG9ydCB7IENhc3RsZXMsIGNhc3RsaW5nU2lkZSwgQ2hlc3MsIGVxdWFsc0lnbm9yZU1vdmVzLCBJbGxlZ2FsU2V0dXAsIGlzSW1wb3NzaWJsZUNoZWNrLCBpc1N0YW5kYXJkTWF0ZXJpYWxTaWRlLCBub3JtYWxpemVNb3ZlLCBQb3NpdGlvbiwgUG9zaXRpb25FcnJvciwgcHNldWRvRGVzdHMsIH0gZnJvbSAnLi9jaGVzcy5qcyc7XG5pbXBvcnQgeyBNYXRlcmlhbCwgTWF0ZXJpYWxTaWRlLCBSZW1haW5pbmdDaGVja3MgfSBmcm9tICcuL3NldHVwLmpzJztcbmltcG9ydCB7IFNxdWFyZVNldCB9IGZyb20gJy4vc3F1YXJlU2V0LmpzJztcbmltcG9ydCB7IENPTE9SUyB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgZGVmaW5lZCwgb3Bwb3NpdGUgfSBmcm9tICcuL3V0aWwuanMnO1xuZXhwb3J0IHsgQ2FzdGxlcywgY2FzdGxpbmdTaWRlLCBDaGVzcywgZXF1YWxzSWdub3JlTW92ZXMsIElsbGVnYWxTZXR1cCwgaXNJbXBvc3NpYmxlQ2hlY2ssIG5vcm1hbGl6ZU1vdmUsIFBvc2l0aW9uLCBQb3NpdGlvbkVycm9yLCB9O1xuZXhwb3J0IGNsYXNzIENyYXp5aG91c2UgZXh0ZW5kcyBQb3NpdGlvbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdjcmF6eWhvdXNlJyk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICBzdXBlci5yZXNldCgpO1xuICAgICAgICB0aGlzLnBvY2tldHMgPSBNYXRlcmlhbC5lbXB0eSgpO1xuICAgIH1cbiAgICBzZXR1cFVuY2hlY2tlZChzZXR1cCkge1xuICAgICAgICBzdXBlci5zZXR1cFVuY2hlY2tlZChzZXR1cCk7XG4gICAgICAgIHRoaXMuYm9hcmQucHJvbW90ZWQgPSBzZXR1cC5ib2FyZC5wcm9tb3RlZFxuICAgICAgICAgICAgLmludGVyc2VjdChzZXR1cC5ib2FyZC5vY2N1cGllZClcbiAgICAgICAgICAgIC5kaWZmKHNldHVwLmJvYXJkLmtpbmcpXG4gICAgICAgICAgICAuZGlmZihzZXR1cC5ib2FyZC5wYXduKTtcbiAgICAgICAgdGhpcy5wb2NrZXRzID0gc2V0dXAucG9ja2V0cyA/IHNldHVwLnBvY2tldHMuY2xvbmUoKSA6IE1hdGVyaWFsLmVtcHR5KCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZWZhdWx0KCkge1xuICAgICAgICBjb25zdCBwb3MgPSBuZXcgdGhpcygpO1xuICAgICAgICBwb3MucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgc3RhdGljIGZyb21TZXR1cChzZXR1cCkge1xuICAgICAgICBjb25zdCBwb3MgPSBuZXcgdGhpcygpO1xuICAgICAgICBwb3Muc2V0dXBVbmNoZWNrZWQoc2V0dXApO1xuICAgICAgICByZXR1cm4gcG9zLnZhbGlkYXRlKCkubWFwKF8gPT4gcG9zKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5jbG9uZSgpO1xuICAgIH1cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnZhbGlkYXRlKCkuY2hhaW4oXyA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKChfYSA9IHRoaXMucG9ja2V0cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvdW50KCdraW5nJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuS2luZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoKChfYiA9IHRoaXMucG9ja2V0cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNpemUoKSkgfHwgMCkgKyB0aGlzLmJvYXJkLm9jY3VwaWVkLnNpemUoKSA+IDY0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IFBvc2l0aW9uRXJyb3IoSWxsZWdhbFNldHVwLlZhcmlhbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQub2sodW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhc0luc3VmZmljaWVudE1hdGVyaWFsKGNvbG9yKSB7XG4gICAgICAgIC8vIE5vIG1hdGVyaWFsIGNhbiBsZWF2ZSB0aGUgZ2FtZSwgYnV0IHdlIGNhbiBlYXNpbHkgY2hlY2sgdGhpcyBmb3JcbiAgICAgICAgLy8gY3VzdG9tIHBvc2l0aW9ucy5cbiAgICAgICAgaWYgKCF0aGlzLnBvY2tldHMpXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoY29sb3IpO1xuICAgICAgICByZXR1cm4gKHRoaXMuYm9hcmQub2NjdXBpZWQuc2l6ZSgpICsgdGhpcy5wb2NrZXRzLnNpemUoKSA8PSAzXG4gICAgICAgICAgICAmJiB0aGlzLmJvYXJkLnBhd24uaXNFbXB0eSgpXG4gICAgICAgICAgICAmJiB0aGlzLmJvYXJkLnByb21vdGVkLmlzRW1wdHkoKVxuICAgICAgICAgICAgJiYgdGhpcy5ib2FyZC5yb29rc0FuZFF1ZWVucygpLmlzRW1wdHkoKVxuICAgICAgICAgICAgJiYgdGhpcy5wb2NrZXRzLmNvdW50KCdwYXduJykgPD0gMFxuICAgICAgICAgICAgJiYgdGhpcy5wb2NrZXRzLmNvdW50KCdyb29rJykgPD0gMFxuICAgICAgICAgICAgJiYgdGhpcy5wb2NrZXRzLmNvdW50KCdxdWVlbicpIDw9IDApO1xuICAgIH1cbiAgICBkcm9wRGVzdHMoY3R4KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IG1hc2sgPSB0aGlzLmJvYXJkLm9jY3VwaWVkXG4gICAgICAgICAgICAuY29tcGxlbWVudCgpXG4gICAgICAgICAgICAuaW50ZXJzZWN0KCgoX2EgPSB0aGlzLnBvY2tldHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVt0aGlzLnR1cm5dLmhhc05vblBhd25zKCkpXG4gICAgICAgICAgICA/IFNxdWFyZVNldC5mdWxsKClcbiAgICAgICAgICAgIDogKChfYiA9IHRoaXMucG9ja2V0cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW3RoaXMudHVybl0uaGFzUGF3bnMoKSlcbiAgICAgICAgICAgICAgICA/IFNxdWFyZVNldC5iYWNrcmFua3MoKS5jb21wbGVtZW50KClcbiAgICAgICAgICAgICAgICA6IFNxdWFyZVNldC5lbXB0eSgpKTtcbiAgICAgICAgY3R4ID0gY3R4IHx8IHRoaXMuY3R4KCk7XG4gICAgICAgIGlmIChkZWZpbmVkKGN0eC5raW5nKSAmJiBjdHguY2hlY2tlcnMubm9uRW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tlciA9IGN0eC5jaGVja2Vycy5zaW5nbGVTcXVhcmUoKTtcbiAgICAgICAgICAgIGlmICghZGVmaW5lZChjaGVja2VyKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgICAgICAgICByZXR1cm4gbWFzay5pbnRlcnNlY3QoYmV0d2VlbihjaGVja2VyLCBjdHgua2luZykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBtYXNrO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBdG9taWMgZXh0ZW5kcyBQb3NpdGlvbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdhdG9taWMnKTtcbiAgICB9XG4gICAgc3RhdGljIGRlZmF1bHQoKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG5ldyB0aGlzKCk7XG4gICAgICAgIHBvcy5yZXNldCgpO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNldHVwKHNldHVwKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG5ldyB0aGlzKCk7XG4gICAgICAgIHBvcy5zZXR1cFVuY2hlY2tlZChzZXR1cCk7XG4gICAgICAgIHJldHVybiBwb3MudmFsaWRhdGUoKS5tYXAoXyA9PiBwb3MpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmNsb25lKCk7XG4gICAgfVxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICAvLyBMaWtlIGNoZXNzLCBidXQgYWxsb3cgb3VyIGtpbmcgdG8gYmUgbWlzc2luZy5cbiAgICAgICAgaWYgKHRoaXMuYm9hcmQub2NjdXBpZWQuaXNFbXB0eSgpKVxuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IFBvc2l0aW9uRXJyb3IoSWxsZWdhbFNldHVwLkVtcHR5KSk7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkLmtpbmcuc2l6ZSgpID4gMilcbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBQb3NpdGlvbkVycm9yKElsbGVnYWxTZXR1cC5LaW5ncykpO1xuICAgICAgICBjb25zdCBvdGhlcktpbmcgPSB0aGlzLmJvYXJkLmtpbmdPZihvcHBvc2l0ZSh0aGlzLnR1cm4pKTtcbiAgICAgICAgaWYgKCFkZWZpbmVkKG90aGVyS2luZykpXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuS2luZ3MpKTtcbiAgICAgICAgaWYgKHRoaXMua2luZ0F0dGFja2VycyhvdGhlcktpbmcsIHRoaXMudHVybiwgdGhpcy5ib2FyZC5vY2N1cGllZCkubm9uRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IFBvc2l0aW9uRXJyb3IoSWxsZWdhbFNldHVwLk9wcG9zaXRlQ2hlY2spKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3F1YXJlU2V0LmJhY2tyYW5rcygpLmludGVyc2VjdHModGhpcy5ib2FyZC5wYXduKSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IFBvc2l0aW9uRXJyb3IoSWxsZWdhbFNldHVwLlBhd25zT25CYWNrcmFuaykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZXN1bHQub2sodW5kZWZpbmVkKTtcbiAgICB9XG4gICAga2luZ0F0dGFja2VycyhzcXVhcmUsIGF0dGFja2VyLCBvY2N1cGllZCkge1xuICAgICAgICBjb25zdCBhdHRhY2tlcktpbmdzID0gdGhpcy5ib2FyZC5waWVjZXMoYXR0YWNrZXIsICdraW5nJyk7XG4gICAgICAgIGlmIChhdHRhY2tlcktpbmdzLmlzRW1wdHkoKSB8fCBraW5nQXR0YWNrcyhzcXVhcmUpLmludGVyc2VjdHMoYXR0YWNrZXJLaW5ncykpIHtcbiAgICAgICAgICAgIHJldHVybiBTcXVhcmVTZXQuZW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIua2luZ0F0dGFja2VycyhzcXVhcmUsIGF0dGFja2VyLCBvY2N1cGllZCk7XG4gICAgfVxuICAgIHBsYXlDYXB0dXJlQXQoc3F1YXJlLCBjYXB0dXJlZCkge1xuICAgICAgICBzdXBlci5wbGF5Q2FwdHVyZUF0KHNxdWFyZSwgY2FwdHVyZWQpO1xuICAgICAgICB0aGlzLmJvYXJkLnRha2Uoc3F1YXJlKTtcbiAgICAgICAgZm9yIChjb25zdCBleHBsb2RlIG9mIGtpbmdBdHRhY2tzKHNxdWFyZSkuaW50ZXJzZWN0KHRoaXMuYm9hcmQub2NjdXBpZWQpLmRpZmYodGhpcy5ib2FyZC5wYXduKSkge1xuICAgICAgICAgICAgY29uc3QgcGllY2UgPSB0aGlzLmJvYXJkLnRha2UoZXhwbG9kZSk7XG4gICAgICAgICAgICBpZiAoKHBpZWNlID09PSBudWxsIHx8IHBpZWNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwaWVjZS5yb2xlKSA9PT0gJ3Jvb2snKVxuICAgICAgICAgICAgICAgIHRoaXMuY2FzdGxlcy5kaXNjYXJkUm9vayhleHBsb2RlKTtcbiAgICAgICAgICAgIGlmICgocGllY2UgPT09IG51bGwgfHwgcGllY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBpZWNlLnJvbGUpID09PSAna2luZycpXG4gICAgICAgICAgICAgICAgdGhpcy5jYXN0bGVzLmRpc2NhcmRDb2xvcihwaWVjZS5jb2xvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoY29sb3IpIHtcbiAgICAgICAgLy8gUmVtYWluaW5nIG1hdGVyaWFsIGRvZXMgbm90IG1hdHRlciBpZiB0aGUgZW5lbXkga2luZyBpcyBhbHJlYWR5XG4gICAgICAgIC8vIGV4cGxvZGVkLlxuICAgICAgICBpZiAodGhpcy5ib2FyZC5waWVjZXMob3Bwb3NpdGUoY29sb3IpLCAna2luZycpLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gQmFyZSBraW5nIGNhbm5vdCBtYXRlLlxuICAgICAgICBpZiAodGhpcy5ib2FyZFtjb2xvcl0uZGlmZih0aGlzLmJvYXJkLmtpbmcpLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBBcyBsb25nIGFzIHRoZSBlbmVteSBraW5nIGlzIG5vdCBhbG9uZSwgdGhlcmUgaXMgYWx3YXlzIGEgY2hhbmNlIHRoZWlyXG4gICAgICAgIC8vIG93biBwaWVjZXMgZXhwbG9kZSBuZXh0IHRvIGl0LlxuICAgICAgICBpZiAodGhpcy5ib2FyZFtvcHBvc2l0ZShjb2xvcildLmRpZmYodGhpcy5ib2FyZC5raW5nKS5ub25FbXB0eSgpKSB7XG4gICAgICAgICAgICAvLyBVbmxlc3MgdGhlcmUgYXJlIG9ubHkgYmlzaG9wcyB0aGF0IGNhbm5vdCBleHBsb2RlIGVhY2ggb3RoZXIuXG4gICAgICAgICAgICBpZiAodGhpcy5ib2FyZC5vY2N1cGllZC5lcXVhbHModGhpcy5ib2FyZC5iaXNob3AudW5pb24odGhpcy5ib2FyZC5raW5nKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYm9hcmQuYmlzaG9wLmludGVyc2VjdCh0aGlzLmJvYXJkLndoaXRlKS5pbnRlcnNlY3RzKFNxdWFyZVNldC5kYXJrU3F1YXJlcygpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuYm9hcmQuYmlzaG9wLmludGVyc2VjdCh0aGlzLmJvYXJkLmJsYWNrKS5pbnRlcnNlY3RzKFNxdWFyZVNldC5saWdodFNxdWFyZXMoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ib2FyZC5iaXNob3AuaW50ZXJzZWN0KHRoaXMuYm9hcmQud2hpdGUpLmludGVyc2VjdHMoU3F1YXJlU2V0LmxpZ2h0U3F1YXJlcygpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuYm9hcmQuYmlzaG9wLmludGVyc2VjdCh0aGlzLmJvYXJkLmJsYWNrKS5pbnRlcnNlY3RzKFNxdWFyZVNldC5kYXJrU3F1YXJlcygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUXVlZW4gb3IgcGF3biAoZnV0dXJlIHF1ZWVuKSBjYW4gZ2l2ZSBtYXRlIGFnYWluc3QgYmFyZSBraW5nLlxuICAgICAgICBpZiAodGhpcy5ib2FyZC5xdWVlbi5ub25FbXB0eSgpIHx8IHRoaXMuYm9hcmQucGF3bi5ub25FbXB0eSgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBTaW5nbGUga25pZ2h0LCBiaXNob3Agb3Igcm9vayBjYW5ub3QgbWF0ZSBhZ2FpbnN0IGJhcmUga2luZy5cbiAgICAgICAgaWYgKHRoaXMuYm9hcmQua25pZ2h0LnVuaW9uKHRoaXMuYm9hcmQuYmlzaG9wKS51bmlvbih0aGlzLmJvYXJkLnJvb2spLnNpemUoKSA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBJZiBvbmx5IGtuaWdodHMsIG1vcmUgdGhhbiB0d28gYXJlIHJlcXVpcmVkIHRvIG1hdGUgYmFyZSBraW5nLlxuICAgICAgICBpZiAodGhpcy5ib2FyZC5vY2N1cGllZC5lcXVhbHModGhpcy5ib2FyZC5rbmlnaHQudW5pb24odGhpcy5ib2FyZC5raW5nKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJvYXJkLmtuaWdodC5zaXplKCkgPD0gMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlc3RzKHNxdWFyZSwgY3R4KSB7XG4gICAgICAgIGN0eCA9IGN0eCB8fCB0aGlzLmN0eCgpO1xuICAgICAgICBsZXQgZGVzdHMgPSBTcXVhcmVTZXQuZW1wdHkoKTtcbiAgICAgICAgZm9yIChjb25zdCB0byBvZiBwc2V1ZG9EZXN0cyh0aGlzLCBzcXVhcmUsIGN0eCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICAgICAgYWZ0ZXIucGxheSh7IGZyb206IHNxdWFyZSwgdG8gfSk7XG4gICAgICAgICAgICBjb25zdCBvdXJLaW5nID0gYWZ0ZXIuYm9hcmQua2luZ09mKHRoaXMudHVybik7XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChvdXJLaW5nKVxuICAgICAgICAgICAgICAgICYmICghZGVmaW5lZChhZnRlci5ib2FyZC5raW5nT2YoYWZ0ZXIudHVybikpXG4gICAgICAgICAgICAgICAgICAgIHx8IGFmdGVyLmtpbmdBdHRhY2tlcnMob3VyS2luZywgYWZ0ZXIudHVybiwgYWZ0ZXIuYm9hcmQub2NjdXBpZWQpLmlzRW1wdHkoKSkpIHtcbiAgICAgICAgICAgICAgICBkZXN0cyA9IGRlc3RzLndpdGgodG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXN0cztcbiAgICB9XG4gICAgaXNWYXJpYW50RW5kKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnZhcmlhbnRPdXRjb21lKCk7XG4gICAgfVxuICAgIHZhcmlhbnRPdXRjb21lKF9jdHgpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb2xvciBvZiBDT0xPUlMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkLnBpZWNlcyhjb2xvciwgJ2tpbmcnKS5pc0VtcHR5KCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lubmVyOiBvcHBvc2l0ZShjb2xvcikgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFudGljaGVzcyBleHRlbmRzIFBvc2l0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2FudGljaGVzcycpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgc3VwZXIucmVzZXQoKTtcbiAgICAgICAgdGhpcy5jYXN0bGVzID0gQ2FzdGxlcy5lbXB0eSgpO1xuICAgIH1cbiAgICBzZXR1cFVuY2hlY2tlZChzZXR1cCkge1xuICAgICAgICBzdXBlci5zZXR1cFVuY2hlY2tlZChzZXR1cCk7XG4gICAgICAgIHRoaXMuY2FzdGxlcyA9IENhc3RsZXMuZW1wdHkoKTtcbiAgICB9XG4gICAgc3RhdGljIGRlZmF1bHQoKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG5ldyB0aGlzKCk7XG4gICAgICAgIHBvcy5yZXNldCgpO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNldHVwKHNldHVwKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG5ldyB0aGlzKCk7XG4gICAgICAgIHBvcy5zZXR1cFVuY2hlY2tlZChzZXR1cCk7XG4gICAgICAgIHJldHVybiBwb3MudmFsaWRhdGUoKS5tYXAoXyA9PiBwb3MpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmNsb25lKCk7XG4gICAgfVxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5ib2FyZC5vY2N1cGllZC5pc0VtcHR5KCkpXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuRW1wdHkpKTtcbiAgICAgICAgaWYgKFNxdWFyZVNldC5iYWNrcmFua3MoKS5pbnRlcnNlY3RzKHRoaXMuYm9hcmQucGF3bikpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBQb3NpdGlvbkVycm9yKElsbGVnYWxTZXR1cC5QYXduc09uQmFja3JhbmspKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzdWx0Lm9rKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGtpbmdBdHRhY2tlcnMoX3NxdWFyZSwgX2F0dGFja2VyLCBfb2NjdXBpZWQpIHtcbiAgICAgICAgcmV0dXJuIFNxdWFyZVNldC5lbXB0eSgpO1xuICAgIH1cbiAgICBjdHgoKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHN1cGVyLmN0eCgpO1xuICAgICAgICBpZiAoZGVmaW5lZCh0aGlzLmVwU3F1YXJlKVxuICAgICAgICAgICAgJiYgcGF3bkF0dGFja3Mob3Bwb3NpdGUodGhpcy50dXJuKSwgdGhpcy5lcFNxdWFyZSkuaW50ZXJzZWN0cyh0aGlzLmJvYXJkLnBpZWNlcyh0aGlzLnR1cm4sICdwYXduJykpKSB7XG4gICAgICAgICAgICBjdHgubXVzdENhcHR1cmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGN0eDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmVteSA9IHRoaXMuYm9hcmRbb3Bwb3NpdGUodGhpcy50dXJuKV07XG4gICAgICAgIGZvciAoY29uc3QgZnJvbSBvZiB0aGlzLmJvYXJkW3RoaXMudHVybl0pIHtcbiAgICAgICAgICAgIGlmIChwc2V1ZG9EZXN0cyh0aGlzLCBmcm9tLCBjdHgpLmludGVyc2VjdHMoZW5lbXkpKSB7XG4gICAgICAgICAgICAgICAgY3R4Lm11c3RDYXB0dXJlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdHg7XG4gICAgfVxuICAgIGRlc3RzKHNxdWFyZSwgY3R4KSB7XG4gICAgICAgIGN0eCA9IGN0eCB8fCB0aGlzLmN0eCgpO1xuICAgICAgICBjb25zdCBkZXN0cyA9IHBzZXVkb0Rlc3RzKHRoaXMsIHNxdWFyZSwgY3R4KTtcbiAgICAgICAgY29uc3QgZW5lbXkgPSB0aGlzLmJvYXJkW29wcG9zaXRlKHRoaXMudHVybildO1xuICAgICAgICByZXR1cm4gZGVzdHMuaW50ZXJzZWN0KGN0eC5tdXN0Q2FwdHVyZVxuICAgICAgICAgICAgPyBkZWZpbmVkKHRoaXMuZXBTcXVhcmUpICYmIHRoaXMuYm9hcmQuZ2V0Um9sZShzcXVhcmUpID09PSAncGF3bidcbiAgICAgICAgICAgICAgICA/IGVuZW15LndpdGgodGhpcy5lcFNxdWFyZSlcbiAgICAgICAgICAgICAgICA6IGVuZW15XG4gICAgICAgICAgICA6IFNxdWFyZVNldC5mdWxsKCkpO1xuICAgIH1cbiAgICBoYXNJbnN1ZmZpY2llbnRNYXRlcmlhbChjb2xvcikge1xuICAgICAgICBpZiAodGhpcy5ib2FyZFtjb2xvcl0uaXNFbXB0eSgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5ib2FyZFtvcHBvc2l0ZShjb2xvcildLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodGhpcy5ib2FyZC5vY2N1cGllZC5lcXVhbHModGhpcy5ib2FyZC5iaXNob3ApKSB7XG4gICAgICAgICAgICBjb25zdCB3ZVNvbWVPbkxpZ2h0ID0gdGhpcy5ib2FyZFtjb2xvcl0uaW50ZXJzZWN0cyhTcXVhcmVTZXQubGlnaHRTcXVhcmVzKCkpO1xuICAgICAgICAgICAgY29uc3Qgd2VTb21lT25EYXJrID0gdGhpcy5ib2FyZFtjb2xvcl0uaW50ZXJzZWN0cyhTcXVhcmVTZXQuZGFya1NxdWFyZXMoKSk7XG4gICAgICAgICAgICBjb25zdCB0aGV5QWxsT25EYXJrID0gdGhpcy5ib2FyZFtvcHBvc2l0ZShjb2xvcildLmlzRGlzam9pbnQoU3F1YXJlU2V0LmxpZ2h0U3F1YXJlcygpKTtcbiAgICAgICAgICAgIGNvbnN0IHRoZXlBbGxPbkxpZ2h0ID0gdGhpcy5ib2FyZFtvcHBvc2l0ZShjb2xvcildLmlzRGlzam9pbnQoU3F1YXJlU2V0LmRhcmtTcXVhcmVzKCkpO1xuICAgICAgICAgICAgcmV0dXJuICh3ZVNvbWVPbkxpZ2h0ICYmIHRoZXlBbGxPbkRhcmspIHx8ICh3ZVNvbWVPbkRhcmsgJiYgdGhleUFsbE9uTGlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJvYXJkLm9jY3VwaWVkLmVxdWFscyh0aGlzLmJvYXJkLmtuaWdodCkgJiYgdGhpcy5ib2FyZC5vY2N1cGllZC5zaXplKCkgPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiAoKHRoaXMuYm9hcmQud2hpdGUuaW50ZXJzZWN0cyhTcXVhcmVTZXQubGlnaHRTcXVhcmVzKCkpXG4gICAgICAgICAgICAgICAgIT09IHRoaXMuYm9hcmQuYmxhY2suaW50ZXJzZWN0cyhTcXVhcmVTZXQuZGFya1NxdWFyZXMoKSkpXG4gICAgICAgICAgICAgICAgIT09ICh0aGlzLnR1cm4gPT09IGNvbG9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpc1ZhcmlhbnRFbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvYXJkW3RoaXMudHVybl0uaXNFbXB0eSgpO1xuICAgIH1cbiAgICB2YXJpYW50T3V0Y29tZShjdHgpIHtcbiAgICAgICAgY3R4ID0gY3R4IHx8IHRoaXMuY3R4KCk7XG4gICAgICAgIGlmIChjdHgudmFyaWFudEVuZCB8fCB0aGlzLmlzU3RhbGVtYXRlKGN0eCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHdpbm5lcjogdGhpcy50dXJuIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBLaW5nT2ZUaGVIaWxsIGV4dGVuZHMgUG9zaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigna2luZ29mdGhlaGlsbCcpO1xuICAgIH1cbiAgICBzdGF0aWMgZGVmYXVsdCgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IHRoaXMoKTtcbiAgICAgICAgcG9zLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tU2V0dXAoc2V0dXApIHtcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IHRoaXMoKTtcbiAgICAgICAgcG9zLnNldHVwVW5jaGVja2VkKHNldHVwKTtcbiAgICAgICAgcmV0dXJuIHBvcy52YWxpZGF0ZSgpLm1hcChfID0+IHBvcyk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuY2xvbmUoKTtcbiAgICB9XG4gICAgaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoX2NvbG9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaXNWYXJpYW50RW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZC5raW5nLmludGVyc2VjdHMoU3F1YXJlU2V0LmNlbnRlcigpKTtcbiAgICB9XG4gICAgdmFyaWFudE91dGNvbWUoX2N0eCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbG9yIG9mIENPTE9SUykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmQucGllY2VzKGNvbG9yLCAna2luZycpLmludGVyc2VjdHMoU3F1YXJlU2V0LmNlbnRlcigpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4geyB3aW5uZXI6IGNvbG9yIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUaHJlZUNoZWNrIGV4dGVuZHMgUG9zaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignM2NoZWNrJyk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICBzdXBlci5yZXNldCgpO1xuICAgICAgICB0aGlzLnJlbWFpbmluZ0NoZWNrcyA9IFJlbWFpbmluZ0NoZWNrcy5kZWZhdWx0KCk7XG4gICAgfVxuICAgIHNldHVwVW5jaGVja2VkKHNldHVwKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIuc2V0dXBVbmNoZWNrZWQoc2V0dXApO1xuICAgICAgICB0aGlzLnJlbWFpbmluZ0NoZWNrcyA9ICgoX2EgPSBzZXR1cC5yZW1haW5pbmdDaGVja3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9uZSgpKSB8fCBSZW1haW5pbmdDaGVja3MuZGVmYXVsdCgpO1xuICAgIH1cbiAgICBzdGF0aWMgZGVmYXVsdCgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IHRoaXMoKTtcbiAgICAgICAgcG9zLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tU2V0dXAoc2V0dXApIHtcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IHRoaXMoKTtcbiAgICAgICAgcG9zLnNldHVwVW5jaGVja2VkKHNldHVwKTtcbiAgICAgICAgcmV0dXJuIHBvcy52YWxpZGF0ZSgpLm1hcChfID0+IHBvcyk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuY2xvbmUoKTtcbiAgICB9XG4gICAgaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQucGllY2VzKGNvbG9yLCAna2luZycpLmVxdWFscyh0aGlzLmJvYXJkW2NvbG9yXSk7XG4gICAgfVxuICAgIGlzVmFyaWFudEVuZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5yZW1haW5pbmdDaGVja3MgJiYgKHRoaXMucmVtYWluaW5nQ2hlY2tzLndoaXRlIDw9IDAgfHwgdGhpcy5yZW1haW5pbmdDaGVja3MuYmxhY2sgPD0gMCk7XG4gICAgfVxuICAgIHZhcmlhbnRPdXRjb21lKF9jdHgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nQ2hlY2tzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbG9yIG9mIENPTE9SUykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0NoZWNrc1tjb2xvcl0gPD0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lubmVyOiBjb2xvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5jb25zdCByYWNpbmdLaW5nc0JvYXJkID0gKCkgPT4ge1xuICAgIGNvbnN0IGJvYXJkID0gQm9hcmQuZW1wdHkoKTtcbiAgICBib2FyZC5vY2N1cGllZCA9IG5ldyBTcXVhcmVTZXQoMHhmZmZmLCAwKTtcbiAgICBib2FyZC5wcm9tb3RlZCA9IFNxdWFyZVNldC5lbXB0eSgpO1xuICAgIGJvYXJkLndoaXRlID0gbmV3IFNxdWFyZVNldCgweGYwZjAsIDApO1xuICAgIGJvYXJkLmJsYWNrID0gbmV3IFNxdWFyZVNldCgweDBmMGYsIDApO1xuICAgIGJvYXJkLnBhd24gPSBTcXVhcmVTZXQuZW1wdHkoKTtcbiAgICBib2FyZC5rbmlnaHQgPSBuZXcgU3F1YXJlU2V0KDB4MTgxOCwgMCk7XG4gICAgYm9hcmQuYmlzaG9wID0gbmV3IFNxdWFyZVNldCgweDI0MjQsIDApO1xuICAgIGJvYXJkLnJvb2sgPSBuZXcgU3F1YXJlU2V0KDB4NDI0MiwgMCk7XG4gICAgYm9hcmQucXVlZW4gPSBuZXcgU3F1YXJlU2V0KDB4MDA4MSwgMCk7XG4gICAgYm9hcmQua2luZyA9IG5ldyBTcXVhcmVTZXQoMHg4MTAwLCAwKTtcbiAgICByZXR1cm4gYm9hcmQ7XG59O1xuZXhwb3J0IGNsYXNzIFJhY2luZ0tpbmdzIGV4dGVuZHMgUG9zaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigncmFjaW5na2luZ3MnKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSByYWNpbmdLaW5nc0JvYXJkKCk7XG4gICAgICAgIHRoaXMucG9ja2V0cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50dXJuID0gJ3doaXRlJztcbiAgICAgICAgdGhpcy5jYXN0bGVzID0gQ2FzdGxlcy5lbXB0eSgpO1xuICAgICAgICB0aGlzLmVwU3F1YXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJlbWFpbmluZ0NoZWNrcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oYWxmbW92ZXMgPSAwO1xuICAgICAgICB0aGlzLmZ1bGxtb3ZlcyA9IDE7XG4gICAgfVxuICAgIHNldHVwVW5jaGVja2VkKHNldHVwKSB7XG4gICAgICAgIHN1cGVyLnNldHVwVW5jaGVja2VkKHNldHVwKTtcbiAgICAgICAgdGhpcy5jYXN0bGVzID0gQ2FzdGxlcy5lbXB0eSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZGVmYXVsdCgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IHRoaXMoKTtcbiAgICAgICAgcG9zLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tU2V0dXAoc2V0dXApIHtcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IHRoaXMoKTtcbiAgICAgICAgcG9zLnNldHVwVW5jaGVja2VkKHNldHVwKTtcbiAgICAgICAgcmV0dXJuIHBvcy52YWxpZGF0ZSgpLm1hcChfID0+IHBvcyk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuY2xvbmUoKTtcbiAgICB9XG4gICAgdmFsaWRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2hlY2soKSB8fCB0aGlzLmJvYXJkLnBhd24ubm9uRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQuZXJyKG5ldyBQb3NpdGlvbkVycm9yKElsbGVnYWxTZXR1cC5WYXJpYW50KSk7XG4gICAgICAgIHJldHVybiBzdXBlci52YWxpZGF0ZSgpO1xuICAgIH1cbiAgICBkZXN0cyhzcXVhcmUsIGN0eCkge1xuICAgICAgICBjdHggPSBjdHggfHwgdGhpcy5jdHgoKTtcbiAgICAgICAgLy8gS2luZ3MgY2Fubm90IGdpdmUgY2hlY2suXG4gICAgICAgIGlmIChzcXVhcmUgPT09IGN0eC5raW5nKVxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmRlc3RzKHNxdWFyZSwgY3R4KTtcbiAgICAgICAgLy8gRG8gbm90IGFsbG93IGdpdmluZyBjaGVjay5cbiAgICAgICAgbGV0IGRlc3RzID0gU3F1YXJlU2V0LmVtcHR5KCk7XG4gICAgICAgIGZvciAoY29uc3QgdG8gb2Ygc3VwZXIuZGVzdHMoc3F1YXJlLCBjdHgpKSB7XG4gICAgICAgICAgICAvLyBWYWxpZCwgYmVjYXVzZSB0aGVyZSBhcmUgbm8gcHJvbW90aW9ucyAob3IgZXZlbiBwYXducykuXG4gICAgICAgICAgICBjb25zdCBtb3ZlID0geyBmcm9tOiBzcXVhcmUsIHRvIH07XG4gICAgICAgICAgICBjb25zdCBhZnRlciA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgICAgIGFmdGVyLnBsYXkobW92ZSk7XG4gICAgICAgICAgICBpZiAoIWFmdGVyLmlzQ2hlY2soKSlcbiAgICAgICAgICAgICAgICBkZXN0cyA9IGRlc3RzLndpdGgodG8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXN0cztcbiAgICB9XG4gICAgaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoX2NvbG9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaXNWYXJpYW50RW5kKCkge1xuICAgICAgICBjb25zdCBnb2FsID0gU3F1YXJlU2V0LmZyb21SYW5rKDcpO1xuICAgICAgICBjb25zdCBpbkdvYWwgPSB0aGlzLmJvYXJkLmtpbmcuaW50ZXJzZWN0KGdvYWwpO1xuICAgICAgICBpZiAoaW5Hb2FsLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMudHVybiA9PT0gJ3doaXRlJyB8fCBpbkdvYWwuaW50ZXJzZWN0cyh0aGlzLmJvYXJkLmJsYWNrKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBXaGl0ZSBoYXMgcmVhY2hlZCB0aGUgYmFja3JhbmsuIENoZWNrIGlmIGJsYWNrIGNhbiBjYXRjaCB1cC5cbiAgICAgICAgY29uc3QgYmxhY2tLaW5nID0gdGhpcy5ib2FyZC5raW5nT2YoJ2JsYWNrJyk7XG4gICAgICAgIGlmIChkZWZpbmVkKGJsYWNrS2luZykpIHtcbiAgICAgICAgICAgIGNvbnN0IG9jYyA9IHRoaXMuYm9hcmQub2NjdXBpZWQud2l0aG91dChibGFja0tpbmcpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2Yga2luZ0F0dGFja3MoYmxhY2tLaW5nKS5pbnRlcnNlY3QoZ29hbCkuZGlmZih0aGlzLmJvYXJkLmJsYWNrKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtpbmdBdHRhY2tlcnModGFyZ2V0LCAnd2hpdGUnLCBvY2MpLmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXJpYW50T3V0Y29tZShjdHgpIHtcbiAgICAgICAgaWYgKGN0eCA/ICFjdHgudmFyaWFudEVuZCA6ICF0aGlzLmlzVmFyaWFudEVuZCgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBnb2FsID0gU3F1YXJlU2V0LmZyb21SYW5rKDcpO1xuICAgICAgICBjb25zdCBibGFja0luR29hbCA9IHRoaXMuYm9hcmQucGllY2VzKCdibGFjaycsICdraW5nJykuaW50ZXJzZWN0cyhnb2FsKTtcbiAgICAgICAgY29uc3Qgd2hpdGVJbkdvYWwgPSB0aGlzLmJvYXJkLnBpZWNlcygnd2hpdGUnLCAna2luZycpLmludGVyc2VjdHMoZ29hbCk7XG4gICAgICAgIGlmIChibGFja0luR29hbCAmJiAhd2hpdGVJbkdvYWwpXG4gICAgICAgICAgICByZXR1cm4geyB3aW5uZXI6ICdibGFjaycgfTtcbiAgICAgICAgaWYgKHdoaXRlSW5Hb2FsICYmICFibGFja0luR29hbClcbiAgICAgICAgICAgIHJldHVybiB7IHdpbm5lcjogJ3doaXRlJyB9O1xuICAgICAgICByZXR1cm4geyB3aW5uZXI6IHVuZGVmaW5lZCB9O1xuICAgIH1cbn1cbmNvbnN0IGhvcmRlQm9hcmQgPSAoKSA9PiB7XG4gICAgY29uc3QgYm9hcmQgPSBCb2FyZC5lbXB0eSgpO1xuICAgIGJvYXJkLm9jY3VwaWVkID0gbmV3IFNxdWFyZVNldCg0Mjk0OTY3Mjk1LCA0Mjk0OTAxODYyKTtcbiAgICBib2FyZC5wcm9tb3RlZCA9IFNxdWFyZVNldC5lbXB0eSgpO1xuICAgIGJvYXJkLndoaXRlID0gbmV3IFNxdWFyZVNldCg0Mjk0OTY3Mjk1LCAxMDIpO1xuICAgIGJvYXJkLmJsYWNrID0gbmV3IFNxdWFyZVNldCgwLCA0Mjk0OTAxNzYwKTtcbiAgICBib2FyZC5wYXduID0gbmV3IFNxdWFyZVNldCg0Mjk0OTY3Mjk1LCAxNjcxMTc4Mik7XG4gICAgYm9hcmQua25pZ2h0ID0gbmV3IFNxdWFyZVNldCgwLCAxMTA3Mjk2MjU2KTtcbiAgICBib2FyZC5iaXNob3AgPSBuZXcgU3F1YXJlU2V0KDAsIDYwMzk3OTc3Nik7XG4gICAgYm9hcmQucm9vayA9IG5ldyBTcXVhcmVTZXQoMCwgMjE2NDI2MDg2NCk7XG4gICAgYm9hcmQucXVlZW4gPSBuZXcgU3F1YXJlU2V0KDAsIDEzNDIxNzcyOCk7XG4gICAgYm9hcmQua2luZyA9IG5ldyBTcXVhcmVTZXQoMCwgMjY4NDM1NDU2KTtcbiAgICByZXR1cm4gYm9hcmQ7XG59O1xuZXhwb3J0IGNsYXNzIEhvcmRlIGV4dGVuZHMgUG9zaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignaG9yZGUnKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBob3JkZUJvYXJkKCk7XG4gICAgICAgIHRoaXMucG9ja2V0cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50dXJuID0gJ3doaXRlJztcbiAgICAgICAgdGhpcy5jYXN0bGVzID0gQ2FzdGxlcy5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2FzdGxlcy5kaXNjYXJkQ29sb3IoJ3doaXRlJyk7XG4gICAgICAgIHRoaXMuZXBTcXVhcmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucmVtYWluaW5nQ2hlY2tzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhbGZtb3ZlcyA9IDA7XG4gICAgICAgIHRoaXMuZnVsbG1vdmVzID0gMTtcbiAgICB9XG4gICAgc3RhdGljIGRlZmF1bHQoKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG5ldyB0aGlzKCk7XG4gICAgICAgIHBvcy5yZXNldCgpO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNldHVwKHNldHVwKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG5ldyB0aGlzKCk7XG4gICAgICAgIHBvcy5zZXR1cFVuY2hlY2tlZChzZXR1cCk7XG4gICAgICAgIHJldHVybiBwb3MudmFsaWRhdGUoKS5tYXAoXyA9PiBwb3MpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmNsb25lKCk7XG4gICAgfVxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5ib2FyZC5vY2N1cGllZC5pc0VtcHR5KCkpXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuRW1wdHkpKTtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQua2luZy5zaXplKCkgIT09IDEpXG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuS2luZ3MpKTtcbiAgICAgICAgY29uc3Qgb3RoZXJLaW5nID0gdGhpcy5ib2FyZC5raW5nT2Yob3Bwb3NpdGUodGhpcy50dXJuKSk7XG4gICAgICAgIGlmIChkZWZpbmVkKG90aGVyS2luZykgJiYgdGhpcy5raW5nQXR0YWNrZXJzKG90aGVyS2luZywgdGhpcy50dXJuLCB0aGlzLmJvYXJkLm9jY3VwaWVkKS5ub25FbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycihuZXcgUG9zaXRpb25FcnJvcihJbGxlZ2FsU2V0dXAuT3Bwb3NpdGVDaGVjaykpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY29sb3Igb2YgQ09MT1JTKSB7XG4gICAgICAgICAgICBjb25zdCBiYWNrcmFua3MgPSB0aGlzLmJvYXJkLnBpZWNlcyhjb2xvciwgJ2tpbmcnKS5pc0VtcHR5KClcbiAgICAgICAgICAgICAgICA/IFNxdWFyZVNldC5iYWNrcmFuayhvcHBvc2l0ZShjb2xvcikpXG4gICAgICAgICAgICAgICAgOiBTcXVhcmVTZXQuYmFja3JhbmtzKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5ib2FyZC5waWVjZXMoY29sb3IsICdwYXduJykuaW50ZXJzZWN0cyhiYWNrcmFua3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnIobmV3IFBvc2l0aW9uRXJyb3IoSWxsZWdhbFNldHVwLlBhd25zT25CYWNrcmFuaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZXN1bHQub2sodW5kZWZpbmVkKTtcbiAgICB9XG4gICAgaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoY29sb3IpIHtcbiAgICAgICAgLy8gVGhlIHNpZGUgd2l0aCB0aGUga2luZyBjYW4gYWx3YXlzIHdpbiBieSBjYXB0dXJpbmcgdGhlIGhvcmRlLlxuICAgICAgICBpZiAodGhpcy5ib2FyZC5waWVjZXMoY29sb3IsICdraW5nJykubm9uRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3Qgb3Bwb3NpdGVTcXVhcmVDb2xvciA9IChzcXVhcmVDb2xvcikgPT4gKHNxdWFyZUNvbG9yID09PSAnbGlnaHQnID8gJ2RhcmsnIDogJ2xpZ2h0Jyk7XG4gICAgICAgIGNvbnN0IGNvbG9yZWRTcXVhcmVzID0gKHNxdWFyZUNvbG9yKSA9PiBzcXVhcmVDb2xvciA9PT0gJ2xpZ2h0JyA/IFNxdWFyZVNldC5saWdodFNxdWFyZXMoKSA6IFNxdWFyZVNldC5kYXJrU3F1YXJlcygpO1xuICAgICAgICBjb25zdCBoYXNCaXNob3BQYWlyID0gKHNpZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJpc2hvcHMgPSB0aGlzLmJvYXJkLnBpZWNlcyhzaWRlLCAnYmlzaG9wJyk7XG4gICAgICAgICAgICByZXR1cm4gYmlzaG9wcy5pbnRlcnNlY3RzKFNxdWFyZVNldC5kYXJrU3F1YXJlcygpKSAmJiBiaXNob3BzLmludGVyc2VjdHMoU3F1YXJlU2V0LmxpZ2h0U3F1YXJlcygpKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQnkgdGhpcyBwb2ludDogY29sb3IgaXMgdGhlIGhvcmRlLlxuICAgICAgICAvLyBCYXNlZCBvblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3RldmVwYXBhemlzL2hvcmRlLWluc3VmZmljaWVudC1tYXRlcmlhbC10ZXN0cy5cbiAgICAgICAgY29uc3QgaG9yZGUgPSBNYXRlcmlhbFNpZGUuZnJvbUJvYXJkKHRoaXMuYm9hcmQsIGNvbG9yKTtcbiAgICAgICAgY29uc3QgaG9yZGVCaXNob3BzID0gKHNxdWFyZUNvbG9yKSA9PiBjb2xvcmVkU3F1YXJlcyhzcXVhcmVDb2xvcikuaW50ZXJzZWN0KHRoaXMuYm9hcmQucGllY2VzKGNvbG9yLCAnYmlzaG9wJykpLnNpemUoKTtcbiAgICAgICAgY29uc3QgaG9yZGVCaXNob3BDb2xvciA9IGhvcmRlQmlzaG9wcygnbGlnaHQnKSA+PSAxID8gJ2xpZ2h0JyA6ICdkYXJrJztcbiAgICAgICAgY29uc3QgaG9yZGVOdW0gPSBob3JkZS5wYXduXG4gICAgICAgICAgICArIGhvcmRlLmtuaWdodFxuICAgICAgICAgICAgKyBob3JkZS5yb29rXG4gICAgICAgICAgICArIGhvcmRlLnF1ZWVuXG4gICAgICAgICAgICArIE1hdGgubWluKGhvcmRlQmlzaG9wcygnZGFyaycpLCAyKVxuICAgICAgICAgICAgKyBNYXRoLm1pbihob3JkZUJpc2hvcHMoJ2xpZ2h0JyksIDIpO1xuICAgICAgICBjb25zdCBwaWVjZXMgPSBNYXRlcmlhbFNpZGUuZnJvbUJvYXJkKHRoaXMuYm9hcmQsIG9wcG9zaXRlKGNvbG9yKSk7XG4gICAgICAgIGNvbnN0IHBpZWNlc0Jpc2hvcHMgPSAoc3F1YXJlQ29sb3IpID0+IGNvbG9yZWRTcXVhcmVzKHNxdWFyZUNvbG9yKVxuICAgICAgICAgICAgLmludGVyc2VjdCh0aGlzLmJvYXJkLnBpZWNlcyhvcHBvc2l0ZShjb2xvciksICdiaXNob3AnKSlcbiAgICAgICAgICAgIC5zaXplKCk7XG4gICAgICAgIGNvbnN0IHBpZWNlc051bSA9IHBpZWNlcy5zaXplKCk7XG4gICAgICAgIGNvbnN0IHBpZWNlc09mUm9sZU5vdCA9IChwaWVjZSkgPT4gcGllY2VzTnVtIC0gcGllY2U7XG4gICAgICAgIGlmIChob3JkZU51bSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoaG9yZGVOdW0gPj0gNCkge1xuICAgICAgICAgICAgLy8gRm91ciBvciBtb3JlIHBpZWNlcyBjYW4gYWx3YXlzIGRlbGl2ZXIgbWF0ZS5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGhvcmRlLnBhd24gPj0gMSB8fCBob3JkZS5xdWVlbiA+PSAxKSAmJiBob3JkZU51bSA+PSAyKSB7XG4gICAgICAgICAgICAvLyBQYXducy9xdWVlbnMgYXJlIG5ldmVyIGluc3VmZmljaWVudCBtYXRlcmlhbCB3aGVuIHBhaXJlZCB3aXRoIGFueSBvdGhlclxuICAgICAgICAgICAgLy8gcGllY2UgKGEgcGF3biBwcm9tb3RlcyB0byBhIHF1ZWVuIGFuZCBkZWxpdmVycyBtYXRlKS5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9yZGUucm9vayA+PSAxICYmIGhvcmRlTnVtID49IDIpIHtcbiAgICAgICAgICAgIC8vIEEgcm9vayBpcyBpbnN1ZmZpY2llbnQgbWF0ZXJpYWwgb25seSB3aGVuIGl0IGlzIHBhaXJlZCB3aXRoIGEgYmlzaG9wXG4gICAgICAgICAgICAvLyBhZ2FpbnN0IGEgbG9uZSBraW5nLiBUaGUgaG9yZGUgY2FuIG1hdGUgaW4gYW55IG90aGVyIGNhc2UuXG4gICAgICAgICAgICAvLyBBIHJvb2sgb24gQTEgYW5kIGEgYmlzaG9wIG9uIEMzIG1hdGUgYSBraW5nIG9uIEIxIHdoZW4gdGhlcmUgaXMgYVxuICAgICAgICAgICAgLy8gZnJpZW5kbHkgcGF3bi9vcHBvc2l0ZS1jb2xvci1iaXNob3Avcm9vay9xdWVlbiBvbiBDMi5cbiAgICAgICAgICAgIC8vIEEgcm9vayBvbiBCOCBhbmQgYSBiaXNob3AgQzMgbWF0ZSBhIGtpbmcgb24gQTEgd2hlbiB0aGVyZSBpcyBhIGZyaWVuZGx5XG4gICAgICAgICAgICAvLyBrbmlnaHQgb24gQTIuXG4gICAgICAgICAgICBpZiAoIShob3JkZU51bSA9PT0gMlxuICAgICAgICAgICAgICAgICYmIGhvcmRlLnJvb2sgPT09IDFcbiAgICAgICAgICAgICAgICAmJiBob3JkZS5iaXNob3AgPT09IDFcbiAgICAgICAgICAgICAgICAmJiBwaWVjZXNPZlJvbGVOb3QocGllY2VzQmlzaG9wcyhob3JkZUJpc2hvcENvbG9yKSkgPT09IDEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChob3JkZU51bSA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKHBpZWNlc051bSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIEEgbG9uZSBwaWVjZSBjYW5ub3QgbWF0ZSBhIGxvbmUga2luZy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhvcmRlLnF1ZWVuID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGhvcmRlIGhhcyBhIGxvbmUgcXVlZW4uXG4gICAgICAgICAgICAgICAgLy8gQSBsb25lIHF1ZWVuIG1hdGVzIGEga2luZyBvbiBBMSBib3VuZGVkIGJ5OlxuICAgICAgICAgICAgICAgIC8vICAtLSBhIHBhd24vcm9vayBvbiBBMlxuICAgICAgICAgICAgICAgIC8vICAtLSB0d28gc2FtZSBjb2xvciBiaXNob3BzIG9uIEEyLCBCMVxuICAgICAgICAgICAgICAgIC8vIFdlIGlnbm9yZSBldmVyeSBvdGhlciBtYXRpbmcgY2FzZSwgc2luY2UgaXQgY2FuIGJlIHJlZHVjZWQgdG9cbiAgICAgICAgICAgICAgICAvLyB0aGUgdHdvIHByZXZpb3VzIGNhc2VzIChlLmcuIGEgYmxhY2sgcGF3biBvbiBBMiBhbmQgYSBibGFja1xuICAgICAgICAgICAgICAgIC8vIGJpc2hvcCBvbiBCMSkuXG4gICAgICAgICAgICAgICAgcmV0dXJuICEocGllY2VzLnBhd24gPj0gMSB8fCBwaWVjZXMucm9vayA+PSAxIHx8IHBpZWNlc0Jpc2hvcHMoJ2xpZ2h0JykgPj0gMiB8fCBwaWVjZXNCaXNob3BzKCdkYXJrJykgPj0gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChob3JkZS5wYXduID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJvbW90ZSB0aGUgcGF3biB0byBhIHF1ZWVuIG9yIGEga25pZ2h0IGFuZCBjaGVjayB3aGV0aGVyIHdoaXRlXG4gICAgICAgICAgICAgICAgLy8gY2FuIG1hdGUuXG4gICAgICAgICAgICAgICAgY29uc3QgcGF3blNxdWFyZSA9IHRoaXMuYm9hcmQucGllY2VzKGNvbG9yLCAncGF3bicpLmxhc3QoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9tb3RlVG9RdWVlbiA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBwcm9tb3RlVG9RdWVlbi5ib2FyZC5zZXQocGF3blNxdWFyZSwgeyBjb2xvciwgcm9sZTogJ3F1ZWVuJyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9tb3RlVG9LbmlnaHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgcHJvbW90ZVRvS25pZ2h0LmJvYXJkLnNldChwYXduU3F1YXJlLCB7IGNvbG9yLCByb2xlOiAna25pZ2h0JyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbW90ZVRvUXVlZW4uaGFzSW5zdWZmaWNpZW50TWF0ZXJpYWwoY29sb3IpICYmIHByb21vdGVUb0tuaWdodC5oYXNJbnN1ZmZpY2llbnRNYXRlcmlhbChjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChob3JkZS5yb29rID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gQSBsb25lIHJvb2sgbWF0ZXMgYSBraW5nIG9uIEE4IGJvdW5kZWQgYnkgYSBwYXduL3Jvb2sgb24gQTcgYW5kIGFcbiAgICAgICAgICAgICAgICAvLyBwYXduL2tuaWdodCBvbiBCNy4gV2UgaWdub3JlIGV2ZXJ5IG90aGVyIGNhc2UsIHNpbmNlIGl0IGNhbiBiZVxuICAgICAgICAgICAgICAgIC8vIHJlZHVjZWQgdG8gdGhlIHR3byBwcmV2aW91cyBjYXNlcy5cbiAgICAgICAgICAgICAgICAvLyAoZS5nLiB0aHJlZSBwYXducyBvbiBBNywgQjcsIEM3KVxuICAgICAgICAgICAgICAgIHJldHVybiAhKHBpZWNlcy5wYXduID49IDJcbiAgICAgICAgICAgICAgICAgICAgfHwgKHBpZWNlcy5yb29rID49IDEgJiYgcGllY2VzLnBhd24gPj0gMSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKHBpZWNlcy5yb29rID49IDEgJiYgcGllY2VzLmtuaWdodCA+PSAxKVxuICAgICAgICAgICAgICAgICAgICB8fCAocGllY2VzLnBhd24gPj0gMSAmJiBwaWVjZXMua25pZ2h0ID49IDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhvcmRlLmJpc2hvcCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBob3JkZSBoYXMgYSBsb25lIGJpc2hvcC5cbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAvLyBUaGUga2luZyBjYW4gYmUgbWF0ZWQgb24gQTEgaWYgdGhlcmUgaXMgYSBwYXduL29wcG9zaXRlLWNvbG9yLWJpc2hvcFxuICAgICAgICAgICAgICAgIC8vIG9uIEEyIGFuZCBhbiBvcHBvc2l0ZS1jb2xvci1iaXNob3Agb24gQjEuXG4gICAgICAgICAgICAgICAgLy8gSWYgYmxhY2sgaGFzIHR3byBvciBtb3JlIHBhd25zLCB3aGl0ZSBnZXRzIHRoZSBiZW5lZml0IG9mIHRoZSBkb3VidDtcbiAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBhbiBvdXRzaWRlIGNoYW5jZSB0aGF0IHdoaXRlIHByb21vdGVzIGl0cyBwYXducyB0b1xuICAgICAgICAgICAgICAgIC8vIG9wcG9zaXRlLWNvbG9yLWJpc2hvcHMgYW5kIHNlbGZtYXRlcyB0aGVpcnNlbGYuXG4gICAgICAgICAgICAgICAgLy8gRXZlcnkgb3RoZXIgY2FzZSB0aGF0IHRoZSBraW5nIGlzIG1hdGVkIGJ5IHRoZSBiaXNob3AgcmVxdWlyZXMgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGJsYWNrIGhhcyB0d28gcGF3bnMgb3IgdHdvIG9wcG9zaXRlLWNvbG9yLWJpc2hvcCBvciBhIHBhd24gYW5kIGFuXG4gICAgICAgICAgICAgICAgLy8gb3Bwb3NpdGUtY29sb3ItYmlzaG9wLlxuICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlIGEga2luZyBvbiBBMyBjYW4gYmUgbWF0ZWQgaWYgdGhlcmUgaXNcbiAgICAgICAgICAgICAgICAvLyBhIHBhd24vb3Bwb3NpdGUtY29sb3ItYmlzaG9wIG9uIEE0LCBhIHBhd24vb3Bwb3NpdGUtY29sb3ItYmlzaG9wIG9uXG4gICAgICAgICAgICAgICAgLy8gQjMsIGEgcGF3bi9iaXNob3Avcm9vay9xdWVlbiBvbiBBMiBhbmQgYW55IG90aGVyIHBpZWNlIG9uIEIyLlxuICAgICAgICAgICAgICAgIHBpZWNlc0Jpc2hvcHMob3Bwb3NpdGVTcXVhcmVDb2xvcihob3JkZUJpc2hvcENvbG9yKSkgPj0gMlxuICAgICAgICAgICAgICAgICAgICB8fCAocGllY2VzQmlzaG9wcyhvcHBvc2l0ZVNxdWFyZUNvbG9yKGhvcmRlQmlzaG9wQ29sb3IpKSA+PSAxICYmIHBpZWNlcy5wYXduID49IDEpXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlcy5wYXduID49IDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaG9yZGUua25pZ2h0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGhvcmRlIGhhcyBhIGxvbmUga25pZ2h0LlxuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgIC8vIFRoZSBraW5nIG9uIEExIGNhbiBiZSBzbW90aGVyIG1hdGVkIGJ5IGEga25pZ2h0IG9uIEMyIGlmIHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgLy8gYSBwYXduL2tuaWdodC9iaXNob3Agb24gQjIsIGEga25pZ2h0L3Jvb2sgb24gQjEgYW5kIGFueSBvdGhlciBwaWVjZVxuICAgICAgICAgICAgICAgIC8vIG9uIEEyLlxuICAgICAgICAgICAgICAgIC8vIE1vcmVvdmVyLCB3aGVuIGJsYWNrIGhhcyBmb3VyIG9yIG1vcmUgcGllY2VzIGFuZCB0d28gb2YgdGhlbSBhcmVcbiAgICAgICAgICAgICAgICAvLyBwYXducywgYmxhY2sgY2FuIHByb21vdGUgdGhlaXIgcGF3bnMgYW5kIHNlbGZtYXRlIHRoZWlyc2VsZi5cbiAgICAgICAgICAgICAgICBwaWVjZXNOdW0gPj0gNFxuICAgICAgICAgICAgICAgICAgICAmJiAocGllY2VzLmtuaWdodCA+PSAyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZXMucGF3biA+PSAyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAocGllY2VzLnJvb2sgPj0gMSAmJiBwaWVjZXMua25pZ2h0ID49IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAocGllY2VzLnJvb2sgPj0gMSAmJiBwaWVjZXMuYmlzaG9wID49IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAocGllY2VzLmtuaWdodCA+PSAxICYmIHBpZWNlcy5iaXNob3AgPj0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChwaWVjZXMucm9vayA+PSAxICYmIHBpZWNlcy5wYXduID49IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAocGllY2VzLmtuaWdodCA+PSAxICYmIHBpZWNlcy5wYXduID49IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAocGllY2VzLmJpc2hvcCA+PSAxICYmIHBpZWNlcy5wYXduID49IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoaGFzQmlzaG9wUGFpcihvcHBvc2l0ZShjb2xvcikpICYmIHBpZWNlcy5wYXduID49IDEpKVxuICAgICAgICAgICAgICAgICAgICAmJiAocGllY2VzQmlzaG9wcygnZGFyaycpIDwgMiB8fCBwaWVjZXNPZlJvbGVOb3QocGllY2VzQmlzaG9wcygnZGFyaycpKSA+PSAzKVxuICAgICAgICAgICAgICAgICAgICAmJiAocGllY2VzQmlzaG9wcygnbGlnaHQnKSA8IDIgfHwgcGllY2VzT2ZSb2xlTm90KHBpZWNlc0Jpc2hvcHMoJ2xpZ2h0JykpID49IDMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJ5IHRoaXMgcG9pbnQsIHdlIG9ubHkgbmVlZCB0byBkZWFsIHdpdGggd2hpdGUncyBtaW5vciBwaWVjZXMuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaG9yZGVOdW0gPT09IDIpIHtcbiAgICAgICAgICAgIGlmIChwaWVjZXNOdW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBUd28gbWlub3IgcGllY2VzIGNhbm5vdCBtYXRlIGEgbG9uZSBraW5nLlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaG9yZGUua25pZ2h0ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gQSBraW5nIG9uIEExIGlzIG1hdGVkIGJ5IHR3byBrbmlnaHRzLCBpZiBpdCBpcyBvYnN0cnVjdGVkIGJ5IGFcbiAgICAgICAgICAgICAgICAvLyBwYXduL2Jpc2hvcC9rbmlnaHQgb24gQjIuIE9uIHRoZSBvdGhlciBoYW5kLCBpZiBibGFjayBvbmx5IGhhc1xuICAgICAgICAgICAgICAgIC8vIG1ham9yIHBpZWNlcyBpdCBpcyBhIGRyYXcuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpZWNlcy5wYXduICsgcGllY2VzLmJpc2hvcCArIHBpZWNlcy5rbmlnaHQgPCAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzQmlzaG9wUGFpcihjb2xvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAvLyBBIGtpbmcgb24gQTEgb2JzdHJ1Y3RlZCBieSBhIHBhd24vYmlzaG9wIG9uIEEyIGlzIG1hdGVkXG4gICAgICAgICAgICAgICAgLy8gYnkgdGhlIGJpc2hvcCBwYWlyLlxuICAgICAgICAgICAgICAgIHBpZWNlcy5wYXduID49IDFcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VzLmJpc2hvcCA+PSAxXG4gICAgICAgICAgICAgICAgICAgIC8vIEEgcGF3bi9iaXNob3Ava25pZ2h0IG9uIEI0LCBhIHBhd24vYmlzaG9wL3Jvb2svcXVlZW4gb25cbiAgICAgICAgICAgICAgICAgICAgLy8gQTQgYW5kIHRoZSBraW5nIG9uIEEzIGVuYWJsZSBCb2RlbidzIG1hdGUgYnkgdGhlIGJpc2hvcFxuICAgICAgICAgICAgICAgICAgICAvLyBwYWlyLiBJbiBldmVyeSBvdGhlciBjYXNlIHdoaXRlIGNhbm5vdCB3aW4uXG4gICAgICAgICAgICAgICAgICAgIHx8IChwaWVjZXMua25pZ2h0ID49IDEgJiYgcGllY2VzLnJvb2sgKyBwaWVjZXMucXVlZW4gPj0gMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaG9yZGUuYmlzaG9wID49IDEgJiYgaG9yZGUua25pZ2h0ID49IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgaG9yZGUgaGFzIGEgYmlzaG9wIGFuZCBhIGtuaWdodC5cbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAvLyBBIGtpbmcgb24gQTEgb2JzdHJ1Y3RlZCBieSBhIHBhd24vb3Bwb3NpdGUtY29sb3ItYmlzaG9wIG9uXG4gICAgICAgICAgICAgICAgLy8gQTIgaXMgbWF0ZWQgYnkgYSBrbmlnaHQgb24gRDIgYW5kIGEgYmlzaG9wIG9uIEMzLlxuICAgICAgICAgICAgICAgIHBpZWNlcy5wYXduID49IDFcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VzQmlzaG9wcyhvcHBvc2l0ZVNxdWFyZUNvbG9yKGhvcmRlQmlzaG9wQ29sb3IpKSA+PSAxXG4gICAgICAgICAgICAgICAgICAgIC8vIEEga2luZyBvbiBBMSBib3VuZGVkIGJ5IHR3byBmcmllbmRseSBwaWVjZXMgb24gQTIgYW5kIEIxIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGVkIHdoZW4gdGhlIGtuaWdodCBtb3ZlcyBmcm9tIEQ0IHRvIEMyIHNvIHRoYXQgYm90aCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8ga25pZ2h0IGFuZCB0aGUgYmlzaG9wIGRlbGl2ZXIgY2hlY2suXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlc09mUm9sZU5vdChwaWVjZXNCaXNob3BzKGhvcmRlQmlzaG9wQ29sb3IpKSA+PSAzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBob3JkZSBoYXMgdHdvIG9yIG1vcmUgYmlzaG9wcyBvbiB0aGUgc2FtZSBjb2xvci5cbiAgICAgICAgICAgICAgICAvLyBXaGl0ZSBjYW4gb25seSB3aW4gaWYgYmxhY2sgaGFzIGVub3VnaCBtYXRlcmlhbCB0byBvYnN0cnVjdFxuICAgICAgICAgICAgICAgIC8vIHRoZSBzcXVhcmVzIG9mIHRoZSBvcHBvc2l0ZSBjb2xvciBhcm91bmQgdGhlIGtpbmcuXG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgLy8gQSBraW5nIG9uIEExIG9ic3RydWN0ZWQgYnkgYSBwYXduL29wcG9zaXRlLWJpc2hvcC9rbmlnaHRcbiAgICAgICAgICAgICAgICAvLyBvbiBBMiBhbmQgYSBvcHBvc2l0ZS1iaXNob3Ava25pZ2h0IG9uIEIxIGlzIG1hdGVkIGJ5IHR3b1xuICAgICAgICAgICAgICAgIC8vIGJpc2hvcHMgb24gQjIgYW5kIEMzLiBUaGlzIHBvc2l0aW9uIGlzIHRoZW9yZXRpY2FsbHlcbiAgICAgICAgICAgICAgICAvLyBhY2hpZXZhYmxlIGV2ZW4gd2hlbiBibGFjayBoYXMgdHdvIHBhd25zIG9yIHdoZW4gdGhleVxuICAgICAgICAgICAgICAgIC8vIGhhdmUgYSBwYXduIGFuZCBhbiBvcHBvc2l0ZSBjb2xvciBiaXNob3AuXG4gICAgICAgICAgICAgICAgKHBpZWNlcy5wYXduID49IDEgJiYgcGllY2VzQmlzaG9wcyhvcHBvc2l0ZVNxdWFyZUNvbG9yKGhvcmRlQmlzaG9wQ29sb3IpKSA+PSAxKVxuICAgICAgICAgICAgICAgICAgICB8fCAocGllY2VzLnBhd24gPj0gMSAmJiBwaWVjZXMua25pZ2h0ID49IDEpXG4gICAgICAgICAgICAgICAgICAgIHx8IChwaWVjZXNCaXNob3BzKG9wcG9zaXRlU3F1YXJlQ29sb3IoaG9yZGVCaXNob3BDb2xvcikpID49IDEgJiYgcGllY2VzLmtuaWdodCA+PSAxKVxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZXNCaXNob3BzKG9wcG9zaXRlU3F1YXJlQ29sb3IoaG9yZGVCaXNob3BDb2xvcikpID49IDJcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VzLmtuaWdodCA+PSAyXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlcy5wYXduID49IDJcbiAgICAgICAgICAgICAgICAvLyBJbiBldmVyeSBvdGhlciBjYXNlLCB3aGl0ZSBjYW4gb25seSBkcmF3LlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaG9yZGVOdW0gPT09IDMpIHtcbiAgICAgICAgICAgIC8vIEEga2luZyBpbiB0aGUgY29ybmVyIGlzIG1hdGVkIGJ5IHR3byBrbmlnaHRzIGFuZCBhIGJpc2hvcCBvciB0aHJlZVxuICAgICAgICAgICAgLy8ga25pZ2h0cyBvciB0aGUgYmlzaG9wIHBhaXIgYW5kIGEga25pZ2h0L2Jpc2hvcC5cbiAgICAgICAgICAgIGlmICgoaG9yZGUua25pZ2h0ID09PSAyICYmIGhvcmRlLmJpc2hvcCA9PT0gMSkgfHwgaG9yZGUua25pZ2h0ID09PSAzIHx8IGhhc0Jpc2hvcFBhaXIoY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2hpdGUgaGFzIHR3byBzYW1lIGNvbG9yIGJpc2hvcHMgYW5kIGEga25pZ2h0LlxuICAgICAgICAgICAgICAgIC8vIEEga2luZyBvbiBBMSBpcyBtYXRlZCBieSBhIGJpc2hvcCBvbiBCMiwgYSBiaXNob3Agb24gQzEgYW5kIGFcbiAgICAgICAgICAgICAgICAvLyBrbmlnaHQgb24gQzMsIGFzIGxvbmcgYXMgdGhlcmUgaXMgYW5vdGhlciBibGFjayBwaWVjZSB0byB3YXN0ZVxuICAgICAgICAgICAgICAgIC8vIGEgdGVtcG8uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpZWNlc051bSA9PT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaXNWYXJpYW50RW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZC53aGl0ZS5pc0VtcHR5KCkgfHwgdGhpcy5ib2FyZC5ibGFjay5pc0VtcHR5KCk7XG4gICAgfVxuICAgIHZhcmlhbnRPdXRjb21lKF9jdHgpIHtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQud2hpdGUuaXNFbXB0eSgpKVxuICAgICAgICAgICAgcmV0dXJuIHsgd2lubmVyOiAnYmxhY2snIH07XG4gICAgICAgIGlmICh0aGlzLmJvYXJkLmJsYWNrLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiB7IHdpbm5lcjogJ3doaXRlJyB9O1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGRlZmF1bHRQb3NpdGlvbiA9IChydWxlcykgPT4ge1xuICAgIHN3aXRjaCAocnVsZXMpIHtcbiAgICAgICAgY2FzZSAnY2hlc3MnOlxuICAgICAgICAgICAgcmV0dXJuIENoZXNzLmRlZmF1bHQoKTtcbiAgICAgICAgY2FzZSAnYW50aWNoZXNzJzpcbiAgICAgICAgICAgIHJldHVybiBBbnRpY2hlc3MuZGVmYXVsdCgpO1xuICAgICAgICBjYXNlICdhdG9taWMnOlxuICAgICAgICAgICAgcmV0dXJuIEF0b21pYy5kZWZhdWx0KCk7XG4gICAgICAgIGNhc2UgJ2hvcmRlJzpcbiAgICAgICAgICAgIHJldHVybiBIb3JkZS5kZWZhdWx0KCk7XG4gICAgICAgIGNhc2UgJ3JhY2luZ2tpbmdzJzpcbiAgICAgICAgICAgIHJldHVybiBSYWNpbmdLaW5ncy5kZWZhdWx0KCk7XG4gICAgICAgIGNhc2UgJ2tpbmdvZnRoZWhpbGwnOlxuICAgICAgICAgICAgcmV0dXJuIEtpbmdPZlRoZUhpbGwuZGVmYXVsdCgpO1xuICAgICAgICBjYXNlICczY2hlY2snOlxuICAgICAgICAgICAgcmV0dXJuIFRocmVlQ2hlY2suZGVmYXVsdCgpO1xuICAgICAgICBjYXNlICdjcmF6eWhvdXNlJzpcbiAgICAgICAgICAgIHJldHVybiBDcmF6eWhvdXNlLmRlZmF1bHQoKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHNldHVwUG9zaXRpb24gPSAocnVsZXMsIHNldHVwKSA9PiB7XG4gICAgc3dpdGNoIChydWxlcykge1xuICAgICAgICBjYXNlICdjaGVzcyc6XG4gICAgICAgICAgICByZXR1cm4gQ2hlc3MuZnJvbVNldHVwKHNldHVwKTtcbiAgICAgICAgY2FzZSAnYW50aWNoZXNzJzpcbiAgICAgICAgICAgIHJldHVybiBBbnRpY2hlc3MuZnJvbVNldHVwKHNldHVwKTtcbiAgICAgICAgY2FzZSAnYXRvbWljJzpcbiAgICAgICAgICAgIHJldHVybiBBdG9taWMuZnJvbVNldHVwKHNldHVwKTtcbiAgICAgICAgY2FzZSAnaG9yZGUnOlxuICAgICAgICAgICAgcmV0dXJuIEhvcmRlLmZyb21TZXR1cChzZXR1cCk7XG4gICAgICAgIGNhc2UgJ3JhY2luZ2tpbmdzJzpcbiAgICAgICAgICAgIHJldHVybiBSYWNpbmdLaW5ncy5mcm9tU2V0dXAoc2V0dXApO1xuICAgICAgICBjYXNlICdraW5nb2Z0aGVoaWxsJzpcbiAgICAgICAgICAgIHJldHVybiBLaW5nT2ZUaGVIaWxsLmZyb21TZXR1cChzZXR1cCk7XG4gICAgICAgIGNhc2UgJzNjaGVjayc6XG4gICAgICAgICAgICByZXR1cm4gVGhyZWVDaGVjay5mcm9tU2V0dXAoc2V0dXApO1xuICAgICAgICBjYXNlICdjcmF6eWhvdXNlJzpcbiAgICAgICAgICAgIHJldHVybiBDcmF6eWhvdXNlLmZyb21TZXR1cChzZXR1cCk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBpc1N0YW5kYXJkTWF0ZXJpYWwgPSAocG9zKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBzd2l0Y2ggKHBvcy5ydWxlcykge1xuICAgICAgICBjYXNlICdjaGVzcyc6XG4gICAgICAgIGNhc2UgJ2FudGljaGVzcyc6XG4gICAgICAgIGNhc2UgJ2F0b21pYyc6XG4gICAgICAgIGNhc2UgJ2tpbmdvZnRoZWhpbGwnOlxuICAgICAgICBjYXNlICczY2hlY2snOlxuICAgICAgICAgICAgcmV0dXJuIENPTE9SUy5ldmVyeShjb2xvciA9PiBpc1N0YW5kYXJkTWF0ZXJpYWxTaWRlKHBvcy5ib2FyZCwgY29sb3IpKTtcbiAgICAgICAgY2FzZSAnY3Jhenlob3VzZSc6IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21vdGVkID0gcG9zLmJvYXJkLnByb21vdGVkO1xuICAgICAgICAgICAgcmV0dXJuIChwcm9tb3RlZC5zaXplKCkgKyBwb3MuYm9hcmQucGF3bi5zaXplKCkgKyAoKChfYSA9IHBvcy5wb2NrZXRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY291bnQoJ3Bhd24nKSkgfHwgMCkgPD0gMTZcbiAgICAgICAgICAgICAgICAmJiBwb3MuYm9hcmQua25pZ2h0LmRpZmYocHJvbW90ZWQpLnNpemUoKSArICgoKF9iID0gcG9zLnBvY2tldHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jb3VudCgna25pZ2h0JykpIHx8IDApIDw9IDRcbiAgICAgICAgICAgICAgICAmJiBwb3MuYm9hcmQuYmlzaG9wLmRpZmYocHJvbW90ZWQpLnNpemUoKSArICgoKF9jID0gcG9zLnBvY2tldHMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jb3VudCgnYmlzaG9wJykpIHx8IDApIDw9IDRcbiAgICAgICAgICAgICAgICAmJiBwb3MuYm9hcmQucm9vay5kaWZmKHByb21vdGVkKS5zaXplKCkgKyAoKChfZCA9IHBvcy5wb2NrZXRzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY291bnQoJ3Jvb2snKSkgfHwgMCkgPD0gNFxuICAgICAgICAgICAgICAgICYmIHBvcy5ib2FyZC5xdWVlbi5kaWZmKHByb21vdGVkKS5zaXplKCkgKyAoKChfZSA9IHBvcy5wb2NrZXRzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY291bnQoJ3F1ZWVuJykpIHx8IDApIDw9IDIpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2hvcmRlJzpcbiAgICAgICAgICAgIHJldHVybiBDT0xPUlMuZXZlcnkoY29sb3IgPT4gcG9zLmJvYXJkLnBpZWNlcyhjb2xvciwgJ2tpbmcnKS5ub25FbXB0eSgpXG4gICAgICAgICAgICAgICAgPyBpc1N0YW5kYXJkTWF0ZXJpYWxTaWRlKHBvcy5ib2FyZCwgY29sb3IpXG4gICAgICAgICAgICAgICAgOiBwb3MuYm9hcmRbY29sb3JdLnNpemUoKSA8PSAzNik7XG4gICAgICAgIGNhc2UgJ3JhY2luZ2tpbmdzJzpcbiAgICAgICAgICAgIHJldHVybiBDT0xPUlMuZXZlcnkoY29sb3IgPT4gcG9zLmJvYXJkLnBpZWNlcyhjb2xvciwgJ2tuaWdodCcpLnNpemUoKSA8PSAyXG4gICAgICAgICAgICAgICAgJiYgcG9zLmJvYXJkLnBpZWNlcyhjb2xvciwgJ2Jpc2hvcCcpLnNpemUoKSA8PSAyXG4gICAgICAgICAgICAgICAgJiYgcG9zLmJvYXJkLnBpZWNlcyhjb2xvciwgJ3Jvb2snKS5zaXplKCkgPD0gMlxuICAgICAgICAgICAgICAgICYmIHBvcy5ib2FyZC5waWVjZXMoY29sb3IsICdxdWVlbicpLnNpemUoKSA8PSAxKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFyaWFudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/chessops/dist/esm/variant.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/clsx/dist/clsx.mjs":
/*!*****************************************!*\
  !*** ./node_modules/clsx/dist/clsx.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clsx: () => (/* binding */ clsx),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clsx);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jbHN4L2Rpc3QvY2xzeC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxjQUFjLGFBQWEsK0NBQStDLGdEQUFnRCxlQUFlLFFBQVEsSUFBSSwwQ0FBMEMseUNBQXlDLFNBQWdCLGdCQUFnQix3Q0FBd0MsSUFBSSxtREFBbUQsU0FBUyxpRUFBZSxJQUFJIiwic291cmNlcyI6WyIvVXNlcnMvcmFrc2hpdC93b3Jrc3BhY2UvYXJjaGl2ZXMvcmVwb3MvY2hlc3MvZXZhbC1iYXIvbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiByKGUpe3ZhciB0LGYsbj1cIlwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZSluKz1lO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGUpaWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIG89ZS5sZW5ndGg7Zm9yKHQ9MDt0PG87dCsrKWVbdF0mJihmPXIoZVt0XSkpJiYobiYmKG4rPVwiIFwiKSxuKz1mKX1lbHNlIGZvcihmIGluIGUpZVtmXSYmKG4mJihuKz1cIiBcIiksbis9Zik7cmV0dXJuIG59ZXhwb3J0IGZ1bmN0aW9uIGNsc3goKXtmb3IodmFyIGUsdCxmPTAsbj1cIlwiLG89YXJndW1lbnRzLmxlbmd0aDtmPG87ZisrKShlPWFyZ3VtZW50c1tmXSkmJih0PXIoZSkpJiYobiYmKG4rPVwiIFwiKSxuKz10KTtyZXR1cm4gbn1leHBvcnQgZGVmYXVsdCBjbHN4OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/clsx/dist/clsx.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/api/navigation.js":
/*!**************************************************!*\
  !*** ./node_modules/next/dist/api/navigation.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/components/navigation */ \"(app-pages-browser)/./node_modules/next/dist/client/components/navigation.js\");\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_client_components_navigation__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n//# sourceMappingURL=navigation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL25hdmlnYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEOztBQUVoRCIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL25hdmlnYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi4vY2xpZW50L2NvbXBvbmVudHMvbmF2aWdhdGlvbic7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdmlnYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/api/navigation.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Frakshit%2Fworkspace%2Farchives%2Frepos%2Fchess%2Feval-bar%2Fsrc%2Fapp%2Fb%2F%5Bstate%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Frakshit%2Fworkspace%2Farchives%2Frepos%2Fchess%2Feval-bar%2Fsrc%2Fapp%2Fb%2F%5Bstate%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/b/[state]/page.tsx */ \"(app-pages-browser)/./src/app/b/[state]/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZyYWtzaGl0JTJGd29ya3NwYWNlJTJGYXJjaGl2ZXMlMkZyZXBvcyUyRmNoZXNzJTJGZXZhbC1iYXIlMkZzcmMlMkZhcHAlMkZiJTJGJTVCc3RhdGUlNUQlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9ZmFsc2UhIiwibWFwcGluZ3MiOiJBQUFBLGtMQUFzSCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL3NyYy9hcHAvYi9bc3RhdGVdL3BhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Frakshit%2Fworkspace%2Farchives%2Frepos%2Fchess%2Feval-bar%2Fsrc%2Fapp%2Fb%2F%5Bstate%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        maybeKey,\n        getOwner(),\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (type, config, maybeKey, isStaticChildren) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7QUFDYixLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQWdEO0FBQ2hFLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQSxnQ0FBZ0Msa0NBQWtDLE9BQU87QUFDekU7QUFDQSxnR0FBZ0csU0FBUyxVQUFVLHNGQUFzRixhQUFhLFVBQVUsVUFBVTtBQUMxTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsc0dBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCLElBQUksY0FBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUciLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFza05hbWUodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHJldHVybiBcIjw+XCI7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFXG4gICAgICApXG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgPyBcIjxcIiArIG5hbWUgKyBcIj5cIiA6IFwiPC4uLj5cIjtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVua25vd25Pd25lcigpIHtcbiAgICAgIHJldHVybiBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCBwcm9wcywgb3duZXIsIGRlYnVnU3RhY2ssIGRlYnVnVGFzaykge1xuICAgICAgdmFyIHJlZlByb3AgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gcmVmUHJvcCA/IHJlZlByb3AgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1N0YWNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnU3RhY2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnVGFza1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1Rhc2tcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24ganN4REVWSW1wbChcbiAgICAgIHR5cGUsXG4gICAgICBjb25maWcsXG4gICAgICBtYXliZUtleSxcbiAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgZGVidWdUYXNrXG4gICAgKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBjb25maWcuY2hpbGRyZW47XG4gICAgICBpZiAodm9pZCAwICE9PSBjaGlsZHJlbilcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pXG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9IDA7XG4gICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPCBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4rK1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpc1N0YXRpY0NoaWxkcmVuXSk7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiBZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuIFVzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIGVsc2UgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4pO1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICBjaGlsZHJlbiA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICAgIHJldHVybiBcImtleVwiICE9PSBrO1xuICAgICAgICB9KTtcbiAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9XG4gICAgICAgICAgMCA8IGtleXMubGVuZ3RoXG4gICAgICAgICAgICA/IFwie2tleTogc29tZUtleSwgXCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIlxuICAgICAgICAgICAgOiBcIntrZXk6IHNvbWVLZXl9XCI7XG4gICAgICAgIGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dIHx8XG4gICAgICAgICAgKChrZXlzID1cbiAgICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aCA/IFwie1wiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCIgOiBcInt9XCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyB7Li4ucHJvcHN9IC8+XFxuUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyBrZXk9e3NvbWVLZXl9IHsuLi5wcm9wc30gLz4nLFxuICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gPSAhMCkpO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgdm9pZCAwICE9PSBtYXliZUtleSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihtYXliZUtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBtYXliZUtleSkpO1xuICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIGNvbmZpZy5rZXkpKTtcbiAgICAgIGlmIChcImtleVwiIGluIGNvbmZpZykge1xuICAgICAgICBtYXliZUtleSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBjb25maWcpXG4gICAgICAgICAgXCJrZXlcIiAhPT0gcHJvcE5hbWUgJiYgKG1heWJlS2V5W3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfSBlbHNlIG1heWJlS2V5ID0gY29uZmlnO1xuICAgICAgY2hpbGRyZW4gJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgbWF5YmVLZXksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgICAgICAgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgOiB0eXBlXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgbWF5YmVLZXksXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIGRlYnVnU3RhY2ssXG4gICAgICAgIGRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSkge1xuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5vZGUgJiZcbiAgICAgICAgbnVsbCAhPT0gbm9kZSAmJlxuICAgICAgICBub2RlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUgJiZcbiAgICAgICAgbm9kZS5fc3RvcmUgJiZcbiAgICAgICAgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgIH1cbiAgICB2YXIgUmVhY3QgPSByZXF1aXJlKFwibmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0XCIpLFxuICAgICAgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLFxuICAgICAgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9BQ1RJVklUWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmFjdGl2aXR5XCIpLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBjcmVhdGVUYXNrID0gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgID8gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfTtcbiAgICBSZWFjdCA9IHtcbiAgICAgIHJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZTogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsU3RhY2tGb3JFcnJvcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnU3RhY2sgPSBSZWFjdC5yZWFjdF9zdGFja19ib3R0b21fZnJhbWUuYmluZChcbiAgICAgIFJlYWN0LFxuICAgICAgVW5rbm93bk93bmVyXG4gICAgKSgpO1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1Rhc2sgPSBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKFVua25vd25Pd25lcikpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbiAgICBleHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICBleHBvcnRzLmpzeERFViA9IGZ1bmN0aW9uICh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuKSB7XG4gICAgICB2YXIgdHJhY2tBY3R1YWxPd25lciA9XG4gICAgICAgIDFlNCA+IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnJlY2VudGx5Q3JlYXRlZE93bmVyU3RhY2tzKys7XG4gICAgICByZXR1cm4ganN4REVWSW1wbChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICBtYXliZUtleSxcbiAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lclxuICAgICAgICAgID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIilcbiAgICAgICAgICA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHRyYWNrQWN0dWFsT3duZXIgPyBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKHR5cGUpKSA6IHVua25vd25Pd25lckRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9O1xuICB9KSgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/tailwind-merge/dist/bundle-mjs.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTailwindMerge: () => (/* binding */ createTailwindMerge),\n/* harmony export */   extendTailwindMerge: () => (/* binding */ extendTailwindMerge),\n/* harmony export */   fromTheme: () => (/* binding */ fromTheme),\n/* harmony export */   getDefaultConfig: () => (/* binding */ getDefaultConfig),\n/* harmony export */   mergeConfigs: () => (/* binding */ mergeConfigs),\n/* harmony export */   twJoin: () => (/* binding */ twJoin),\n/* harmony export */   twMerge: () => (/* binding */ twMerge),\n/* harmony export */   validators: () => (/* binding */ validators)\n/* harmony export */ });\n/**\n * Concatenates two arrays faster than the array spread operator.\n */\nconst concatArrays = (array1, array2) => {\n  // Pre-allocate for better V8 optimization\n  const combinedArray = new Array(array1.length + array2.length);\n  for (let i = 0; i < array1.length; i++) {\n    combinedArray[i] = array1[i];\n  }\n  for (let i = 0; i < array2.length; i++) {\n    combinedArray[array1.length + i] = array2[i];\n  }\n  return combinedArray;\n};\n\n// Factory function ensures consistent object shapes\nconst createClassValidatorObject = (classGroupId, validator) => ({\n  classGroupId,\n  validator\n});\n// Factory ensures consistent ClassPartObject shape\nconst createClassPartObject = (nextPart = new Map(), validators = null, classGroupId) => ({\n  nextPart,\n  validators,\n  classGroupId\n});\nconst CLASS_PART_SEPARATOR = '-';\nconst EMPTY_CONFLICTS = [];\n// I use two dots here because one dot is used as prefix for class groups in plugins\nconst ARBITRARY_PROPERTY_PREFIX = 'arbitrary..';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    if (className.startsWith('[') && className.endsWith(']')) {\n      return getGroupIdForArbitraryProperty(className);\n    }\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and skip it.\n    const startIndex = classParts[0] === '' && classParts.length > 1 ? 1 : 0;\n    return getGroupRecursive(classParts, startIndex, classMap);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    if (hasPostfixModifier) {\n      const modifierConflicts = conflictingClassGroupModifiers[classGroupId];\n      const baseConflicts = conflictingClassGroups[classGroupId];\n      if (modifierConflicts) {\n        if (baseConflicts) {\n          // Merge base conflicts with modifier conflicts\n          return concatArrays(baseConflicts, modifierConflicts);\n        }\n        // Only modifier conflicts\n        return modifierConflicts;\n      }\n      // Fall back to without postfix if no modifier conflicts\n      return baseConflicts || EMPTY_CONFLICTS;\n    }\n    return conflictingClassGroups[classGroupId] || EMPTY_CONFLICTS;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, startIndex, classPartObject) => {\n  const classPathsLength = classParts.length - startIndex;\n  if (classPathsLength === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[startIndex];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  if (nextClassPartObject) {\n    const result = getGroupRecursive(classParts, startIndex + 1, nextClassPartObject);\n    if (result) return result;\n  }\n  const validators = classPartObject.validators;\n  if (validators === null) {\n    return undefined;\n  }\n  // Build classRest string efficiently by joining from startIndex onwards\n  const classRest = startIndex === 0 ? classParts.join(CLASS_PART_SEPARATOR) : classParts.slice(startIndex).join(CLASS_PART_SEPARATOR);\n  const validatorsLength = validators.length;\n  for (let i = 0; i < validatorsLength; i++) {\n    const validatorObj = validators[i];\n    if (validatorObj.validator(classRest)) {\n      return validatorObj.classGroupId;\n    }\n  }\n  return undefined;\n};\n/**\n * Get the class group ID for an arbitrary property.\n *\n * @param className - The class name to get the group ID for. Is expected to be string starting with `[` and ending with `]`.\n */\nconst getGroupIdForArbitraryProperty = className => className.slice(1, -1).indexOf(':') === -1 ? undefined : (() => {\n  const content = className.slice(1, -1);\n  const colonIndex = content.indexOf(':');\n  const property = content.slice(0, colonIndex);\n  return property ? ARBITRARY_PROPERTY_PREFIX + property : undefined;\n})();\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  return processClassGroups(classGroups, theme);\n};\n// Split into separate functions to maintain monomorphic call sites\nconst processClassGroups = (classGroups, theme) => {\n  const classMap = createClassPartObject();\n  for (const classGroupId in classGroups) {\n    const group = classGroups[classGroupId];\n    processClassesRecursively(group, classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  const len = classGroup.length;\n  for (let i = 0; i < len; i++) {\n    const classDefinition = classGroup[i];\n    processClassDefinition(classDefinition, classPartObject, classGroupId, theme);\n  }\n};\n// Split into separate functions for each type to maintain monomorphic call sites\nconst processClassDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  if (typeof classDefinition === 'string') {\n    processStringDefinition(classDefinition, classPartObject, classGroupId);\n    return;\n  }\n  if (typeof classDefinition === 'function') {\n    processFunctionDefinition(classDefinition, classPartObject, classGroupId, theme);\n    return;\n  }\n  processObjectDefinition(classDefinition, classPartObject, classGroupId, theme);\n};\nconst processStringDefinition = (classDefinition, classPartObject, classGroupId) => {\n  const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n  classPartObjectToEdit.classGroupId = classGroupId;\n};\nconst processFunctionDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  if (isThemeGetter(classDefinition)) {\n    processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n    return;\n  }\n  if (classPartObject.validators === null) {\n    classPartObject.validators = [];\n  }\n  classPartObject.validators.push(createClassValidatorObject(classGroupId, classDefinition));\n};\nconst processObjectDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  const entries = Object.entries(classDefinition);\n  const len = entries.length;\n  for (let i = 0; i < len; i++) {\n    const [key, value] = entries[i];\n    processClassesRecursively(value, getPart(classPartObject, key), classGroupId, theme);\n  }\n};\nconst getPart = (classPartObject, path) => {\n  let current = classPartObject;\n  const parts = path.split(CLASS_PART_SEPARATOR);\n  const len = parts.length;\n  for (let i = 0; i < len; i++) {\n    const part = parts[i];\n    let next = current.nextPart.get(part);\n    if (!next) {\n      next = createClassPartObject();\n      current.nextPart.set(part, next);\n    }\n    current = next;\n  }\n  return current;\n};\n// Type guard maintains monomorphic check\nconst isThemeGetter = func => 'isThemeGetter' in func && func.isThemeGetter === true;\n\n// LRU cache implementation using plain objects for simplicity\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = Object.create(null);\n  let previousCache = Object.create(null);\n  const update = (key, value) => {\n    cache[key] = value;\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = Object.create(null);\n    }\n  };\n  return {\n    get(key) {\n      let value = cache[key];\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache[key]) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (key in cache) {\n        cache[key] = value;\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst MODIFIER_SEPARATOR = ':';\nconst EMPTY_MODIFIERS = [];\n// Pre-allocated result object shape for consistency\nconst createResultObject = (modifiers, hasImportantModifier, baseClassName, maybePostfixModifierPosition, isExternal) => ({\n  modifiers,\n  hasImportantModifier,\n  baseClassName,\n  maybePostfixModifierPosition,\n  isExternal\n});\nconst createParseClassName = config => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  /**\n   * Parse class name into parts.\n   *\n   * Inspired by `splitAtTopLevelOnly` used in Tailwind CSS\n   * @see https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n   */\n  let parseClassName = className => {\n    // Use simple array with push for better performance\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    const len = className.length;\n    for (let index = 0; index < len; index++) {\n      const currentCharacter = className[index];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + 1;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') bracketDepth++;else if (currentCharacter === ']') bracketDepth--;else if (currentCharacter === '(') parenDepth++;else if (currentCharacter === ')') parenDepth--;\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.slice(modifierStart);\n    // Inline important modifier check\n    let baseClassName = baseClassNameWithImportantModifier;\n    let hasImportantModifier = false;\n    if (baseClassNameWithImportantModifier.endsWith(IMPORTANT_MODIFIER)) {\n      baseClassName = baseClassNameWithImportantModifier.slice(0, -1);\n      hasImportantModifier = true;\n    } else if (\n    /**\n     * In Tailwind CSS v3 the important modifier was at the start of the base class name. This is still supported for legacy reasons.\n     * @see https://github.com/dcastil/tailwind-merge/issues/513#issuecomment-2614029864\n     */\n    baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER)) {\n      baseClassName = baseClassNameWithImportantModifier.slice(1);\n      hasImportantModifier = true;\n    }\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return createResultObject(modifiers, hasImportantModifier, baseClassName, maybePostfixModifierPosition);\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.slice(fullPrefix.length)) : createResultObject(EMPTY_MODIFIERS, false, className, undefined, true);\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\n\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst createSortModifiers = config => {\n  // Pre-compute weights for all known modifiers for O(1) comparison\n  const modifierWeights = new Map();\n  // Assign weights to sensitive modifiers (highest priority, but preserve order)\n  config.orderSensitiveModifiers.forEach((mod, index) => {\n    modifierWeights.set(mod, 1000000 + index); // High weights for sensitive mods\n  });\n  return modifiers => {\n    const result = [];\n    let currentSegment = [];\n    // Process modifiers in one pass\n    for (let i = 0; i < modifiers.length; i++) {\n      const modifier = modifiers[i];\n      // Check if modifier is sensitive (starts with '[' or in orderSensitiveModifiers)\n      const isArbitrary = modifier[0] === '[';\n      const isOrderSensitive = modifierWeights.has(modifier);\n      if (isArbitrary || isOrderSensitive) {\n        // Sort and flush current segment alphabetically\n        if (currentSegment.length > 0) {\n          currentSegment.sort();\n          result.push(...currentSegment);\n          currentSegment = [];\n        }\n        result.push(modifier);\n      } else {\n        // Regular modifier - add to current segment for batch sorting\n        currentSegment.push(modifier);\n      }\n    }\n    // Sort and add any remaining segment items\n    if (currentSegment.length > 0) {\n      currentSegment.sort();\n      result.push(...currentSegment);\n    }\n    return result;\n  };\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? ' ' + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    // Fast path: skip sorting for empty or single modifier\n    const variantModifier = modifiers.length === 0 ? '' : modifiers.length === 1 ? modifiers[0] : sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.indexOf(classId) > -1) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nconst twJoin = (...classLists) => {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < classLists.length) {\n    if (argument = classLists[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nconst toValue = mix => {\n  // Fast path for strings\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nconst createTailwindMerge = (createConfigFirst, ...createConfigRest) => {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall;\n  const initTailwindMerge = classList => {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  };\n  const tailwindMerge = classList => {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  };\n  functionToCall = initTailwindMerge;\n  return (...args) => functionToCall(twJoin(...args));\n};\nconst fallbackThemeArr = [];\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || fallbackThemeArr;\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = value => fractionRegex.test(value);\nconst isNumber = value => !!value && !Number.isNaN(Number(value));\nconst isInteger = value => !!value && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst isAnyNonArbitrary = value => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = value => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = value => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = value => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = value => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = value => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = value => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = value => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = value => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = value => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = value => getIsArbitraryVariable(value, isLabelShadow, true);\n// Helpers\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\n// Labels\nconst isLabelPosition = label => label === 'position' || label === 'percentage';\nconst isLabelImage = label => label === 'image' || label === 'url';\nconst isLabelSize = label => label === 'length' || label === 'size' || label === 'bg-size';\nconst isLabelLength = label => label === 'length';\nconst isLabelNumber = label => label === 'number';\nconst isLabelFamilyName = label => label === 'family-name';\nconst isLabelShadow = label => label === 'shadow';\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isAnyNonArbitrary,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isArbitraryVariable,\n  isArbitraryVariableFamilyName,\n  isArbitraryVariableImage,\n  isArbitraryVariableLength,\n  isArbitraryVariablePosition,\n  isArbitraryVariableShadow,\n  isArbitraryVariableSize,\n  isFraction,\n  isInteger,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  /**\n   * Theme getters for theme variable namespaces\n   * @see https://tailwindcss.com/docs/theme#theme-variable-namespaces\n   */\n  /***/\n  const themeColor = fromTheme('color');\n  const themeFont = fromTheme('font');\n  const themeText = fromTheme('text');\n  const themeFontWeight = fromTheme('font-weight');\n  const themeTracking = fromTheme('tracking');\n  const themeLeading = fromTheme('leading');\n  const themeBreakpoint = fromTheme('breakpoint');\n  const themeContainer = fromTheme('container');\n  const themeSpacing = fromTheme('spacing');\n  const themeRadius = fromTheme('radius');\n  const themeShadow = fromTheme('shadow');\n  const themeInsetShadow = fromTheme('inset-shadow');\n  const themeTextShadow = fromTheme('text-shadow');\n  const themeDropShadow = fromTheme('drop-shadow');\n  const themeBlur = fromTheme('blur');\n  const themePerspective = fromTheme('perspective');\n  const themeAspect = fromTheme('aspect');\n  const themeEase = fromTheme('ease');\n  const themeAnimate = fromTheme('animate');\n  /**\n   * Helpers to avoid repeating the same scales\n   *\n   * We use functions that create a new array every time they're called instead of static arrays.\n   * This ensures that users who modify any scale by mutating the array (e.g. with `array.push(element)`) don't accidentally mutate arrays in other parts of the config.\n   */\n  /***/\n  const scaleBreak = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const scalePosition = () => ['center', 'top', 'bottom', 'left', 'right', 'top-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-top', 'top-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-top', 'bottom-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-bottom', 'bottom-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-bottom'];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const scaleOverscroll = () => ['auto', 'contain', 'none'];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, 'full', 'auto', ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, 'none', 'subgrid', isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => ['auto', {\n    span: ['full', isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, 'auto', isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => ['auto', 'min', 'max', 'fr', isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch', 'baseline', 'center-safe', 'end-safe'];\n  const scaleAlignSecondaryAxis = () => ['start', 'end', 'center', 'stretch', 'center-safe', 'end-safe'];\n  const scaleMargin = () => ['auto', ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, 'auto', 'full', 'dvw', 'dvh', 'lvw', 'lvh', 'svw', 'svh', 'min', 'max', 'fit', ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => ['no-repeat', {\n    repeat: ['', 'x', 'y', 'space', 'round']\n  }];\n  const scaleBgSize = () => ['auto', 'cover', 'contain', isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', 'full', themeRadius, isArbitraryVariable, isArbitraryValue];\n  const scaleBorderWidth = () => ['', isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => ['solid', 'dashed', 'dotted', 'double'];\n  const scaleBlendMode = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', themeBlur, isArbitraryVariable, isArbitraryValue];\n  const scaleRotate = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, 'full', ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: ['spin', 'ping', 'pulse', 'bounce'],\n      aspect: ['video'],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      'drop-shadow': [isTshirtSize],\n      ease: ['in', 'out', 'in-out'],\n      font: [isAnyNonArbitrary],\n      'font-weight': ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black'],\n      'inset-shadow': [isTshirtSize],\n      leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose'],\n      perspective: ['dramatic', 'near', 'normal', 'midrange', 'distant', 'none'],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: ['px', isNumber],\n      text: [isTshirtSize],\n      'text-shadow': [isTshirtSize],\n      tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest']\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, 'full', 'auto', themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['nowrap', 'wrap', 'wrap-reverse']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, 'first', 'last', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: [...scaleAlignPrimaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': [...scaleAlignSecondaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', ...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': [...scaleAlignSecondaryAxis(), 'baseline']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x': [{\n        'space-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y': [{\n        'space-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, 'screen', ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [themeContainer, 'screen', /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [themeContainer, 'screen', 'none', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'prose', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        {\n          screen: [themeBreakpoint]\n        }, ...scaleSizing()]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: ['screen', 'lh', ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': ['screen', 'lh', 'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': ['screen', 'lh', ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      'font-stretch': [{\n        'font-stretch': ['ultra-condensed', 'extra-condensed', 'condensed', 'semi-condensed', 'normal', 'semi-expanded', 'expanded', 'extra-expanded', 'ultra-expanded', isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': [isNumber, 'none', isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [/** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        themeLeading, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['disc', 'decimal', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...scaleLineStyle(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: [isNumber, 'from-font', 'auto', isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': [isNumber, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: ['break-word', 'anywhere', 'normal']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          linear: [{\n            to: ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: ['', isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x': [{\n        'divide-x': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y': [{\n        'divide-y': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      'divide-style': [{\n        divide: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: [...scaleLineStyle(), 'none', 'hidden']\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: ['', isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      'shadow-color': [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      'inset-shadow': [{\n        'inset-shadow': ['none', themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      'inset-shadow-color': [{\n        'inset-shadow': scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      'ring-w': [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      'ring-color': [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-color': [{\n        'ring-offset': scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      'inset-ring-w': [{\n        'inset-ring': scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      'inset-ring-color': [{\n        'inset-ring': scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      'text-shadow': [{\n        'text-shadow': ['none', themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      'text-shadow-color': [{\n        'text-shadow': scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...scaleBlendMode(), 'plus-darker', 'plus-lighter']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      'mask-clip': [{\n        'mask-clip': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }, 'mask-no-clip'],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      'mask-composite': [{\n        mask: ['add', 'subtract', 'intersect', 'exclude']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image-linear-pos': [{\n        'mask-linear': [isNumber]\n      }],\n      'mask-image-linear-from-pos': [{\n        'mask-linear-from': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-to-pos': [{\n        'mask-linear-to': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-from-color': [{\n        'mask-linear-from': scaleColor()\n      }],\n      'mask-image-linear-to-color': [{\n        'mask-linear-to': scaleColor()\n      }],\n      'mask-image-t-from-pos': [{\n        'mask-t-from': scaleMaskImagePosition()\n      }],\n      'mask-image-t-to-pos': [{\n        'mask-t-to': scaleMaskImagePosition()\n      }],\n      'mask-image-t-from-color': [{\n        'mask-t-from': scaleColor()\n      }],\n      'mask-image-t-to-color': [{\n        'mask-t-to': scaleColor()\n      }],\n      'mask-image-r-from-pos': [{\n        'mask-r-from': scaleMaskImagePosition()\n      }],\n      'mask-image-r-to-pos': [{\n        'mask-r-to': scaleMaskImagePosition()\n      }],\n      'mask-image-r-from-color': [{\n        'mask-r-from': scaleColor()\n      }],\n      'mask-image-r-to-color': [{\n        'mask-r-to': scaleColor()\n      }],\n      'mask-image-b-from-pos': [{\n        'mask-b-from': scaleMaskImagePosition()\n      }],\n      'mask-image-b-to-pos': [{\n        'mask-b-to': scaleMaskImagePosition()\n      }],\n      'mask-image-b-from-color': [{\n        'mask-b-from': scaleColor()\n      }],\n      'mask-image-b-to-color': [{\n        'mask-b-to': scaleColor()\n      }],\n      'mask-image-l-from-pos': [{\n        'mask-l-from': scaleMaskImagePosition()\n      }],\n      'mask-image-l-to-pos': [{\n        'mask-l-to': scaleMaskImagePosition()\n      }],\n      'mask-image-l-from-color': [{\n        'mask-l-from': scaleColor()\n      }],\n      'mask-image-l-to-color': [{\n        'mask-l-to': scaleColor()\n      }],\n      'mask-image-x-from-pos': [{\n        'mask-x-from': scaleMaskImagePosition()\n      }],\n      'mask-image-x-to-pos': [{\n        'mask-x-to': scaleMaskImagePosition()\n      }],\n      'mask-image-x-from-color': [{\n        'mask-x-from': scaleColor()\n      }],\n      'mask-image-x-to-color': [{\n        'mask-x-to': scaleColor()\n      }],\n      'mask-image-y-from-pos': [{\n        'mask-y-from': scaleMaskImagePosition()\n      }],\n      'mask-image-y-to-pos': [{\n        'mask-y-to': scaleMaskImagePosition()\n      }],\n      'mask-image-y-from-color': [{\n        'mask-y-from': scaleColor()\n      }],\n      'mask-image-y-to-color': [{\n        'mask-y-to': scaleColor()\n      }],\n      'mask-image-radial': [{\n        'mask-radial': [isArbitraryVariable, isArbitraryValue]\n      }],\n      'mask-image-radial-from-pos': [{\n        'mask-radial-from': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-to-pos': [{\n        'mask-radial-to': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-from-color': [{\n        'mask-radial-from': scaleColor()\n      }],\n      'mask-image-radial-to-color': [{\n        'mask-radial-to': scaleColor()\n      }],\n      'mask-image-radial-shape': [{\n        'mask-radial': ['circle', 'ellipse']\n      }],\n      'mask-image-radial-size': [{\n        'mask-radial': [{\n          closest: ['side', 'corner'],\n          farthest: ['side', 'corner']\n        }]\n      }],\n      'mask-image-radial-pos': [{\n        'mask-radial-at': scalePosition()\n      }],\n      'mask-image-conic-pos': [{\n        'mask-conic': [isNumber]\n      }],\n      'mask-image-conic-from-pos': [{\n        'mask-conic-from': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-to-pos': [{\n        'mask-conic-to': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-from-color': [{\n        'mask-conic-from': scaleColor()\n      }],\n      'mask-image-conic-to-color': [{\n        'mask-conic-to': scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      'mask-mode': [{\n        mask: ['alpha', 'luminance', 'match']\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      'mask-origin': [{\n        'mask-origin': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      'mask-position': [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      'mask-repeat': [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      'mask-size': [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      'mask-type': [{\n        'mask-type': ['alpha', 'luminance']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image': [{\n        mask: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeDropShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      'drop-shadow-color': [{\n        'drop-shadow': scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['', 'all', 'colors', 'opacity', 'shadow', 'transform', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      'transition-behavior': [{\n        transition: ['normal', 'discrete']\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, 'initial', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'initial', themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: ['hidden', 'visible']\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      'perspective-origin': [{\n        'perspective-origin': scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-x': [{\n        'rotate-x': scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-y': [{\n        'rotate-y': scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-z': [{\n        'rotate-z': scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-z': [{\n        'scale-z': scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-3d': ['scale-3d'],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, '', 'none', 'gpu', 'cpu']\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      'transform-style': [{\n        transform: ['3d', 'flat']\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-z': [{\n        'translate-z': scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-none': ['translate-none'],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      'color-scheme': [{\n        scheme: ['normal', 'dark', 'light', 'light-dark', 'only-dark', 'only-light']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      'field-sizing': [{\n        'field-sizing': ['fixed', 'content']\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['auto', 'none']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', '', 'y', 'x']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: ['none', ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: ['none', ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-x', 'border-w-y', 'border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-x', 'border-color-y', 'border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      translate: ['translate-x', 'translate-y', 'translate-none'],\n      'translate-none': ['translate', 'translate-x', 'translate-y', 'translate-z'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    },\n    orderSensitiveModifiers: ['*', '**', 'after', 'backdrop', 'before', 'details-content', 'file', 'first-letter', 'first-line', 'marker', 'placeholder', 'selection']\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, 'orderSensitiveModifiers', override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend, 'orderSensitiveModifiers');\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== undefined) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\n\n//# sourceMappingURL=bundle-mjs.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9kaXN0L2J1bmRsZS1tanMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxrREFBa0QsZ0RBQWdEO0FBQ3JKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxPQUFPLG1CQUFtQixrQkFBa0IsYUFBYTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxZQUFZO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM0SDtBQUM1SCIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9kaXN0L2J1bmRsZS1tanMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29uY2F0ZW5hdGVzIHR3byBhcnJheXMgZmFzdGVyIHRoYW4gdGhlIGFycmF5IHNwcmVhZCBvcGVyYXRvci5cbiAqL1xuY29uc3QgY29uY2F0QXJyYXlzID0gKGFycmF5MSwgYXJyYXkyKSA9PiB7XG4gIC8vIFByZS1hbGxvY2F0ZSBmb3IgYmV0dGVyIFY4IG9wdGltaXphdGlvblxuICBjb25zdCBjb21iaW5lZEFycmF5ID0gbmV3IEFycmF5KGFycmF5MS5sZW5ndGggKyBhcnJheTIubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyBpKyspIHtcbiAgICBjb21iaW5lZEFycmF5W2ldID0gYXJyYXkxW2ldO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29tYmluZWRBcnJheVthcnJheTEubGVuZ3RoICsgaV0gPSBhcnJheTJbaV07XG4gIH1cbiAgcmV0dXJuIGNvbWJpbmVkQXJyYXk7XG59O1xuXG4vLyBGYWN0b3J5IGZ1bmN0aW9uIGVuc3VyZXMgY29uc2lzdGVudCBvYmplY3Qgc2hhcGVzXG5jb25zdCBjcmVhdGVDbGFzc1ZhbGlkYXRvck9iamVjdCA9IChjbGFzc0dyb3VwSWQsIHZhbGlkYXRvcikgPT4gKHtcbiAgY2xhc3NHcm91cElkLFxuICB2YWxpZGF0b3Jcbn0pO1xuLy8gRmFjdG9yeSBlbnN1cmVzIGNvbnNpc3RlbnQgQ2xhc3NQYXJ0T2JqZWN0IHNoYXBlXG5jb25zdCBjcmVhdGVDbGFzc1BhcnRPYmplY3QgPSAobmV4dFBhcnQgPSBuZXcgTWFwKCksIHZhbGlkYXRvcnMgPSBudWxsLCBjbGFzc0dyb3VwSWQpID0+ICh7XG4gIG5leHRQYXJ0LFxuICB2YWxpZGF0b3JzLFxuICBjbGFzc0dyb3VwSWRcbn0pO1xuY29uc3QgQ0xBU1NfUEFSVF9TRVBBUkFUT1IgPSAnLSc7XG5jb25zdCBFTVBUWV9DT05GTElDVFMgPSBbXTtcbi8vIEkgdXNlIHR3byBkb3RzIGhlcmUgYmVjYXVzZSBvbmUgZG90IGlzIHVzZWQgYXMgcHJlZml4IGZvciBjbGFzcyBncm91cHMgaW4gcGx1Z2luc1xuY29uc3QgQVJCSVRSQVJZX1BST1BFUlRZX1BSRUZJWCA9ICdhcmJpdHJhcnkuLic7XG5jb25zdCBjcmVhdGVDbGFzc0dyb3VwVXRpbHMgPSBjb25maWcgPT4ge1xuICBjb25zdCBjbGFzc01hcCA9IGNyZWF0ZUNsYXNzTWFwKGNvbmZpZyk7XG4gIGNvbnN0IHtcbiAgICBjb25mbGljdGluZ0NsYXNzR3JvdXBzLFxuICAgIGNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVyc1xuICB9ID0gY29uZmlnO1xuICBjb25zdCBnZXRDbGFzc0dyb3VwSWQgPSBjbGFzc05hbWUgPT4ge1xuICAgIGlmIChjbGFzc05hbWUuc3RhcnRzV2l0aCgnWycpICYmIGNsYXNzTmFtZS5lbmRzV2l0aCgnXScpKSB7XG4gICAgICByZXR1cm4gZ2V0R3JvdXBJZEZvckFyYml0cmFyeVByb3BlcnR5KGNsYXNzTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGNsYXNzUGFydHMgPSBjbGFzc05hbWUuc3BsaXQoQ0xBU1NfUEFSVF9TRVBBUkFUT1IpO1xuICAgIC8vIENsYXNzZXMgbGlrZSBgLWluc2V0LTFgIHByb2R1Y2UgYW4gZW1wdHkgc3RyaW5nIGFzIGZpcnN0IGNsYXNzUGFydC4gV2UgYXNzdW1lIHRoYXQgY2xhc3NlcyBmb3IgbmVnYXRpdmUgdmFsdWVzIGFyZSB1c2VkIGNvcnJlY3RseSBhbmQgc2tpcCBpdC5cbiAgICBjb25zdCBzdGFydEluZGV4ID0gY2xhc3NQYXJ0c1swXSA9PT0gJycgJiYgY2xhc3NQYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7XG4gICAgcmV0dXJuIGdldEdyb3VwUmVjdXJzaXZlKGNsYXNzUGFydHMsIHN0YXJ0SW5kZXgsIGNsYXNzTWFwKTtcbiAgfTtcbiAgY29uc3QgZ2V0Q29uZmxpY3RpbmdDbGFzc0dyb3VwSWRzID0gKGNsYXNzR3JvdXBJZCwgaGFzUG9zdGZpeE1vZGlmaWVyKSA9PiB7XG4gICAgaWYgKGhhc1Bvc3RmaXhNb2RpZmllcikge1xuICAgICAgY29uc3QgbW9kaWZpZXJDb25mbGljdHMgPSBjb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnNbY2xhc3NHcm91cElkXTtcbiAgICAgIGNvbnN0IGJhc2VDb25mbGljdHMgPSBjb25mbGljdGluZ0NsYXNzR3JvdXBzW2NsYXNzR3JvdXBJZF07XG4gICAgICBpZiAobW9kaWZpZXJDb25mbGljdHMpIHtcbiAgICAgICAgaWYgKGJhc2VDb25mbGljdHMpIHtcbiAgICAgICAgICAvLyBNZXJnZSBiYXNlIGNvbmZsaWN0cyB3aXRoIG1vZGlmaWVyIGNvbmZsaWN0c1xuICAgICAgICAgIHJldHVybiBjb25jYXRBcnJheXMoYmFzZUNvbmZsaWN0cywgbW9kaWZpZXJDb25mbGljdHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgbW9kaWZpZXIgY29uZmxpY3RzXG4gICAgICAgIHJldHVybiBtb2RpZmllckNvbmZsaWN0cztcbiAgICAgIH1cbiAgICAgIC8vIEZhbGwgYmFjayB0byB3aXRob3V0IHBvc3RmaXggaWYgbm8gbW9kaWZpZXIgY29uZmxpY3RzXG4gICAgICByZXR1cm4gYmFzZUNvbmZsaWN0cyB8fCBFTVBUWV9DT05GTElDVFM7XG4gICAgfVxuICAgIHJldHVybiBjb25mbGljdGluZ0NsYXNzR3JvdXBzW2NsYXNzR3JvdXBJZF0gfHwgRU1QVFlfQ09ORkxJQ1RTO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGdldENsYXNzR3JvdXBJZCxcbiAgICBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHNcbiAgfTtcbn07XG5jb25zdCBnZXRHcm91cFJlY3Vyc2l2ZSA9IChjbGFzc1BhcnRzLCBzdGFydEluZGV4LCBjbGFzc1BhcnRPYmplY3QpID0+IHtcbiAgY29uc3QgY2xhc3NQYXRoc0xlbmd0aCA9IGNsYXNzUGFydHMubGVuZ3RoIC0gc3RhcnRJbmRleDtcbiAgaWYgKGNsYXNzUGF0aHNMZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY2xhc3NQYXJ0T2JqZWN0LmNsYXNzR3JvdXBJZDtcbiAgfVxuICBjb25zdCBjdXJyZW50Q2xhc3NQYXJ0ID0gY2xhc3NQYXJ0c1tzdGFydEluZGV4XTtcbiAgY29uc3QgbmV4dENsYXNzUGFydE9iamVjdCA9IGNsYXNzUGFydE9iamVjdC5uZXh0UGFydC5nZXQoY3VycmVudENsYXNzUGFydCk7XG4gIGlmIChuZXh0Q2xhc3NQYXJ0T2JqZWN0KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gZ2V0R3JvdXBSZWN1cnNpdmUoY2xhc3NQYXJ0cywgc3RhcnRJbmRleCArIDEsIG5leHRDbGFzc1BhcnRPYmplY3QpO1xuICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgY29uc3QgdmFsaWRhdG9ycyA9IGNsYXNzUGFydE9iamVjdC52YWxpZGF0b3JzO1xuICBpZiAodmFsaWRhdG9ycyA9PT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gQnVpbGQgY2xhc3NSZXN0IHN0cmluZyBlZmZpY2llbnRseSBieSBqb2luaW5nIGZyb20gc3RhcnRJbmRleCBvbndhcmRzXG4gIGNvbnN0IGNsYXNzUmVzdCA9IHN0YXJ0SW5kZXggPT09IDAgPyBjbGFzc1BhcnRzLmpvaW4oQ0xBU1NfUEFSVF9TRVBBUkFUT1IpIDogY2xhc3NQYXJ0cy5zbGljZShzdGFydEluZGV4KS5qb2luKENMQVNTX1BBUlRfU0VQQVJBVE9SKTtcbiAgY29uc3QgdmFsaWRhdG9yc0xlbmd0aCA9IHZhbGlkYXRvcnMubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbGlkYXRvcnNMZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbGlkYXRvck9iaiA9IHZhbGlkYXRvcnNbaV07XG4gICAgaWYgKHZhbGlkYXRvck9iai52YWxpZGF0b3IoY2xhc3NSZXN0KSkge1xuICAgICAgcmV0dXJuIHZhbGlkYXRvck9iai5jbGFzc0dyb3VwSWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuLyoqXG4gKiBHZXQgdGhlIGNsYXNzIGdyb3VwIElEIGZvciBhbiBhcmJpdHJhcnkgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIGNsYXNzTmFtZSAtIFRoZSBjbGFzcyBuYW1lIHRvIGdldCB0aGUgZ3JvdXAgSUQgZm9yLiBJcyBleHBlY3RlZCB0byBiZSBzdHJpbmcgc3RhcnRpbmcgd2l0aCBgW2AgYW5kIGVuZGluZyB3aXRoIGBdYC5cbiAqL1xuY29uc3QgZ2V0R3JvdXBJZEZvckFyYml0cmFyeVByb3BlcnR5ID0gY2xhc3NOYW1lID0+IGNsYXNzTmFtZS5zbGljZSgxLCAtMSkuaW5kZXhPZignOicpID09PSAtMSA/IHVuZGVmaW5lZCA6ICgoKSA9PiB7XG4gIGNvbnN0IGNvbnRlbnQgPSBjbGFzc05hbWUuc2xpY2UoMSwgLTEpO1xuICBjb25zdCBjb2xvbkluZGV4ID0gY29udGVudC5pbmRleE9mKCc6Jyk7XG4gIGNvbnN0IHByb3BlcnR5ID0gY29udGVudC5zbGljZSgwLCBjb2xvbkluZGV4KTtcbiAgcmV0dXJuIHByb3BlcnR5ID8gQVJCSVRSQVJZX1BST1BFUlRZX1BSRUZJWCArIHByb3BlcnR5IDogdW5kZWZpbmVkO1xufSkoKTtcbi8qKlxuICogRXhwb3J0ZWQgZm9yIHRlc3Rpbmcgb25seVxuICovXG5jb25zdCBjcmVhdGVDbGFzc01hcCA9IGNvbmZpZyA9PiB7XG4gIGNvbnN0IHtcbiAgICB0aGVtZSxcbiAgICBjbGFzc0dyb3Vwc1xuICB9ID0gY29uZmlnO1xuICByZXR1cm4gcHJvY2Vzc0NsYXNzR3JvdXBzKGNsYXNzR3JvdXBzLCB0aGVtZSk7XG59O1xuLy8gU3BsaXQgaW50byBzZXBhcmF0ZSBmdW5jdGlvbnMgdG8gbWFpbnRhaW4gbW9ub21vcnBoaWMgY2FsbCBzaXRlc1xuY29uc3QgcHJvY2Vzc0NsYXNzR3JvdXBzID0gKGNsYXNzR3JvdXBzLCB0aGVtZSkgPT4ge1xuICBjb25zdCBjbGFzc01hcCA9IGNyZWF0ZUNsYXNzUGFydE9iamVjdCgpO1xuICBmb3IgKGNvbnN0IGNsYXNzR3JvdXBJZCBpbiBjbGFzc0dyb3Vwcykge1xuICAgIGNvbnN0IGdyb3VwID0gY2xhc3NHcm91cHNbY2xhc3NHcm91cElkXTtcbiAgICBwcm9jZXNzQ2xhc3Nlc1JlY3Vyc2l2ZWx5KGdyb3VwLCBjbGFzc01hcCwgY2xhc3NHcm91cElkLCB0aGVtZSk7XG4gIH1cbiAgcmV0dXJuIGNsYXNzTWFwO1xufTtcbmNvbnN0IHByb2Nlc3NDbGFzc2VzUmVjdXJzaXZlbHkgPSAoY2xhc3NHcm91cCwgY2xhc3NQYXJ0T2JqZWN0LCBjbGFzc0dyb3VwSWQsIHRoZW1lKSA9PiB7XG4gIGNvbnN0IGxlbiA9IGNsYXNzR3JvdXAubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgY2xhc3NEZWZpbml0aW9uID0gY2xhc3NHcm91cFtpXTtcbiAgICBwcm9jZXNzQ2xhc3NEZWZpbml0aW9uKGNsYXNzRGVmaW5pdGlvbiwgY2xhc3NQYXJ0T2JqZWN0LCBjbGFzc0dyb3VwSWQsIHRoZW1lKTtcbiAgfVxufTtcbi8vIFNwbGl0IGludG8gc2VwYXJhdGUgZnVuY3Rpb25zIGZvciBlYWNoIHR5cGUgdG8gbWFpbnRhaW4gbW9ub21vcnBoaWMgY2FsbCBzaXRlc1xuY29uc3QgcHJvY2Vzc0NsYXNzRGVmaW5pdGlvbiA9IChjbGFzc0RlZmluaXRpb24sIGNsYXNzUGFydE9iamVjdCwgY2xhc3NHcm91cElkLCB0aGVtZSkgPT4ge1xuICBpZiAodHlwZW9mIGNsYXNzRGVmaW5pdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICBwcm9jZXNzU3RyaW5nRGVmaW5pdGlvbihjbGFzc0RlZmluaXRpb24sIGNsYXNzUGFydE9iamVjdCwgY2xhc3NHcm91cElkKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGVvZiBjbGFzc0RlZmluaXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBwcm9jZXNzRnVuY3Rpb25EZWZpbml0aW9uKGNsYXNzRGVmaW5pdGlvbiwgY2xhc3NQYXJ0T2JqZWN0LCBjbGFzc0dyb3VwSWQsIHRoZW1lKTtcbiAgICByZXR1cm47XG4gIH1cbiAgcHJvY2Vzc09iamVjdERlZmluaXRpb24oY2xhc3NEZWZpbml0aW9uLCBjbGFzc1BhcnRPYmplY3QsIGNsYXNzR3JvdXBJZCwgdGhlbWUpO1xufTtcbmNvbnN0IHByb2Nlc3NTdHJpbmdEZWZpbml0aW9uID0gKGNsYXNzRGVmaW5pdGlvbiwgY2xhc3NQYXJ0T2JqZWN0LCBjbGFzc0dyb3VwSWQpID0+IHtcbiAgY29uc3QgY2xhc3NQYXJ0T2JqZWN0VG9FZGl0ID0gY2xhc3NEZWZpbml0aW9uID09PSAnJyA/IGNsYXNzUGFydE9iamVjdCA6IGdldFBhcnQoY2xhc3NQYXJ0T2JqZWN0LCBjbGFzc0RlZmluaXRpb24pO1xuICBjbGFzc1BhcnRPYmplY3RUb0VkaXQuY2xhc3NHcm91cElkID0gY2xhc3NHcm91cElkO1xufTtcbmNvbnN0IHByb2Nlc3NGdW5jdGlvbkRlZmluaXRpb24gPSAoY2xhc3NEZWZpbml0aW9uLCBjbGFzc1BhcnRPYmplY3QsIGNsYXNzR3JvdXBJZCwgdGhlbWUpID0+IHtcbiAgaWYgKGlzVGhlbWVHZXR0ZXIoY2xhc3NEZWZpbml0aW9uKSkge1xuICAgIHByb2Nlc3NDbGFzc2VzUmVjdXJzaXZlbHkoY2xhc3NEZWZpbml0aW9uKHRoZW1lKSwgY2xhc3NQYXJ0T2JqZWN0LCBjbGFzc0dyb3VwSWQsIHRoZW1lKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGNsYXNzUGFydE9iamVjdC52YWxpZGF0b3JzID09PSBudWxsKSB7XG4gICAgY2xhc3NQYXJ0T2JqZWN0LnZhbGlkYXRvcnMgPSBbXTtcbiAgfVxuICBjbGFzc1BhcnRPYmplY3QudmFsaWRhdG9ycy5wdXNoKGNyZWF0ZUNsYXNzVmFsaWRhdG9yT2JqZWN0KGNsYXNzR3JvdXBJZCwgY2xhc3NEZWZpbml0aW9uKSk7XG59O1xuY29uc3QgcHJvY2Vzc09iamVjdERlZmluaXRpb24gPSAoY2xhc3NEZWZpbml0aW9uLCBjbGFzc1BhcnRPYmplY3QsIGNsYXNzR3JvdXBJZCwgdGhlbWUpID0+IHtcbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGNsYXNzRGVmaW5pdGlvbik7XG4gIGNvbnN0IGxlbiA9IGVudHJpZXMubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgW2tleSwgdmFsdWVdID0gZW50cmllc1tpXTtcbiAgICBwcm9jZXNzQ2xhc3Nlc1JlY3Vyc2l2ZWx5KHZhbHVlLCBnZXRQYXJ0KGNsYXNzUGFydE9iamVjdCwga2V5KSwgY2xhc3NHcm91cElkLCB0aGVtZSk7XG4gIH1cbn07XG5jb25zdCBnZXRQYXJ0ID0gKGNsYXNzUGFydE9iamVjdCwgcGF0aCkgPT4ge1xuICBsZXQgY3VycmVudCA9IGNsYXNzUGFydE9iamVjdDtcbiAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KENMQVNTX1BBUlRfU0VQQVJBVE9SKTtcbiAgY29uc3QgbGVuID0gcGFydHMubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgIGxldCBuZXh0ID0gY3VycmVudC5uZXh0UGFydC5nZXQocGFydCk7XG4gICAgaWYgKCFuZXh0KSB7XG4gICAgICBuZXh0ID0gY3JlYXRlQ2xhc3NQYXJ0T2JqZWN0KCk7XG4gICAgICBjdXJyZW50Lm5leHRQYXJ0LnNldChwYXJ0LCBuZXh0KTtcbiAgICB9XG4gICAgY3VycmVudCA9IG5leHQ7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnQ7XG59O1xuLy8gVHlwZSBndWFyZCBtYWludGFpbnMgbW9ub21vcnBoaWMgY2hlY2tcbmNvbnN0IGlzVGhlbWVHZXR0ZXIgPSBmdW5jID0+ICdpc1RoZW1lR2V0dGVyJyBpbiBmdW5jICYmIGZ1bmMuaXNUaGVtZUdldHRlciA9PT0gdHJ1ZTtcblxuLy8gTFJVIGNhY2hlIGltcGxlbWVudGF0aW9uIHVzaW5nIHBsYWluIG9iamVjdHMgZm9yIHNpbXBsaWNpdHlcbmNvbnN0IGNyZWF0ZUxydUNhY2hlID0gbWF4Q2FjaGVTaXplID0+IHtcbiAgaWYgKG1heENhY2hlU2l6ZSA8IDEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0OiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICBzZXQ6ICgpID0+IHt9XG4gICAgfTtcbiAgfVxuICBsZXQgY2FjaGVTaXplID0gMDtcbiAgbGV0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgbGV0IHByZXZpb3VzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB1cGRhdGUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIGNhY2hlW2tleV0gPSB2YWx1ZTtcbiAgICBjYWNoZVNpemUrKztcbiAgICBpZiAoY2FjaGVTaXplID4gbWF4Q2FjaGVTaXplKSB7XG4gICAgICBjYWNoZVNpemUgPSAwO1xuICAgICAgcHJldmlvdXNDYWNoZSA9IGNhY2hlO1xuICAgICAgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICBsZXQgdmFsdWUgPSBjYWNoZVtrZXldO1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKCh2YWx1ZSA9IHByZXZpb3VzQ2FjaGVba2V5XSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5IGluIGNhY2hlKSB7XG4gICAgICAgIGNhY2hlW2tleV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuY29uc3QgSU1QT1JUQU5UX01PRElGSUVSID0gJyEnO1xuY29uc3QgTU9ESUZJRVJfU0VQQVJBVE9SID0gJzonO1xuY29uc3QgRU1QVFlfTU9ESUZJRVJTID0gW107XG4vLyBQcmUtYWxsb2NhdGVkIHJlc3VsdCBvYmplY3Qgc2hhcGUgZm9yIGNvbnNpc3RlbmN5XG5jb25zdCBjcmVhdGVSZXN1bHRPYmplY3QgPSAobW9kaWZpZXJzLCBoYXNJbXBvcnRhbnRNb2RpZmllciwgYmFzZUNsYXNzTmFtZSwgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiwgaXNFeHRlcm5hbCkgPT4gKHtcbiAgbW9kaWZpZXJzLFxuICBoYXNJbXBvcnRhbnRNb2RpZmllcixcbiAgYmFzZUNsYXNzTmFtZSxcbiAgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbixcbiAgaXNFeHRlcm5hbFxufSk7XG5jb25zdCBjcmVhdGVQYXJzZUNsYXNzTmFtZSA9IGNvbmZpZyA9PiB7XG4gIGNvbnN0IHtcbiAgICBwcmVmaXgsXG4gICAgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWVcbiAgfSA9IGNvbmZpZztcbiAgLyoqXG4gICAqIFBhcnNlIGNsYXNzIG5hbWUgaW50byBwYXJ0cy5cbiAgICpcbiAgICogSW5zcGlyZWQgYnkgYHNwbGl0QXRUb3BMZXZlbE9ubHlgIHVzZWQgaW4gVGFpbHdpbmQgQ1NTXG4gICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9ibG9iL3YzLjIuMi9zcmMvdXRpbC9zcGxpdEF0VG9wTGV2ZWxPbmx5LmpzXG4gICAqL1xuICBsZXQgcGFyc2VDbGFzc05hbWUgPSBjbGFzc05hbWUgPT4ge1xuICAgIC8vIFVzZSBzaW1wbGUgYXJyYXkgd2l0aCBwdXNoIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICBjb25zdCBtb2RpZmllcnMgPSBbXTtcbiAgICBsZXQgYnJhY2tldERlcHRoID0gMDtcbiAgICBsZXQgcGFyZW5EZXB0aCA9IDA7XG4gICAgbGV0IG1vZGlmaWVyU3RhcnQgPSAwO1xuICAgIGxldCBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbjtcbiAgICBjb25zdCBsZW4gPSBjbGFzc05hbWUubGVuZ3RoO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRDaGFyYWN0ZXIgPSBjbGFzc05hbWVbaW5kZXhdO1xuICAgICAgaWYgKGJyYWNrZXREZXB0aCA9PT0gMCAmJiBwYXJlbkRlcHRoID09PSAwKSB7XG4gICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBNT0RJRklFUl9TRVBBUkFUT1IpIHtcbiAgICAgICAgICBtb2RpZmllcnMucHVzaChjbGFzc05hbWUuc2xpY2UobW9kaWZpZXJTdGFydCwgaW5kZXgpKTtcbiAgICAgICAgICBtb2RpZmllclN0YXJ0ID0gaW5kZXggKyAxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSAnLycpIHtcbiAgICAgICAgICBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiA9IGluZGV4O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gJ1snKSBicmFja2V0RGVwdGgrKztlbHNlIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSAnXScpIGJyYWNrZXREZXB0aC0tO2Vsc2UgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09ICcoJykgcGFyZW5EZXB0aCsrO2Vsc2UgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09ICcpJykgcGFyZW5EZXB0aC0tO1xuICAgIH1cbiAgICBjb25zdCBiYXNlQ2xhc3NOYW1lV2l0aEltcG9ydGFudE1vZGlmaWVyID0gbW9kaWZpZXJzLmxlbmd0aCA9PT0gMCA/IGNsYXNzTmFtZSA6IGNsYXNzTmFtZS5zbGljZShtb2RpZmllclN0YXJ0KTtcbiAgICAvLyBJbmxpbmUgaW1wb3J0YW50IG1vZGlmaWVyIGNoZWNrXG4gICAgbGV0IGJhc2VDbGFzc05hbWUgPSBiYXNlQ2xhc3NOYW1lV2l0aEltcG9ydGFudE1vZGlmaWVyO1xuICAgIGxldCBoYXNJbXBvcnRhbnRNb2RpZmllciA9IGZhbHNlO1xuICAgIGlmIChiYXNlQ2xhc3NOYW1lV2l0aEltcG9ydGFudE1vZGlmaWVyLmVuZHNXaXRoKElNUE9SVEFOVF9NT0RJRklFUikpIHtcbiAgICAgIGJhc2VDbGFzc05hbWUgPSBiYXNlQ2xhc3NOYW1lV2l0aEltcG9ydGFudE1vZGlmaWVyLnNsaWNlKDAsIC0xKTtcbiAgICAgIGhhc0ltcG9ydGFudE1vZGlmaWVyID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgIC8qKlxuICAgICAqIEluIFRhaWx3aW5kIENTUyB2MyB0aGUgaW1wb3J0YW50IG1vZGlmaWVyIHdhcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGJhc2UgY2xhc3MgbmFtZS4gVGhpcyBpcyBzdGlsbCBzdXBwb3J0ZWQgZm9yIGxlZ2FjeSByZWFzb25zLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2RjYXN0aWwvdGFpbHdpbmQtbWVyZ2UvaXNzdWVzLzUxMyNpc3N1ZWNvbW1lbnQtMjYxNDAyOTg2NFxuICAgICAqL1xuICAgIGJhc2VDbGFzc05hbWVXaXRoSW1wb3J0YW50TW9kaWZpZXIuc3RhcnRzV2l0aChJTVBPUlRBTlRfTU9ESUZJRVIpKSB7XG4gICAgICBiYXNlQ2xhc3NOYW1lID0gYmFzZUNsYXNzTmFtZVdpdGhJbXBvcnRhbnRNb2RpZmllci5zbGljZSgxKTtcbiAgICAgIGhhc0ltcG9ydGFudE1vZGlmaWVyID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiA9IHBvc3RmaXhNb2RpZmllclBvc2l0aW9uICYmIHBvc3RmaXhNb2RpZmllclBvc2l0aW9uID4gbW9kaWZpZXJTdGFydCA/IHBvc3RmaXhNb2RpZmllclBvc2l0aW9uIC0gbW9kaWZpZXJTdGFydCA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gY3JlYXRlUmVzdWx0T2JqZWN0KG1vZGlmaWVycywgaGFzSW1wb3J0YW50TW9kaWZpZXIsIGJhc2VDbGFzc05hbWUsIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb24pO1xuICB9O1xuICBpZiAocHJlZml4KSB7XG4gICAgY29uc3QgZnVsbFByZWZpeCA9IHByZWZpeCArIE1PRElGSUVSX1NFUEFSQVRPUjtcbiAgICBjb25zdCBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsID0gcGFyc2VDbGFzc05hbWU7XG4gICAgcGFyc2VDbGFzc05hbWUgPSBjbGFzc05hbWUgPT4gY2xhc3NOYW1lLnN0YXJ0c1dpdGgoZnVsbFByZWZpeCkgPyBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsKGNsYXNzTmFtZS5zbGljZShmdWxsUHJlZml4Lmxlbmd0aCkpIDogY3JlYXRlUmVzdWx0T2JqZWN0KEVNUFRZX01PRElGSUVSUywgZmFsc2UsIGNsYXNzTmFtZSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgfVxuICBpZiAoZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUpIHtcbiAgICBjb25zdCBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsID0gcGFyc2VDbGFzc05hbWU7XG4gICAgcGFyc2VDbGFzc05hbWUgPSBjbGFzc05hbWUgPT4gZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUoe1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgcGFyc2VDbGFzc05hbWU6IHBhcnNlQ2xhc3NOYW1lT3JpZ2luYWxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcGFyc2VDbGFzc05hbWU7XG59O1xuXG4vKipcbiAqIFNvcnRzIG1vZGlmaWVycyBhY2NvcmRpbmcgdG8gZm9sbG93aW5nIHNjaGVtYTpcbiAqIC0gUHJlZGVmaW5lZCBtb2RpZmllcnMgYXJlIHNvcnRlZCBhbHBoYWJldGljYWxseVxuICogLSBXaGVuIGFuIGFyYml0cmFyeSB2YXJpYW50IGFwcGVhcnMsIGl0IG11c3QgYmUgcHJlc2VydmVkIHdoaWNoIG1vZGlmaWVycyBhcmUgYmVmb3JlIGFuZCBhZnRlciBpdFxuICovXG5jb25zdCBjcmVhdGVTb3J0TW9kaWZpZXJzID0gY29uZmlnID0+IHtcbiAgLy8gUHJlLWNvbXB1dGUgd2VpZ2h0cyBmb3IgYWxsIGtub3duIG1vZGlmaWVycyBmb3IgTygxKSBjb21wYXJpc29uXG4gIGNvbnN0IG1vZGlmaWVyV2VpZ2h0cyA9IG5ldyBNYXAoKTtcbiAgLy8gQXNzaWduIHdlaWdodHMgdG8gc2Vuc2l0aXZlIG1vZGlmaWVycyAoaGlnaGVzdCBwcmlvcml0eSwgYnV0IHByZXNlcnZlIG9yZGVyKVxuICBjb25maWcub3JkZXJTZW5zaXRpdmVNb2RpZmllcnMuZm9yRWFjaCgobW9kLCBpbmRleCkgPT4ge1xuICAgIG1vZGlmaWVyV2VpZ2h0cy5zZXQobW9kLCAxMDAwMDAwICsgaW5kZXgpOyAvLyBIaWdoIHdlaWdodHMgZm9yIHNlbnNpdGl2ZSBtb2RzXG4gIH0pO1xuICByZXR1cm4gbW9kaWZpZXJzID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgY3VycmVudFNlZ21lbnQgPSBbXTtcbiAgICAvLyBQcm9jZXNzIG1vZGlmaWVycyBpbiBvbmUgcGFzc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBtb2RpZmllciA9IG1vZGlmaWVyc1tpXTtcbiAgICAgIC8vIENoZWNrIGlmIG1vZGlmaWVyIGlzIHNlbnNpdGl2ZSAoc3RhcnRzIHdpdGggJ1snIG9yIGluIG9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzKVxuICAgICAgY29uc3QgaXNBcmJpdHJhcnkgPSBtb2RpZmllclswXSA9PT0gJ1snO1xuICAgICAgY29uc3QgaXNPcmRlclNlbnNpdGl2ZSA9IG1vZGlmaWVyV2VpZ2h0cy5oYXMobW9kaWZpZXIpO1xuICAgICAgaWYgKGlzQXJiaXRyYXJ5IHx8IGlzT3JkZXJTZW5zaXRpdmUpIHtcbiAgICAgICAgLy8gU29ydCBhbmQgZmx1c2ggY3VycmVudCBzZWdtZW50IGFscGhhYmV0aWNhbGx5XG4gICAgICAgIGlmIChjdXJyZW50U2VnbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY3VycmVudFNlZ21lbnQuc29ydCgpO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKC4uLmN1cnJlbnRTZWdtZW50KTtcbiAgICAgICAgICBjdXJyZW50U2VnbWVudCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKG1vZGlmaWVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZ3VsYXIgbW9kaWZpZXIgLSBhZGQgdG8gY3VycmVudCBzZWdtZW50IGZvciBiYXRjaCBzb3J0aW5nXG4gICAgICAgIGN1cnJlbnRTZWdtZW50LnB1c2gobW9kaWZpZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBTb3J0IGFuZCBhZGQgYW55IHJlbWFpbmluZyBzZWdtZW50IGl0ZW1zXG4gICAgaWYgKGN1cnJlbnRTZWdtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIGN1cnJlbnRTZWdtZW50LnNvcnQoKTtcbiAgICAgIHJlc3VsdC5wdXNoKC4uLmN1cnJlbnRTZWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG5jb25zdCBjcmVhdGVDb25maWdVdGlscyA9IGNvbmZpZyA9PiAoe1xuICBjYWNoZTogY3JlYXRlTHJ1Q2FjaGUoY29uZmlnLmNhY2hlU2l6ZSksXG4gIHBhcnNlQ2xhc3NOYW1lOiBjcmVhdGVQYXJzZUNsYXNzTmFtZShjb25maWcpLFxuICBzb3J0TW9kaWZpZXJzOiBjcmVhdGVTb3J0TW9kaWZpZXJzKGNvbmZpZyksXG4gIC4uLmNyZWF0ZUNsYXNzR3JvdXBVdGlscyhjb25maWcpXG59KTtcbmNvbnN0IFNQTElUX0NMQVNTRVNfUkVHRVggPSAvXFxzKy87XG5jb25zdCBtZXJnZUNsYXNzTGlzdCA9IChjbGFzc0xpc3QsIGNvbmZpZ1V0aWxzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwYXJzZUNsYXNzTmFtZSxcbiAgICBnZXRDbGFzc0dyb3VwSWQsXG4gICAgZ2V0Q29uZmxpY3RpbmdDbGFzc0dyb3VwSWRzLFxuICAgIHNvcnRNb2RpZmllcnNcbiAgfSA9IGNvbmZpZ1V0aWxzO1xuICAvKipcbiAgICogU2V0IG9mIGNsYXNzR3JvdXBJZHMgaW4gZm9sbG93aW5nIGZvcm1hdDpcbiAgICogYHtpbXBvcnRhbnRNb2RpZmllcn17dmFyaWFudE1vZGlmaWVyc317Y2xhc3NHcm91cElkfWBcbiAgICogQGV4YW1wbGUgJ2Zsb2F0J1xuICAgKiBAZXhhbXBsZSAnaG92ZXI6Zm9jdXM6YmctY29sb3InXG4gICAqIEBleGFtcGxlICdtZDohcHInXG4gICAqL1xuICBjb25zdCBjbGFzc0dyb3Vwc0luQ29uZmxpY3QgPSBbXTtcbiAgY29uc3QgY2xhc3NOYW1lcyA9IGNsYXNzTGlzdC50cmltKCkuc3BsaXQoU1BMSVRfQ0xBU1NFU19SRUdFWCk7XG4gIGxldCByZXN1bHQgPSAnJztcbiAgZm9yIChsZXQgaW5kZXggPSBjbGFzc05hbWVzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4IC09IDEpIHtcbiAgICBjb25zdCBvcmlnaW5hbENsYXNzTmFtZSA9IGNsYXNzTmFtZXNbaW5kZXhdO1xuICAgIGNvbnN0IHtcbiAgICAgIGlzRXh0ZXJuYWwsXG4gICAgICBtb2RpZmllcnMsXG4gICAgICBoYXNJbXBvcnRhbnRNb2RpZmllcixcbiAgICAgIGJhc2VDbGFzc05hbWUsXG4gICAgICBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uXG4gICAgfSA9IHBhcnNlQ2xhc3NOYW1lKG9yaWdpbmFsQ2xhc3NOYW1lKTtcbiAgICBpZiAoaXNFeHRlcm5hbCkge1xuICAgICAgcmVzdWx0ID0gb3JpZ2luYWxDbGFzc05hbWUgKyAocmVzdWx0Lmxlbmd0aCA+IDAgPyAnICcgKyByZXN1bHQgOiByZXN1bHQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBoYXNQb3N0Zml4TW9kaWZpZXIgPSAhIW1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb247XG4gICAgbGV0IGNsYXNzR3JvdXBJZCA9IGdldENsYXNzR3JvdXBJZChoYXNQb3N0Zml4TW9kaWZpZXIgPyBiYXNlQ2xhc3NOYW1lLnN1YnN0cmluZygwLCBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uKSA6IGJhc2VDbGFzc05hbWUpO1xuICAgIGlmICghY2xhc3NHcm91cElkKSB7XG4gICAgICBpZiAoIWhhc1Bvc3RmaXhNb2RpZmllcikge1xuICAgICAgICAvLyBOb3QgYSBUYWlsd2luZCBjbGFzc1xuICAgICAgICByZXN1bHQgPSBvcmlnaW5hbENsYXNzTmFtZSArIChyZXN1bHQubGVuZ3RoID4gMCA/ICcgJyArIHJlc3VsdCA6IHJlc3VsdCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY2xhc3NHcm91cElkID0gZ2V0Q2xhc3NHcm91cElkKGJhc2VDbGFzc05hbWUpO1xuICAgICAgaWYgKCFjbGFzc0dyb3VwSWQpIHtcbiAgICAgICAgLy8gTm90IGEgVGFpbHdpbmQgY2xhc3NcbiAgICAgICAgcmVzdWx0ID0gb3JpZ2luYWxDbGFzc05hbWUgKyAocmVzdWx0Lmxlbmd0aCA+IDAgPyAnICcgKyByZXN1bHQgOiByZXN1bHQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGhhc1Bvc3RmaXhNb2RpZmllciA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBGYXN0IHBhdGg6IHNraXAgc29ydGluZyBmb3IgZW1wdHkgb3Igc2luZ2xlIG1vZGlmaWVyXG4gICAgY29uc3QgdmFyaWFudE1vZGlmaWVyID0gbW9kaWZpZXJzLmxlbmd0aCA9PT0gMCA/ICcnIDogbW9kaWZpZXJzLmxlbmd0aCA9PT0gMSA/IG1vZGlmaWVyc1swXSA6IHNvcnRNb2RpZmllcnMobW9kaWZpZXJzKS5qb2luKCc6Jyk7XG4gICAgY29uc3QgbW9kaWZpZXJJZCA9IGhhc0ltcG9ydGFudE1vZGlmaWVyID8gdmFyaWFudE1vZGlmaWVyICsgSU1QT1JUQU5UX01PRElGSUVSIDogdmFyaWFudE1vZGlmaWVyO1xuICAgIGNvbnN0IGNsYXNzSWQgPSBtb2RpZmllcklkICsgY2xhc3NHcm91cElkO1xuICAgIGlmIChjbGFzc0dyb3Vwc0luQ29uZmxpY3QuaW5kZXhPZihjbGFzc0lkKSA+IC0xKSB7XG4gICAgICAvLyBUYWlsd2luZCBjbGFzcyBvbWl0dGVkIGR1ZSB0byBjb25mbGljdFxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNsYXNzR3JvdXBzSW5Db25mbGljdC5wdXNoKGNsYXNzSWQpO1xuICAgIGNvbnN0IGNvbmZsaWN0R3JvdXBzID0gZ2V0Q29uZmxpY3RpbmdDbGFzc0dyb3VwSWRzKGNsYXNzR3JvdXBJZCwgaGFzUG9zdGZpeE1vZGlmaWVyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmZsaWN0R3JvdXBzLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBncm91cCA9IGNvbmZsaWN0R3JvdXBzW2ldO1xuICAgICAgY2xhc3NHcm91cHNJbkNvbmZsaWN0LnB1c2gobW9kaWZpZXJJZCArIGdyb3VwKTtcbiAgICB9XG4gICAgLy8gVGFpbHdpbmQgY2xhc3Mgbm90IGluIGNvbmZsaWN0XG4gICAgcmVzdWx0ID0gb3JpZ2luYWxDbGFzc05hbWUgKyAocmVzdWx0Lmxlbmd0aCA+IDAgPyAnICcgKyByZXN1bHQgOiByZXN1bHQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFRoZSBjb2RlIGluIHRoaXMgZmlsZSBpcyBjb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbHVrZWVkL2Nsc3ggYW5kIG1vZGlmaWVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIHRhaWx3aW5kLW1lcmdlIGJldHRlci5cbiAqXG4gKiBTcGVjaWZpY2FsbHk6XG4gKiAtIFJ1bnRpbWUgY29kZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9sdWtlZWQvY2xzeC9ibG9iL3YxLjIuMS9zcmMvaW5kZXguanNcbiAqIC0gVHlwZVNjcmlwdCB0eXBlcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9sdWtlZWQvY2xzeC9ibG9iL3YxLjIuMS9jbHN4LmQudHNcbiAqXG4gKiBPcmlnaW5hbCBjb2RlIGhhcyBNSVQgbGljZW5zZTogQ29weXJpZ2h0IChjKSBMdWtlIEVkd2FyZHMgPGx1a2UuZWR3YXJkczA1QGdtYWlsLmNvbT4gKGx1a2VlZC5jb20pXG4gKi9cbmNvbnN0IHR3Sm9pbiA9ICguLi5jbGFzc0xpc3RzKSA9PiB7XG4gIGxldCBpbmRleCA9IDA7XG4gIGxldCBhcmd1bWVudDtcbiAgbGV0IHJlc29sdmVkVmFsdWU7XG4gIGxldCBzdHJpbmcgPSAnJztcbiAgd2hpbGUgKGluZGV4IDwgY2xhc3NMaXN0cy5sZW5ndGgpIHtcbiAgICBpZiAoYXJndW1lbnQgPSBjbGFzc0xpc3RzW2luZGV4KytdKSB7XG4gICAgICBpZiAocmVzb2x2ZWRWYWx1ZSA9IHRvVmFsdWUoYXJndW1lbnQpKSB7XG4gICAgICAgIHN0cmluZyAmJiAoc3RyaW5nICs9ICcgJyk7XG4gICAgICAgIHN0cmluZyArPSByZXNvbHZlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyaW5nO1xufTtcbmNvbnN0IHRvVmFsdWUgPSBtaXggPT4ge1xuICAvLyBGYXN0IHBhdGggZm9yIHN0cmluZ3NcbiAgaWYgKHR5cGVvZiBtaXggPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG1peDtcbiAgfVxuICBsZXQgcmVzb2x2ZWRWYWx1ZTtcbiAgbGV0IHN0cmluZyA9ICcnO1xuICBmb3IgKGxldCBrID0gMDsgayA8IG1peC5sZW5ndGg7IGsrKykge1xuICAgIGlmIChtaXhba10pIHtcbiAgICAgIGlmIChyZXNvbHZlZFZhbHVlID0gdG9WYWx1ZShtaXhba10pKSB7XG4gICAgICAgIHN0cmluZyAmJiAoc3RyaW5nICs9ICcgJyk7XG4gICAgICAgIHN0cmluZyArPSByZXNvbHZlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyaW5nO1xufTtcbmNvbnN0IGNyZWF0ZVRhaWx3aW5kTWVyZ2UgPSAoY3JlYXRlQ29uZmlnRmlyc3QsIC4uLmNyZWF0ZUNvbmZpZ1Jlc3QpID0+IHtcbiAgbGV0IGNvbmZpZ1V0aWxzO1xuICBsZXQgY2FjaGVHZXQ7XG4gIGxldCBjYWNoZVNldDtcbiAgbGV0IGZ1bmN0aW9uVG9DYWxsO1xuICBjb25zdCBpbml0VGFpbHdpbmRNZXJnZSA9IGNsYXNzTGlzdCA9PiB7XG4gICAgY29uc3QgY29uZmlnID0gY3JlYXRlQ29uZmlnUmVzdC5yZWR1Y2UoKHByZXZpb3VzQ29uZmlnLCBjcmVhdGVDb25maWdDdXJyZW50KSA9PiBjcmVhdGVDb25maWdDdXJyZW50KHByZXZpb3VzQ29uZmlnKSwgY3JlYXRlQ29uZmlnRmlyc3QoKSk7XG4gICAgY29uZmlnVXRpbHMgPSBjcmVhdGVDb25maWdVdGlscyhjb25maWcpO1xuICAgIGNhY2hlR2V0ID0gY29uZmlnVXRpbHMuY2FjaGUuZ2V0O1xuICAgIGNhY2hlU2V0ID0gY29uZmlnVXRpbHMuY2FjaGUuc2V0O1xuICAgIGZ1bmN0aW9uVG9DYWxsID0gdGFpbHdpbmRNZXJnZTtcbiAgICByZXR1cm4gdGFpbHdpbmRNZXJnZShjbGFzc0xpc3QpO1xuICB9O1xuICBjb25zdCB0YWlsd2luZE1lcmdlID0gY2xhc3NMaXN0ID0+IHtcbiAgICBjb25zdCBjYWNoZWRSZXN1bHQgPSBjYWNoZUdldChjbGFzc0xpc3QpO1xuICAgIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICAgIHJldHVybiBjYWNoZWRSZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IG1lcmdlQ2xhc3NMaXN0KGNsYXNzTGlzdCwgY29uZmlnVXRpbHMpO1xuICAgIGNhY2hlU2V0KGNsYXNzTGlzdCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBmdW5jdGlvblRvQ2FsbCA9IGluaXRUYWlsd2luZE1lcmdlO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IGZ1bmN0aW9uVG9DYWxsKHR3Sm9pbiguLi5hcmdzKSk7XG59O1xuY29uc3QgZmFsbGJhY2tUaGVtZUFyciA9IFtdO1xuY29uc3QgZnJvbVRoZW1lID0ga2V5ID0+IHtcbiAgY29uc3QgdGhlbWVHZXR0ZXIgPSB0aGVtZSA9PiB0aGVtZVtrZXldIHx8IGZhbGxiYWNrVGhlbWVBcnI7XG4gIHRoZW1lR2V0dGVyLmlzVGhlbWVHZXR0ZXIgPSB0cnVlO1xuICByZXR1cm4gdGhlbWVHZXR0ZXI7XG59O1xuY29uc3QgYXJiaXRyYXJ5VmFsdWVSZWdleCA9IC9eXFxbKD86KFxcd1tcXHctXSopOik/KC4rKVxcXSQvaTtcbmNvbnN0IGFyYml0cmFyeVZhcmlhYmxlUmVnZXggPSAvXlxcKCg/OihcXHdbXFx3LV0qKTopPyguKylcXCkkL2k7XG5jb25zdCBmcmFjdGlvblJlZ2V4ID0gL15cXGQrXFwvXFxkKyQvO1xuY29uc3QgdHNoaXJ0VW5pdFJlZ2V4ID0gL14oXFxkKyhcXC5cXGQrKT8pPyh4c3xzbXxtZHxsZ3x4bCkkLztcbmNvbnN0IGxlbmd0aFVuaXRSZWdleCA9IC9cXGQrKCV8cHh8cj9lbXxbc2RsXT92KFtod2liXXxtaW58bWF4KXxwdHxwY3xpbnxjbXxtbXxjYXB8Y2h8ZXh8cj9saHxjcSh3fGh8aXxifG1pbnxtYXgpKXxcXGIoY2FsY3xtaW58bWF4fGNsYW1wKVxcKC4rXFwpfF4wJC87XG5jb25zdCBjb2xvckZ1bmN0aW9uUmVnZXggPSAvXihyZ2JhP3xoc2xhP3xod2J8KG9rKT8obGFifGxjaCl8Y29sb3ItbWl4KVxcKC4rXFwpJC87XG4vLyBTaGFkb3cgYWx3YXlzIGJlZ2lucyB3aXRoIHggYW5kIHkgb2Zmc2V0IHNlcGFyYXRlZCBieSB1bmRlcnNjb3JlIG9wdGlvbmFsbHkgcHJlcGVuZGVkIGJ5IGluc2V0XG5jb25zdCBzaGFkb3dSZWdleCA9IC9eKGluc2V0Xyk/LT8oKFxcZCspP1xcLj8oXFxkKylbYS16XSt8MClfLT8oKFxcZCspP1xcLj8oXFxkKylbYS16XSt8MCkvO1xuY29uc3QgaW1hZ2VSZWdleCA9IC9eKHVybHxpbWFnZXxpbWFnZS1zZXR8Y3Jvc3MtZmFkZXxlbGVtZW50fChyZXBlYXRpbmctKT8obGluZWFyfHJhZGlhbHxjb25pYyktZ3JhZGllbnQpXFwoLitcXCkkLztcbmNvbnN0IGlzRnJhY3Rpb24gPSB2YWx1ZSA9PiBmcmFjdGlvblJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNOdW1iZXIgPSB2YWx1ZSA9PiAhIXZhbHVlICYmICFOdW1iZXIuaXNOYU4oTnVtYmVyKHZhbHVlKSk7XG5jb25zdCBpc0ludGVnZXIgPSB2YWx1ZSA9PiAhIXZhbHVlICYmIE51bWJlci5pc0ludGVnZXIoTnVtYmVyKHZhbHVlKSk7XG5jb25zdCBpc1BlcmNlbnQgPSB2YWx1ZSA9PiB2YWx1ZS5lbmRzV2l0aCgnJScpICYmIGlzTnVtYmVyKHZhbHVlLnNsaWNlKDAsIC0xKSk7XG5jb25zdCBpc1RzaGlydFNpemUgPSB2YWx1ZSA9PiB0c2hpcnRVbml0UmVnZXgudGVzdCh2YWx1ZSk7XG5jb25zdCBpc0FueSA9ICgpID0+IHRydWU7XG5jb25zdCBpc0xlbmd0aE9ubHkgPSB2YWx1ZSA9PlxuLy8gYGNvbG9yRnVuY3Rpb25SZWdleGAgY2hlY2sgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgY29sb3IgZnVuY3Rpb25zIGNhbiBoYXZlIHBlcmNlbnRhZ2VzIGluIHRoZW0gd2hpY2ggd2hpY2ggd291bGQgYmUgaW5jb3JyZWN0bHkgY2xhc3NpZmllZCBhcyBsZW5ndGhzLlxuLy8gRm9yIGV4YW1wbGUsIGBoc2woMCAwJSAwJSlgIHdvdWxkIGJlIGNsYXNzaWZpZWQgYXMgYSBsZW5ndGggd2l0aG91dCB0aGlzIGNoZWNrLlxuLy8gSSBjb3VsZCBhbHNvIHVzZSBsb29rYmVoaW5kIGFzc2VydGlvbiBpbiBgbGVuZ3RoVW5pdFJlZ2V4YCBidXQgdGhhdCBpc24ndCBzdXBwb3J0ZWQgd2lkZWx5IGVub3VnaC5cbmxlbmd0aFVuaXRSZWdleC50ZXN0KHZhbHVlKSAmJiAhY29sb3JGdW5jdGlvblJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNOZXZlciA9ICgpID0+IGZhbHNlO1xuY29uc3QgaXNTaGFkb3cgPSB2YWx1ZSA9PiBzaGFkb3dSZWdleC50ZXN0KHZhbHVlKTtcbmNvbnN0IGlzSW1hZ2UgPSB2YWx1ZSA9PiBpbWFnZVJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNBbnlOb25BcmJpdHJhcnkgPSB2YWx1ZSA9PiAhaXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSkgJiYgIWlzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUpO1xuY29uc3QgaXNBcmJpdHJhcnlTaXplID0gdmFsdWUgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgaXNMYWJlbFNpemUsIGlzTmV2ZXIpO1xuY29uc3QgaXNBcmJpdHJhcnlWYWx1ZSA9IHZhbHVlID0+IGFyYml0cmFyeVZhbHVlUmVnZXgudGVzdCh2YWx1ZSk7XG5jb25zdCBpc0FyYml0cmFyeUxlbmd0aCA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxMZW5ndGgsIGlzTGVuZ3RoT25seSk7XG5jb25zdCBpc0FyYml0cmFyeU51bWJlciA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxOdW1iZXIsIGlzTnVtYmVyKTtcbmNvbnN0IGlzQXJiaXRyYXJ5UG9zaXRpb24gPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCBpc0xhYmVsUG9zaXRpb24sIGlzTmV2ZXIpO1xuY29uc3QgaXNBcmJpdHJhcnlJbWFnZSA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxJbWFnZSwgaXNJbWFnZSk7XG5jb25zdCBpc0FyYml0cmFyeVNoYWRvdyA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxTaGFkb3csIGlzU2hhZG93KTtcbmNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGUgPSB2YWx1ZSA9PiBhcmJpdHJhcnlWYXJpYWJsZVJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxMZW5ndGgpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZUZhbWlseU5hbWUgPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsRmFtaWx5TmFtZSk7XG5jb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlUG9zaXRpb24gPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsUG9zaXRpb24pO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZVNpemUgPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsU2l6ZSk7XG5jb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlSW1hZ2UgPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsSW1hZ2UpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZVNoYWRvdyA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxTaGFkb3csIHRydWUpO1xuLy8gSGVscGVyc1xuY29uc3QgZ2V0SXNBcmJpdHJhcnlWYWx1ZSA9ICh2YWx1ZSwgdGVzdExhYmVsLCB0ZXN0VmFsdWUpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXJiaXRyYXJ5VmFsdWVSZWdleC5leGVjKHZhbHVlKTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHRbMV0pIHtcbiAgICAgIHJldHVybiB0ZXN0TGFiZWwocmVzdWx0WzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRlc3RWYWx1ZShyZXN1bHRbMl0pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBnZXRJc0FyYml0cmFyeVZhcmlhYmxlID0gKHZhbHVlLCB0ZXN0TGFiZWwsIHNob3VsZE1hdGNoTm9MYWJlbCA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGFyYml0cmFyeVZhcmlhYmxlUmVnZXguZXhlYyh2YWx1ZSk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0WzFdKSB7XG4gICAgICByZXR1cm4gdGVzdExhYmVsKHJlc3VsdFsxXSk7XG4gICAgfVxuICAgIHJldHVybiBzaG91bGRNYXRjaE5vTGFiZWw7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbi8vIExhYmVsc1xuY29uc3QgaXNMYWJlbFBvc2l0aW9uID0gbGFiZWwgPT4gbGFiZWwgPT09ICdwb3NpdGlvbicgfHwgbGFiZWwgPT09ICdwZXJjZW50YWdlJztcbmNvbnN0IGlzTGFiZWxJbWFnZSA9IGxhYmVsID0+IGxhYmVsID09PSAnaW1hZ2UnIHx8IGxhYmVsID09PSAndXJsJztcbmNvbnN0IGlzTGFiZWxTaXplID0gbGFiZWwgPT4gbGFiZWwgPT09ICdsZW5ndGgnIHx8IGxhYmVsID09PSAnc2l6ZScgfHwgbGFiZWwgPT09ICdiZy1zaXplJztcbmNvbnN0IGlzTGFiZWxMZW5ndGggPSBsYWJlbCA9PiBsYWJlbCA9PT0gJ2xlbmd0aCc7XG5jb25zdCBpc0xhYmVsTnVtYmVyID0gbGFiZWwgPT4gbGFiZWwgPT09ICdudW1iZXInO1xuY29uc3QgaXNMYWJlbEZhbWlseU5hbWUgPSBsYWJlbCA9PiBsYWJlbCA9PT0gJ2ZhbWlseS1uYW1lJztcbmNvbnN0IGlzTGFiZWxTaGFkb3cgPSBsYWJlbCA9PiBsYWJlbCA9PT0gJ3NoYWRvdyc7XG5jb25zdCB2YWxpZGF0b3JzID0gLyojX19QVVJFX18qL09iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgaXNBbnksXG4gIGlzQW55Tm9uQXJiaXRyYXJ5LFxuICBpc0FyYml0cmFyeUltYWdlLFxuICBpc0FyYml0cmFyeUxlbmd0aCxcbiAgaXNBcmJpdHJhcnlOdW1iZXIsXG4gIGlzQXJiaXRyYXJ5UG9zaXRpb24sXG4gIGlzQXJiaXRyYXJ5U2hhZG93LFxuICBpc0FyYml0cmFyeVNpemUsXG4gIGlzQXJiaXRyYXJ5VmFsdWUsXG4gIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gIGlzQXJiaXRyYXJ5VmFyaWFibGVGYW1pbHlOYW1lLFxuICBpc0FyYml0cmFyeVZhcmlhYmxlSW1hZ2UsXG4gIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsXG4gIGlzQXJiaXRyYXJ5VmFyaWFibGVQb3NpdGlvbixcbiAgaXNBcmJpdHJhcnlWYXJpYWJsZVNoYWRvdyxcbiAgaXNBcmJpdHJhcnlWYXJpYWJsZVNpemUsXG4gIGlzRnJhY3Rpb24sXG4gIGlzSW50ZWdlcixcbiAgaXNOdW1iZXIsXG4gIGlzUGVyY2VudCxcbiAgaXNUc2hpcnRTaXplXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgdmFsdWU6ICdNb2R1bGUnXG59KTtcbmNvbnN0IGdldERlZmF1bHRDb25maWcgPSAoKSA9PiB7XG4gIC8qKlxuICAgKiBUaGVtZSBnZXR0ZXJzIGZvciB0aGVtZSB2YXJpYWJsZSBuYW1lc3BhY2VzXG4gICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90aGVtZSN0aGVtZS12YXJpYWJsZS1uYW1lc3BhY2VzXG4gICAqL1xuICAvKioqL1xuICBjb25zdCB0aGVtZUNvbG9yID0gZnJvbVRoZW1lKCdjb2xvcicpO1xuICBjb25zdCB0aGVtZUZvbnQgPSBmcm9tVGhlbWUoJ2ZvbnQnKTtcbiAgY29uc3QgdGhlbWVUZXh0ID0gZnJvbVRoZW1lKCd0ZXh0Jyk7XG4gIGNvbnN0IHRoZW1lRm9udFdlaWdodCA9IGZyb21UaGVtZSgnZm9udC13ZWlnaHQnKTtcbiAgY29uc3QgdGhlbWVUcmFja2luZyA9IGZyb21UaGVtZSgndHJhY2tpbmcnKTtcbiAgY29uc3QgdGhlbWVMZWFkaW5nID0gZnJvbVRoZW1lKCdsZWFkaW5nJyk7XG4gIGNvbnN0IHRoZW1lQnJlYWtwb2ludCA9IGZyb21UaGVtZSgnYnJlYWtwb2ludCcpO1xuICBjb25zdCB0aGVtZUNvbnRhaW5lciA9IGZyb21UaGVtZSgnY29udGFpbmVyJyk7XG4gIGNvbnN0IHRoZW1lU3BhY2luZyA9IGZyb21UaGVtZSgnc3BhY2luZycpO1xuICBjb25zdCB0aGVtZVJhZGl1cyA9IGZyb21UaGVtZSgncmFkaXVzJyk7XG4gIGNvbnN0IHRoZW1lU2hhZG93ID0gZnJvbVRoZW1lKCdzaGFkb3cnKTtcbiAgY29uc3QgdGhlbWVJbnNldFNoYWRvdyA9IGZyb21UaGVtZSgnaW5zZXQtc2hhZG93Jyk7XG4gIGNvbnN0IHRoZW1lVGV4dFNoYWRvdyA9IGZyb21UaGVtZSgndGV4dC1zaGFkb3cnKTtcbiAgY29uc3QgdGhlbWVEcm9wU2hhZG93ID0gZnJvbVRoZW1lKCdkcm9wLXNoYWRvdycpO1xuICBjb25zdCB0aGVtZUJsdXIgPSBmcm9tVGhlbWUoJ2JsdXInKTtcbiAgY29uc3QgdGhlbWVQZXJzcGVjdGl2ZSA9IGZyb21UaGVtZSgncGVyc3BlY3RpdmUnKTtcbiAgY29uc3QgdGhlbWVBc3BlY3QgPSBmcm9tVGhlbWUoJ2FzcGVjdCcpO1xuICBjb25zdCB0aGVtZUVhc2UgPSBmcm9tVGhlbWUoJ2Vhc2UnKTtcbiAgY29uc3QgdGhlbWVBbmltYXRlID0gZnJvbVRoZW1lKCdhbmltYXRlJyk7XG4gIC8qKlxuICAgKiBIZWxwZXJzIHRvIGF2b2lkIHJlcGVhdGluZyB0aGUgc2FtZSBzY2FsZXNcbiAgICpcbiAgICogV2UgdXNlIGZ1bmN0aW9ucyB0aGF0IGNyZWF0ZSBhIG5ldyBhcnJheSBldmVyeSB0aW1lIHRoZXkncmUgY2FsbGVkIGluc3RlYWQgb2Ygc3RhdGljIGFycmF5cy5cbiAgICogVGhpcyBlbnN1cmVzIHRoYXQgdXNlcnMgd2hvIG1vZGlmeSBhbnkgc2NhbGUgYnkgbXV0YXRpbmcgdGhlIGFycmF5IChlLmcuIHdpdGggYGFycmF5LnB1c2goZWxlbWVudClgKSBkb24ndCBhY2NpZGVudGFsbHkgbXV0YXRlIGFycmF5cyBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgY29uZmlnLlxuICAgKi9cbiAgLyoqKi9cbiAgY29uc3Qgc2NhbGVCcmVhayA9ICgpID0+IFsnYXV0bycsICdhdm9pZCcsICdhbGwnLCAnYXZvaWQtcGFnZScsICdwYWdlJywgJ2xlZnQnLCAncmlnaHQnLCAnY29sdW1uJ107XG4gIGNvbnN0IHNjYWxlUG9zaXRpb24gPSAoKSA9PiBbJ2NlbnRlcicsICd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAndG9wLWxlZnQnLFxuICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4xLjAsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL3B1bGwvMTczNzhcbiAgJ2xlZnQtdG9wJywgJ3RvcC1yaWdodCcsXG4gIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjEuMCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvcHVsbC8xNzM3OFxuICAncmlnaHQtdG9wJywgJ2JvdHRvbS1yaWdodCcsXG4gIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjEuMCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvcHVsbC8xNzM3OFxuICAncmlnaHQtYm90dG9tJywgJ2JvdHRvbS1sZWZ0JyxcbiAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMS4wLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9wdWxsLzE3Mzc4XG4gICdsZWZ0LWJvdHRvbSddO1xuICBjb25zdCBzY2FsZVBvc2l0aW9uV2l0aEFyYml0cmFyeSA9ICgpID0+IFsuLi5zY2FsZVBvc2l0aW9uKCksIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZU92ZXJmbG93ID0gKCkgPT4gWydhdXRvJywgJ2hpZGRlbicsICdjbGlwJywgJ3Zpc2libGUnLCAnc2Nyb2xsJ107XG4gIGNvbnN0IHNjYWxlT3ZlcnNjcm9sbCA9ICgpID0+IFsnYXV0bycsICdjb250YWluJywgJ25vbmUnXTtcbiAgY29uc3Qgc2NhbGVVbmFtYmlndW91c1NwYWNpbmcgPSAoKSA9PiBbaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZSwgdGhlbWVTcGFjaW5nXTtcbiAgY29uc3Qgc2NhbGVJbnNldCA9ICgpID0+IFtpc0ZyYWN0aW9uLCAnZnVsbCcsICdhdXRvJywgLi4uc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKV07XG4gIGNvbnN0IHNjYWxlR3JpZFRlbXBsYXRlQ29sc1Jvd3MgPSAoKSA9PiBbaXNJbnRlZ2VyLCAnbm9uZScsICdzdWJncmlkJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlR3JpZENvbFJvd1N0YXJ0QW5kRW5kID0gKCkgPT4gWydhdXRvJywge1xuICAgIHNwYW46IFsnZnVsbCcsIGlzSW50ZWdlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgfSwgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCA9ICgpID0+IFtpc0ludGVnZXIsICdhdXRvJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlR3JpZEF1dG9Db2xzUm93cyA9ICgpID0+IFsnYXV0bycsICdtaW4nLCAnbWF4JywgJ2ZyJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlQWxpZ25QcmltYXJ5QXhpcyA9ICgpID0+IFsnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdiZXR3ZWVuJywgJ2Fyb3VuZCcsICdldmVubHknLCAnc3RyZXRjaCcsICdiYXNlbGluZScsICdjZW50ZXItc2FmZScsICdlbmQtc2FmZSddO1xuICBjb25zdCBzY2FsZUFsaWduU2Vjb25kYXJ5QXhpcyA9ICgpID0+IFsnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdzdHJldGNoJywgJ2NlbnRlci1zYWZlJywgJ2VuZC1zYWZlJ107XG4gIGNvbnN0IHNjYWxlTWFyZ2luID0gKCkgPT4gWydhdXRvJywgLi4uc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKV07XG4gIGNvbnN0IHNjYWxlU2l6aW5nID0gKCkgPT4gW2lzRnJhY3Rpb24sICdhdXRvJywgJ2Z1bGwnLCAnZHZ3JywgJ2R2aCcsICdsdncnLCAnbHZoJywgJ3N2dycsICdzdmgnLCAnbWluJywgJ21heCcsICdmaXQnLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXTtcbiAgY29uc3Qgc2NhbGVDb2xvciA9ICgpID0+IFt0aGVtZUNvbG9yLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVCZ1Bvc2l0aW9uID0gKCkgPT4gWy4uLnNjYWxlUG9zaXRpb24oKSwgaXNBcmJpdHJhcnlWYXJpYWJsZVBvc2l0aW9uLCBpc0FyYml0cmFyeVBvc2l0aW9uLCB7XG4gICAgcG9zaXRpb246IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICB9XTtcbiAgY29uc3Qgc2NhbGVCZ1JlcGVhdCA9ICgpID0+IFsnbm8tcmVwZWF0Jywge1xuICAgIHJlcGVhdDogWycnLCAneCcsICd5JywgJ3NwYWNlJywgJ3JvdW5kJ11cbiAgfV07XG4gIGNvbnN0IHNjYWxlQmdTaXplID0gKCkgPT4gWydhdXRvJywgJ2NvdmVyJywgJ2NvbnRhaW4nLCBpc0FyYml0cmFyeVZhcmlhYmxlU2l6ZSwgaXNBcmJpdHJhcnlTaXplLCB7XG4gICAgc2l6ZTogW2lzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gIH1dO1xuICBjb25zdCBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uID0gKCkgPT4gW2lzUGVyY2VudCwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdO1xuICBjb25zdCBzY2FsZVJhZGl1cyA9ICgpID0+IFtcbiAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICcnLCAnbm9uZScsICdmdWxsJywgdGhlbWVSYWRpdXMsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZUJvcmRlcldpZHRoID0gKCkgPT4gWycnLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdO1xuICBjb25zdCBzY2FsZUxpbmVTdHlsZSA9ICgpID0+IFsnc29saWQnLCAnZGFzaGVkJywgJ2RvdHRlZCcsICdkb3VibGUnXTtcbiAgY29uc3Qgc2NhbGVCbGVuZE1vZGUgPSAoKSA9PiBbJ25vcm1hbCcsICdtdWx0aXBseScsICdzY3JlZW4nLCAnb3ZlcmxheScsICdkYXJrZW4nLCAnbGlnaHRlbicsICdjb2xvci1kb2RnZScsICdjb2xvci1idXJuJywgJ2hhcmQtbGlnaHQnLCAnc29mdC1saWdodCcsICdkaWZmZXJlbmNlJywgJ2V4Y2x1c2lvbicsICdodWUnLCAnc2F0dXJhdGlvbicsICdjb2xvcicsICdsdW1pbm9zaXR5J107XG4gIGNvbnN0IHNjYWxlTWFza0ltYWdlUG9zaXRpb24gPSAoKSA9PiBbaXNOdW1iZXIsIGlzUGVyY2VudCwgaXNBcmJpdHJhcnlWYXJpYWJsZVBvc2l0aW9uLCBpc0FyYml0cmFyeVBvc2l0aW9uXTtcbiAgY29uc3Qgc2NhbGVCbHVyID0gKCkgPT4gW1xuICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgJycsICdub25lJywgdGhlbWVCbHVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVSb3RhdGUgPSAoKSA9PiBbJ25vbmUnLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlU2NhbGUgPSAoKSA9PiBbJ25vbmUnLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlU2tldyA9ICgpID0+IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlVHJhbnNsYXRlID0gKCkgPT4gW2lzRnJhY3Rpb24sICdmdWxsJywgLi4uc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKV07XG4gIHJldHVybiB7XG4gICAgY2FjaGVTaXplOiA1MDAsXG4gICAgdGhlbWU6IHtcbiAgICAgIGFuaW1hdGU6IFsnc3BpbicsICdwaW5nJywgJ3B1bHNlJywgJ2JvdW5jZSddLFxuICAgICAgYXNwZWN0OiBbJ3ZpZGVvJ10sXG4gICAgICBibHVyOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIGJyZWFrcG9pbnQ6IFtpc1RzaGlydFNpemVdLFxuICAgICAgY29sb3I6IFtpc0FueV0sXG4gICAgICBjb250YWluZXI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgJ2Ryb3Atc2hhZG93JzogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBlYXNlOiBbJ2luJywgJ291dCcsICdpbi1vdXQnXSxcbiAgICAgIGZvbnQ6IFtpc0FueU5vbkFyYml0cmFyeV0sXG4gICAgICAnZm9udC13ZWlnaHQnOiBbJ3RoaW4nLCAnZXh0cmFsaWdodCcsICdsaWdodCcsICdub3JtYWwnLCAnbWVkaXVtJywgJ3NlbWlib2xkJywgJ2JvbGQnLCAnZXh0cmFib2xkJywgJ2JsYWNrJ10sXG4gICAgICAnaW5zZXQtc2hhZG93JzogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBsZWFkaW5nOiBbJ25vbmUnLCAndGlnaHQnLCAnc251ZycsICdub3JtYWwnLCAncmVsYXhlZCcsICdsb29zZSddLFxuICAgICAgcGVyc3BlY3RpdmU6IFsnZHJhbWF0aWMnLCAnbmVhcicsICdub3JtYWwnLCAnbWlkcmFuZ2UnLCAnZGlzdGFudCcsICdub25lJ10sXG4gICAgICByYWRpdXM6IFtpc1RzaGlydFNpemVdLFxuICAgICAgc2hhZG93OiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIHNwYWNpbmc6IFsncHgnLCBpc051bWJlcl0sXG4gICAgICB0ZXh0OiBbaXNUc2hpcnRTaXplXSxcbiAgICAgICd0ZXh0LXNoYWRvdyc6IFtpc1RzaGlydFNpemVdLFxuICAgICAgdHJhY2tpbmc6IFsndGlnaHRlcicsICd0aWdodCcsICdub3JtYWwnLCAnd2lkZScsICd3aWRlcicsICd3aWRlc3QnXVxuICAgIH0sXG4gICAgY2xhc3NHcm91cHM6IHtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gTGF5b3V0IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQXNwZWN0IFJhdGlvXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYXNwZWN0LXJhdGlvXG4gICAgICAgKi9cbiAgICAgIGFzcGVjdDogW3tcbiAgICAgICAgYXNwZWN0OiBbJ2F1dG8nLCAnc3F1YXJlJywgaXNGcmFjdGlvbiwgaXNBcmJpdHJhcnlWYWx1ZSwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgdGhlbWVBc3BlY3RdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQ29udGFpbmVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY29udGFpbmVyXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKi9cbiAgICAgIGNvbnRhaW5lcjogWydjb250YWluZXInXSxcbiAgICAgIC8qKlxuICAgICAgICogQ29sdW1uc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbHVtbnNcbiAgICAgICAqL1xuICAgICAgY29sdW1uczogW3tcbiAgICAgICAgY29sdW1uczogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhbHVlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCB0aGVtZUNvbnRhaW5lcl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCcmVhayBBZnRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWFmdGVyXG4gICAgICAgKi9cbiAgICAgICdicmVhay1hZnRlcic6IFt7XG4gICAgICAgICdicmVhay1hZnRlcic6IHNjYWxlQnJlYWsoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJyZWFrIEJlZm9yZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWJlZm9yZVxuICAgICAgICovXG4gICAgICAnYnJlYWstYmVmb3JlJzogW3tcbiAgICAgICAgJ2JyZWFrLWJlZm9yZSc6IHNjYWxlQnJlYWsoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJyZWFrIEluc2lkZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWluc2lkZVxuICAgICAgICovXG4gICAgICAnYnJlYWstaW5zaWRlJzogW3tcbiAgICAgICAgJ2JyZWFrLWluc2lkZSc6IFsnYXV0bycsICdhdm9pZCcsICdhdm9pZC1wYWdlJywgJ2F2b2lkLWNvbHVtbiddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm94IERlY29yYXRpb24gQnJlYWtcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtZGVjb3JhdGlvbi1icmVha1xuICAgICAgICovXG4gICAgICAnYm94LWRlY29yYXRpb24nOiBbe1xuICAgICAgICAnYm94LWRlY29yYXRpb24nOiBbJ3NsaWNlJywgJ2Nsb25lJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3ggU2l6aW5nXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNpemluZ1xuICAgICAgICovXG4gICAgICBib3g6IFt7XG4gICAgICAgIGJveDogWydib3JkZXInLCAnY29udGVudCddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGlzcGxheVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Rpc3BsYXlcbiAgICAgICAqL1xuICAgICAgZGlzcGxheTogWydibG9jaycsICdpbmxpbmUtYmxvY2snLCAnaW5saW5lJywgJ2ZsZXgnLCAnaW5saW5lLWZsZXgnLCAndGFibGUnLCAnaW5saW5lLXRhYmxlJywgJ3RhYmxlLWNhcHRpb24nLCAndGFibGUtY2VsbCcsICd0YWJsZS1jb2x1bW4nLCAndGFibGUtY29sdW1uLWdyb3VwJywgJ3RhYmxlLWZvb3Rlci1ncm91cCcsICd0YWJsZS1oZWFkZXItZ3JvdXAnLCAndGFibGUtcm93LWdyb3VwJywgJ3RhYmxlLXJvdycsICdmbG93LXJvb3QnLCAnZ3JpZCcsICdpbmxpbmUtZ3JpZCcsICdjb250ZW50cycsICdsaXN0LWl0ZW0nLCAnaGlkZGVuJ10sXG4gICAgICAvKipcbiAgICAgICAqIFNjcmVlbiBSZWFkZXIgT25seVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Rpc3BsYXkjc2NyZWVuLXJlYWRlci1vbmx5XG4gICAgICAgKi9cbiAgICAgIHNyOiBbJ3NyLW9ubHknLCAnbm90LXNyLW9ubHknXSxcbiAgICAgIC8qKlxuICAgICAgICogRmxvYXRzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxvYXRcbiAgICAgICAqL1xuICAgICAgZmxvYXQ6IFt7XG4gICAgICAgIGZsb2F0OiBbJ3JpZ2h0JywgJ2xlZnQnLCAnbm9uZScsICdzdGFydCcsICdlbmQnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENsZWFyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY2xlYXJcbiAgICAgICAqL1xuICAgICAgY2xlYXI6IFt7XG4gICAgICAgIGNsZWFyOiBbJ2xlZnQnLCAncmlnaHQnLCAnYm90aCcsICdub25lJywgJ3N0YXJ0JywgJ2VuZCddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSXNvbGF0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaXNvbGF0aW9uXG4gICAgICAgKi9cbiAgICAgIGlzb2xhdGlvbjogWydpc29sYXRlJywgJ2lzb2xhdGlvbi1hdXRvJ10sXG4gICAgICAvKipcbiAgICAgICAqIE9iamVjdCBGaXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vYmplY3QtZml0XG4gICAgICAgKi9cbiAgICAgICdvYmplY3QtZml0JzogW3tcbiAgICAgICAgb2JqZWN0OiBbJ2NvbnRhaW4nLCAnY292ZXInLCAnZmlsbCcsICdub25lJywgJ3NjYWxlLWRvd24nXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE9iamVjdCBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29iamVjdC1wb3NpdGlvblxuICAgICAgICovXG4gICAgICAnb2JqZWN0LXBvc2l0aW9uJzogW3tcbiAgICAgICAgb2JqZWN0OiBzY2FsZVBvc2l0aW9uV2l0aEFyYml0cmFyeSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcmZsb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyZmxvd1xuICAgICAgICovXG4gICAgICBvdmVyZmxvdzogW3tcbiAgICAgICAgb3ZlcmZsb3c6IHNjYWxlT3ZlcmZsb3coKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJmbG93IFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyZmxvd1xuICAgICAgICovXG4gICAgICAnb3ZlcmZsb3cteCc6IFt7XG4gICAgICAgICdvdmVyZmxvdy14Jzogc2NhbGVPdmVyZmxvdygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcmZsb3cgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJmbG93XG4gICAgICAgKi9cbiAgICAgICdvdmVyZmxvdy15JzogW3tcbiAgICAgICAgJ292ZXJmbG93LXknOiBzY2FsZU92ZXJmbG93KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyc2Nyb2xsIEJlaGF2aW9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcnNjcm9sbC1iZWhhdmlvclxuICAgICAgICovXG4gICAgICBvdmVyc2Nyb2xsOiBbe1xuICAgICAgICBvdmVyc2Nyb2xsOiBzY2FsZU92ZXJzY3JvbGwoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJzY3JvbGwgQmVoYXZpb3IgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJzY3JvbGwtYmVoYXZpb3JcbiAgICAgICAqL1xuICAgICAgJ292ZXJzY3JvbGwteCc6IFt7XG4gICAgICAgICdvdmVyc2Nyb2xsLXgnOiBzY2FsZU92ZXJzY3JvbGwoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJzY3JvbGwgQmVoYXZpb3IgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJzY3JvbGwtYmVoYXZpb3JcbiAgICAgICAqL1xuICAgICAgJ292ZXJzY3JvbGwteSc6IFt7XG4gICAgICAgICdvdmVyc2Nyb2xsLXknOiBzY2FsZU92ZXJzY3JvbGwoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcG9zaXRpb25cbiAgICAgICAqL1xuICAgICAgcG9zaXRpb246IFsnc3RhdGljJywgJ2ZpeGVkJywgJ2Fic29sdXRlJywgJ3JlbGF0aXZlJywgJ3N0aWNreSddLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3AgLyBSaWdodCAvIEJvdHRvbSAvIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgaW5zZXQ6IFt7XG4gICAgICAgIGluc2V0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaWdodCAvIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgJ2luc2V0LXgnOiBbe1xuICAgICAgICAnaW5zZXQteCc6IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvcCAvIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICAnaW5zZXQteSc6IFt7XG4gICAgICAgICdpbnNldC15Jzogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgc3RhcnQ6IFt7XG4gICAgICAgIHN0YXJ0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgZW5kOiBbe1xuICAgICAgICBlbmQ6IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICB0b3A6IFt7XG4gICAgICAgIHRvcDogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgcmlnaHQ6IFt7XG4gICAgICAgIHJpZ2h0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgYm90dG9tOiBbe1xuICAgICAgICBib3R0b206IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgbGVmdDogW3tcbiAgICAgICAgbGVmdDogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVmlzaWJpbGl0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Zpc2liaWxpdHlcbiAgICAgICAqL1xuICAgICAgdmlzaWJpbGl0eTogWyd2aXNpYmxlJywgJ2ludmlzaWJsZScsICdjb2xsYXBzZSddLFxuICAgICAgLyoqXG4gICAgICAgKiBaLUluZGV4XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvei1pbmRleFxuICAgICAgICovXG4gICAgICB6OiBbe1xuICAgICAgICB6OiBbaXNJbnRlZ2VyLCAnYXV0bycsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIEZsZXhib3ggYW5kIEdyaWQgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogRmxleCBCYXNpc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZsZXgtYmFzaXNcbiAgICAgICAqL1xuICAgICAgYmFzaXM6IFt7XG4gICAgICAgIGJhc2lzOiBbaXNGcmFjdGlvbiwgJ2Z1bGwnLCAnYXV0bycsIHRoZW1lQ29udGFpbmVyLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZsZXggRGlyZWN0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1kaXJlY3Rpb25cbiAgICAgICAqL1xuICAgICAgJ2ZsZXgtZGlyZWN0aW9uJzogW3tcbiAgICAgICAgZmxleDogWydyb3cnLCAncm93LXJldmVyc2UnLCAnY29sJywgJ2NvbC1yZXZlcnNlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4IFdyYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LXdyYXBcbiAgICAgICAqL1xuICAgICAgJ2ZsZXgtd3JhcCc6IFt7XG4gICAgICAgIGZsZXg6IFsnbm93cmFwJywgJ3dyYXAnLCAnd3JhcC1yZXZlcnNlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleFxuICAgICAgICovXG4gICAgICBmbGV4OiBbe1xuICAgICAgICBmbGV4OiBbaXNOdW1iZXIsIGlzRnJhY3Rpb24sICdhdXRvJywgJ2luaXRpYWwnLCAnbm9uZScsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRmxleCBHcm93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1ncm93XG4gICAgICAgKi9cbiAgICAgIGdyb3c6IFt7XG4gICAgICAgIGdyb3c6IFsnJywgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRmxleCBTaHJpbmtcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LXNocmlua1xuICAgICAgICovXG4gICAgICBzaHJpbms6IFt7XG4gICAgICAgIHNocmluazogWycnLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPcmRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29yZGVyXG4gICAgICAgKi9cbiAgICAgIG9yZGVyOiBbe1xuICAgICAgICBvcmRlcjogW2lzSW50ZWdlciwgJ2ZpcnN0JywgJ2xhc3QnLCAnbm9uZScsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBUZW1wbGF0ZSBDb2x1bW5zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zXG4gICAgICAgKi9cbiAgICAgICdncmlkLWNvbHMnOiBbe1xuICAgICAgICAnZ3JpZC1jb2xzJzogc2NhbGVHcmlkVGVtcGxhdGVDb2xzUm93cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBDb2x1bW4gU3RhcnQgLyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWNvbHVtblxuICAgICAgICovXG4gICAgICAnY29sLXN0YXJ0LWVuZCc6IFt7XG4gICAgICAgIGNvbDogc2NhbGVHcmlkQ29sUm93U3RhcnRBbmRFbmQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgQ29sdW1uIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1jb2x1bW5cbiAgICAgICAqL1xuICAgICAgJ2NvbC1zdGFydCc6IFt7XG4gICAgICAgICdjb2wtc3RhcnQnOiBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIENvbHVtbiBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWNvbHVtblxuICAgICAgICovXG4gICAgICAnY29sLWVuZCc6IFt7XG4gICAgICAgICdjb2wtZW5kJzogc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBUZW1wbGF0ZSBSb3dzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC10ZW1wbGF0ZS1yb3dzXG4gICAgICAgKi9cbiAgICAgICdncmlkLXJvd3MnOiBbe1xuICAgICAgICAnZ3JpZC1yb3dzJzogc2NhbGVHcmlkVGVtcGxhdGVDb2xzUm93cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBSb3cgU3RhcnQgLyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICovXG4gICAgICAncm93LXN0YXJ0LWVuZCc6IFt7XG4gICAgICAgIHJvdzogc2NhbGVHcmlkQ29sUm93U3RhcnRBbmRFbmQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgUm93IFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1yb3dcbiAgICAgICAqL1xuICAgICAgJ3Jvdy1zdGFydCc6IFt7XG4gICAgICAgICdyb3ctc3RhcnQnOiBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIFJvdyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICovXG4gICAgICAncm93LWVuZCc6IFt7XG4gICAgICAgICdyb3ctZW5kJzogc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBBdXRvIEZsb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWF1dG8tZmxvd1xuICAgICAgICovXG4gICAgICAnZ3JpZC1mbG93JzogW3tcbiAgICAgICAgJ2dyaWQtZmxvdyc6IFsncm93JywgJ2NvbCcsICdkZW5zZScsICdyb3ctZGVuc2UnLCAnY29sLWRlbnNlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIEF1dG8gQ29sdW1uc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtYXV0by1jb2x1bW5zXG4gICAgICAgKi9cbiAgICAgICdhdXRvLWNvbHMnOiBbe1xuICAgICAgICAnYXV0by1jb2xzJzogc2NhbGVHcmlkQXV0b0NvbHNSb3dzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIEF1dG8gUm93c1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtYXV0by1yb3dzXG4gICAgICAgKi9cbiAgICAgICdhdXRvLXJvd3MnOiBbe1xuICAgICAgICAnYXV0by1yb3dzJzogc2NhbGVHcmlkQXV0b0NvbHNSb3dzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9nYXBcbiAgICAgICAqL1xuICAgICAgZ2FwOiBbe1xuICAgICAgICBnYXA6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHYXAgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dhcFxuICAgICAgICovXG4gICAgICAnZ2FwLXgnOiBbe1xuICAgICAgICAnZ2FwLXgnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR2FwIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9nYXBcbiAgICAgICAqL1xuICAgICAgJ2dhcC15JzogW3tcbiAgICAgICAgJ2dhcC15Jzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEp1c3RpZnkgQ29udGVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2p1c3RpZnktY29udGVudFxuICAgICAgICovXG4gICAgICAnanVzdGlmeS1jb250ZW50JzogW3tcbiAgICAgICAganVzdGlmeTogWy4uLnNjYWxlQWxpZ25QcmltYXJ5QXhpcygpLCAnbm9ybWFsJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBKdXN0aWZ5IEl0ZW1zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvanVzdGlmeS1pdGVtc1xuICAgICAgICovXG4gICAgICAnanVzdGlmeS1pdGVtcyc6IFt7XG4gICAgICAgICdqdXN0aWZ5LWl0ZW1zJzogWy4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCksICdub3JtYWwnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEp1c3RpZnkgU2VsZlxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2p1c3RpZnktc2VsZlxuICAgICAgICovXG4gICAgICAnanVzdGlmeS1zZWxmJzogW3tcbiAgICAgICAgJ2p1c3RpZnktc2VsZic6IFsnYXV0bycsIC4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQWxpZ24gQ29udGVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FsaWduLWNvbnRlbnRcbiAgICAgICAqL1xuICAgICAgJ2FsaWduLWNvbnRlbnQnOiBbe1xuICAgICAgICBjb250ZW50OiBbJ25vcm1hbCcsIC4uLnNjYWxlQWxpZ25QcmltYXJ5QXhpcygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFsaWduIEl0ZW1zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYWxpZ24taXRlbXNcbiAgICAgICAqL1xuICAgICAgJ2FsaWduLWl0ZW1zJzogW3tcbiAgICAgICAgaXRlbXM6IFsuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpLCB7XG4gICAgICAgICAgYmFzZWxpbmU6IFsnJywgJ2xhc3QnXVxuICAgICAgICB9XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFsaWduIFNlbGZcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hbGlnbi1zZWxmXG4gICAgICAgKi9cbiAgICAgICdhbGlnbi1zZWxmJzogW3tcbiAgICAgICAgc2VsZjogWydhdXRvJywgLi4uc2NhbGVBbGlnblNlY29uZGFyeUF4aXMoKSwge1xuICAgICAgICAgIGJhc2VsaW5lOiBbJycsICdsYXN0J11cbiAgICAgICAgfV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZSBDb250ZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGxhY2UtY29udGVudFxuICAgICAgICovXG4gICAgICAncGxhY2UtY29udGVudCc6IFt7XG4gICAgICAgICdwbGFjZS1jb250ZW50Jzogc2NhbGVBbGlnblByaW1hcnlBeGlzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZSBJdGVtc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BsYWNlLWl0ZW1zXG4gICAgICAgKi9cbiAgICAgICdwbGFjZS1pdGVtcyc6IFt7XG4gICAgICAgICdwbGFjZS1pdGVtcyc6IFsuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpLCAnYmFzZWxpbmUnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBsYWNlIFNlbGZcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZS1zZWxmXG4gICAgICAgKi9cbiAgICAgICdwbGFjZS1zZWxmJzogW3tcbiAgICAgICAgJ3BsYWNlLXNlbGYnOiBbJ2F1dG8nLCAuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpXVxuICAgICAgfV0sXG4gICAgICAvLyBTcGFjaW5nXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHA6IFt7XG4gICAgICAgIHA6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHB4OiBbe1xuICAgICAgICBweDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcHk6IFt7XG4gICAgICAgIHB5OiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcHM6IFt7XG4gICAgICAgIHBzOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHBlOiBbe1xuICAgICAgICBwZTogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwdDogW3tcbiAgICAgICAgcHQ6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwcjogW3tcbiAgICAgICAgcHI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcGI6IFt7XG4gICAgICAgIHBiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwbDogW3tcbiAgICAgICAgcGw6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW5cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbTogW3tcbiAgICAgICAgbTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG14OiBbe1xuICAgICAgICBteDogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG15OiBbe1xuICAgICAgICBteTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICovXG4gICAgICBtczogW3tcbiAgICAgICAgbXM6IHNjYWxlTWFyZ2luKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW4gRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG1lOiBbe1xuICAgICAgICBtZTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbXQ6IFt7XG4gICAgICAgIG10OiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFyZ2luIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG1yOiBbe1xuICAgICAgICBtcjogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbWI6IFt7XG4gICAgICAgIG1iOiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFyZ2luIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbWw6IFt7XG4gICAgICAgIG1sOiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3BhY2UgQmV0d2VlbiBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgICdzcGFjZS14JzogW3tcbiAgICAgICAgJ3NwYWNlLXgnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3BhY2UgQmV0d2VlbiBYIFJldmVyc2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW4jYWRkaW5nLXNwYWNlLWJldHdlZW4tY2hpbGRyZW5cbiAgICAgICAqL1xuICAgICAgJ3NwYWNlLXgtcmV2ZXJzZSc6IFsnc3BhY2UteC1yZXZlcnNlJ10sXG4gICAgICAvKipcbiAgICAgICAqIFNwYWNlIEJldHdlZW4gWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpbiNhZGRpbmctc3BhY2UtYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICAnc3BhY2UteSc6IFt7XG4gICAgICAgICdzcGFjZS15Jzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNwYWNlIEJldHdlZW4gWSBSZXZlcnNlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgICdzcGFjZS15LXJldmVyc2UnOiBbJ3NwYWNlLXktcmV2ZXJzZSddLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBTaXppbmcgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBTaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2lkdGgjc2V0dGluZy1ib3RoLXdpZHRoLWFuZC1oZWlnaHRcbiAgICAgICAqL1xuICAgICAgc2l6ZTogW3tcbiAgICAgICAgc2l6ZTogc2NhbGVTaXppbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdpZHRoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2lkdGhcbiAgICAgICAqL1xuICAgICAgdzogW3tcbiAgICAgICAgdzogW3RoZW1lQ29udGFpbmVyLCAnc2NyZWVuJywgLi4uc2NhbGVTaXppbmcoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNaW4tV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9taW4td2lkdGhcbiAgICAgICAqL1xuICAgICAgJ21pbi13JzogW3tcbiAgICAgICAgJ21pbi13JzogW3RoZW1lQ29udGFpbmVyLCAnc2NyZWVuJywgLyoqIERlcHJlY2F0ZWQuIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy5jb20vaXNzdWVzLzIwMjcjaXNzdWVjb21tZW50LTI2MjAxNTI3NTcgKi9cbiAgICAgICAgJ25vbmUnLCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1heC1XaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21heC13aWR0aFxuICAgICAgICovXG4gICAgICAnbWF4LXcnOiBbe1xuICAgICAgICAnbWF4LXcnOiBbdGhlbWVDb250YWluZXIsICdzY3JlZW4nLCAnbm9uZScsIC8qKiBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjAuIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy5jb20vaXNzdWVzLzIwMjcjaXNzdWVjb21tZW50LTI2MjAxNTI3NTcgKi9cbiAgICAgICAgJ3Byb3NlJywgLyoqIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMC4gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzLmNvbS9pc3N1ZXMvMjAyNyNpc3N1ZWNvbW1lbnQtMjYyMDE1Mjc1NyAqL1xuICAgICAgICB7XG4gICAgICAgICAgc2NyZWVuOiBbdGhlbWVCcmVha3BvaW50XVxuICAgICAgICB9LCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2hlaWdodFxuICAgICAgICovXG4gICAgICBoOiBbe1xuICAgICAgICBoOiBbJ3NjcmVlbicsICdsaCcsIC4uLnNjYWxlU2l6aW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWluLUhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21pbi1oZWlnaHRcbiAgICAgICAqL1xuICAgICAgJ21pbi1oJzogW3tcbiAgICAgICAgJ21pbi1oJzogWydzY3JlZW4nLCAnbGgnLCAnbm9uZScsIC4uLnNjYWxlU2l6aW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWF4LUhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21heC1oZWlnaHRcbiAgICAgICAqL1xuICAgICAgJ21heC1oJzogW3tcbiAgICAgICAgJ21heC1oJzogWydzY3JlZW4nLCAnbGgnLCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBUeXBvZ3JhcGh5IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgU2l6ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc2l6ZVxuICAgICAgICovXG4gICAgICAnZm9udC1zaXplJzogW3tcbiAgICAgICAgdGV4dDogWydiYXNlJywgdGhlbWVUZXh0LCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFNtb290aGluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc21vb3RoaW5nXG4gICAgICAgKi9cbiAgICAgICdmb250LXNtb290aGluZyc6IFsnYW50aWFsaWFzZWQnLCAnc3VicGl4ZWwtYW50aWFsaWFzZWQnXSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBTdHlsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ2ZvbnQtc3R5bGUnOiBbJ2l0YWxpYycsICdub3QtaXRhbGljJ10sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgV2VpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC13ZWlnaHRcbiAgICAgICAqL1xuICAgICAgJ2ZvbnQtd2VpZ2h0JzogW3tcbiAgICAgICAgZm9udDogW3RoZW1lRm9udFdlaWdodCwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBTdHJldGNoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC1zdHJldGNoXG4gICAgICAgKi9cbiAgICAgICdmb250LXN0cmV0Y2gnOiBbe1xuICAgICAgICAnZm9udC1zdHJldGNoJzogWyd1bHRyYS1jb25kZW5zZWQnLCAnZXh0cmEtY29uZGVuc2VkJywgJ2NvbmRlbnNlZCcsICdzZW1pLWNvbmRlbnNlZCcsICdub3JtYWwnLCAnc2VtaS1leHBhbmRlZCcsICdleHBhbmRlZCcsICdleHRyYS1leHBhbmRlZCcsICd1bHRyYS1leHBhbmRlZCcsIGlzUGVyY2VudCwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IEZhbWlseVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtZmFtaWx5XG4gICAgICAgKi9cbiAgICAgICdmb250LWZhbWlseSc6IFt7XG4gICAgICAgIGZvbnQ6IFtpc0FyYml0cmFyeVZhcmlhYmxlRmFtaWx5TmFtZSwgaXNBcmJpdHJhcnlWYWx1ZSwgdGhlbWVGb250XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgJ2Z2bi1ub3JtYWwnOiBbJ25vcm1hbC1udW1zJ10sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgJ2Z2bi1vcmRpbmFsJzogWydvcmRpbmFsJ10sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgJ2Z2bi1zbGFzaGVkLXplcm8nOiBbJ3NsYXNoZWQtemVybyddLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFZhcmlhbnQgTnVtZXJpY1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtdmFyaWFudC1udW1lcmljXG4gICAgICAgKi9cbiAgICAgICdmdm4tZmlndXJlJzogWydsaW5pbmctbnVtcycsICdvbGRzdHlsZS1udW1zJ10sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgJ2Z2bi1zcGFjaW5nJzogWydwcm9wb3J0aW9uYWwtbnVtcycsICd0YWJ1bGFyLW51bXMnXSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBWYXJpYW50IE51bWVyaWNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICovXG4gICAgICAnZnZuLWZyYWN0aW9uJzogWydkaWFnb25hbC1mcmFjdGlvbnMnLCAnc3RhY2tlZC1mcmFjdGlvbnMnXSxcbiAgICAgIC8qKlxuICAgICAgICogTGV0dGVyIFNwYWNpbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9sZXR0ZXItc3BhY2luZ1xuICAgICAgICovXG4gICAgICB0cmFja2luZzogW3tcbiAgICAgICAgdHJhY2tpbmc6IFt0aGVtZVRyYWNraW5nLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExpbmUgQ2xhbXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saW5lLWNsYW1wXG4gICAgICAgKi9cbiAgICAgICdsaW5lLWNsYW1wJzogW3tcbiAgICAgICAgJ2xpbmUtY2xhbXAnOiBbaXNOdW1iZXIsICdub25lJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGluZSBIZWlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saW5lLWhlaWdodFxuICAgICAgICovXG4gICAgICBsZWFkaW5nOiBbe1xuICAgICAgICBsZWFkaW5nOiBbLyoqIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMC4gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzLmNvbS9pc3N1ZXMvMjAyNyNpc3N1ZWNvbW1lbnQtMjYyMDE1Mjc1NyAqL1xuICAgICAgICB0aGVtZUxlYWRpbmcsIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGlzdCBTdHlsZSBJbWFnZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpc3Qtc3R5bGUtaW1hZ2VcbiAgICAgICAqL1xuICAgICAgJ2xpc3QtaW1hZ2UnOiBbe1xuICAgICAgICAnbGlzdC1pbWFnZSc6IFsnbm9uZScsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGlzdCBTdHlsZSBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpc3Qtc3R5bGUtcG9zaXRpb25cbiAgICAgICAqL1xuICAgICAgJ2xpc3Qtc3R5bGUtcG9zaXRpb24nOiBbe1xuICAgICAgICBsaXN0OiBbJ2luc2lkZScsICdvdXRzaWRlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBMaXN0IFN0eWxlIFR5cGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saXN0LXN0eWxlLXR5cGVcbiAgICAgICAqL1xuICAgICAgJ2xpc3Qtc3R5bGUtdHlwZSc6IFt7XG4gICAgICAgIGxpc3Q6IFsnZGlzYycsICdkZWNpbWFsJywgJ25vbmUnLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgQWxpZ25tZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1hbGlnblxuICAgICAgICovXG4gICAgICAndGV4dC1hbGlnbm1lbnQnOiBbe1xuICAgICAgICB0ZXh0OiBbJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0JywgJ2p1c3RpZnknLCAnc3RhcnQnLCAnZW5kJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZWhvbGRlciBDb2xvclxuICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHYzLjAuMFxuICAgICAgICogQHNlZSBodHRwczovL3YzLnRhaWx3aW5kY3NzLmNvbS9kb2NzL3BsYWNlaG9sZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdwbGFjZWhvbGRlci1jb2xvcic6IFt7XG4gICAgICAgIHBsYWNlaG9sZGVyOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1jb2xvclxuICAgICAgICovXG4gICAgICAndGV4dC1jb2xvcic6IFt7XG4gICAgICAgIHRleHQ6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgRGVjb3JhdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvblxuICAgICAgICovXG4gICAgICAndGV4dC1kZWNvcmF0aW9uJzogWyd1bmRlcmxpbmUnLCAnb3ZlcmxpbmUnLCAnbGluZS10aHJvdWdoJywgJ25vLXVuZGVybGluZSddLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IERlY29yYXRpb24gU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWRlY29yYXRpb24tc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ3RleHQtZGVjb3JhdGlvbi1zdHlsZSc6IFt7XG4gICAgICAgIGRlY29yYXRpb246IFsuLi5zY2FsZUxpbmVTdHlsZSgpLCAnd2F2eSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBEZWNvcmF0aW9uIFRoaWNrbmVzc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvbi10aGlja25lc3NcbiAgICAgICAqL1xuICAgICAgJ3RleHQtZGVjb3JhdGlvbi10aGlja25lc3MnOiBbe1xuICAgICAgICBkZWNvcmF0aW9uOiBbaXNOdW1iZXIsICdmcm9tLWZvbnQnLCAnYXV0bycsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5TGVuZ3RoXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgRGVjb3JhdGlvbiBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvbi1jb2xvclxuICAgICAgICovXG4gICAgICAndGV4dC1kZWNvcmF0aW9uLWNvbG9yJzogW3tcbiAgICAgICAgZGVjb3JhdGlvbjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBVbmRlcmxpbmUgT2Zmc2V0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC11bmRlcmxpbmUtb2Zmc2V0XG4gICAgICAgKi9cbiAgICAgICd1bmRlcmxpbmUtb2Zmc2V0JzogW3tcbiAgICAgICAgJ3VuZGVybGluZS1vZmZzZXQnOiBbaXNOdW1iZXIsICdhdXRvJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IFRyYW5zZm9ybVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtdHJhbnNmb3JtXG4gICAgICAgKi9cbiAgICAgICd0ZXh0LXRyYW5zZm9ybSc6IFsndXBwZXJjYXNlJywgJ2xvd2VyY2FzZScsICdjYXBpdGFsaXplJywgJ25vcm1hbC1jYXNlJ10sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgT3ZlcmZsb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LW92ZXJmbG93XG4gICAgICAgKi9cbiAgICAgICd0ZXh0LW92ZXJmbG93JzogWyd0cnVuY2F0ZScsICd0ZXh0LWVsbGlwc2lzJywgJ3RleHQtY2xpcCddLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IFdyYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXdyYXBcbiAgICAgICAqL1xuICAgICAgJ3RleHQtd3JhcCc6IFt7XG4gICAgICAgIHRleHQ6IFsnd3JhcCcsICdub3dyYXAnLCAnYmFsYW5jZScsICdwcmV0dHknXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgSW5kZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1pbmRlbnRcbiAgICAgICAqL1xuICAgICAgaW5kZW50OiBbe1xuICAgICAgICBpbmRlbnQ6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBWZXJ0aWNhbCBBbGlnbm1lbnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy92ZXJ0aWNhbC1hbGlnblxuICAgICAgICovXG4gICAgICAndmVydGljYWwtYWxpZ24nOiBbe1xuICAgICAgICBhbGlnbjogWydiYXNlbGluZScsICd0b3AnLCAnbWlkZGxlJywgJ2JvdHRvbScsICd0ZXh0LXRvcCcsICd0ZXh0LWJvdHRvbScsICdzdWInLCAnc3VwZXInLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdoaXRlc3BhY2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aGl0ZXNwYWNlXG4gICAgICAgKi9cbiAgICAgIHdoaXRlc3BhY2U6IFt7XG4gICAgICAgIHdoaXRlc3BhY2U6IFsnbm9ybWFsJywgJ25vd3JhcCcsICdwcmUnLCAncHJlLWxpbmUnLCAncHJlLXdyYXAnLCAnYnJlYWstc3BhY2VzJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBXb3JkIEJyZWFrXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd29yZC1icmVha1xuICAgICAgICovXG4gICAgICBicmVhazogW3tcbiAgICAgICAgYnJlYWs6IFsnbm9ybWFsJywgJ3dvcmRzJywgJ2FsbCcsICdrZWVwJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyZmxvdyBXcmFwXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcmZsb3ctd3JhcFxuICAgICAgICovXG4gICAgICB3cmFwOiBbe1xuICAgICAgICB3cmFwOiBbJ2JyZWFrLXdvcmQnLCAnYW55d2hlcmUnLCAnbm9ybWFsJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBIeXBoZW5zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaHlwaGVuc1xuICAgICAgICovXG4gICAgICBoeXBoZW5zOiBbe1xuICAgICAgICBoeXBoZW5zOiBbJ25vbmUnLCAnbWFudWFsJywgJ2F1dG8nXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENvbnRlbnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb250ZW50XG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnQ6IFt7XG4gICAgICAgIGNvbnRlbnQ6IFsnbm9uZScsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBCYWNrZ3JvdW5kcyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBBdHRhY2htZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1hdHRhY2htZW50XG4gICAgICAgKi9cbiAgICAgICdiZy1hdHRhY2htZW50JzogW3tcbiAgICAgICAgYmc6IFsnZml4ZWQnLCAnbG9jYWwnLCAnc2Nyb2xsJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIENsaXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLWNsaXBcbiAgICAgICAqL1xuICAgICAgJ2JnLWNsaXAnOiBbe1xuICAgICAgICAnYmctY2xpcCc6IFsnYm9yZGVyJywgJ3BhZGRpbmcnLCAnY29udGVudCcsICd0ZXh0J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtb3JpZ2luXG4gICAgICAgKi9cbiAgICAgICdiZy1vcmlnaW4nOiBbe1xuICAgICAgICAnYmctb3JpZ2luJzogWydib3JkZXInLCAncGFkZGluZycsICdjb250ZW50J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1wb3NpdGlvblxuICAgICAgICovXG4gICAgICAnYmctcG9zaXRpb24nOiBbe1xuICAgICAgICBiZzogc2NhbGVCZ1Bvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIFJlcGVhdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtcmVwZWF0XG4gICAgICAgKi9cbiAgICAgICdiZy1yZXBlYXQnOiBbe1xuICAgICAgICBiZzogc2NhbGVCZ1JlcGVhdCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBTaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1zaXplXG4gICAgICAgKi9cbiAgICAgICdiZy1zaXplJzogW3tcbiAgICAgICAgYmc6IHNjYWxlQmdTaXplKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIEltYWdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1pbWFnZVxuICAgICAgICovXG4gICAgICAnYmctaW1hZ2UnOiBbe1xuICAgICAgICBiZzogWydub25lJywge1xuICAgICAgICAgIGxpbmVhcjogW3tcbiAgICAgICAgICAgIHRvOiBbJ3QnLCAndHInLCAncicsICdicicsICdiJywgJ2JsJywgJ2wnLCAndGwnXVxuICAgICAgICAgIH0sIGlzSW50ZWdlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV0sXG4gICAgICAgICAgcmFkaWFsOiBbJycsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdLFxuICAgICAgICAgIGNvbmljOiBbaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9LCBpc0FyYml0cmFyeVZhcmlhYmxlSW1hZ2UsIGlzQXJiaXRyYXJ5SW1hZ2VdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2JnLWNvbG9yJzogW3tcbiAgICAgICAgYmc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIEZyb20gUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICAnZ3JhZGllbnQtZnJvbS1wb3MnOiBbe1xuICAgICAgICBmcm9tOiBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBWaWEgUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICAnZ3JhZGllbnQtdmlhLXBvcyc6IFt7XG4gICAgICAgIHZpYTogc2NhbGVHcmFkaWVudFN0b3BQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JhZGllbnQgQ29sb3IgU3RvcHMgVG8gUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICAnZ3JhZGllbnQtdG8tcG9zJzogW3tcbiAgICAgICAgdG86IHNjYWxlR3JhZGllbnRTdG9wUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIEZyb21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICAnZ3JhZGllbnQtZnJvbSc6IFt7XG4gICAgICAgIGZyb206IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFZpYVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgKi9cbiAgICAgICdncmFkaWVudC12aWEnOiBbe1xuICAgICAgICB2aWE6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFRvXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAqL1xuICAgICAgJ2dyYWRpZW50LXRvJzogW3tcbiAgICAgICAgdG86IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBCb3JkZXJzIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIHJvdW5kZWQ6IFt7XG4gICAgICAgIHJvdW5kZWQ6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICAncm91bmRlZC1zJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtcyc6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgJ3JvdW5kZWQtZSc6IFt7XG4gICAgICAgICdyb3VuZGVkLWUnOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXQnOiBbe1xuICAgICAgICAncm91bmRlZC10Jzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXInOiBbe1xuICAgICAgICAncm91bmRlZC1yJzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgQm90dG9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICAncm91bmRlZC1iJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtYic6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLWwnOiBbe1xuICAgICAgICAncm91bmRlZC1sJzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgU3RhcnQgU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXNzJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtc3MnOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBTdGFydCBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXNlJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtc2UnOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBFbmQgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICAncm91bmRlZC1lZSc6IFt7XG4gICAgICAgICdyb3VuZGVkLWVlJzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgRW5kIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICAncm91bmRlZC1lcyc6IFt7XG4gICAgICAgICdyb3VuZGVkLWVzJzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgVG9wIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXRsJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtdGwnOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBUb3AgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXRyJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtdHInOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBCb3R0b20gUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLWJyJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtYnInOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBCb3R0b20gTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgJ3JvdW5kZWQtYmwnOiBbe1xuICAgICAgICAncm91bmRlZC1ibCc6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci13JzogW3tcbiAgICAgICAgYm9yZGVyOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICAnYm9yZGVyLXcteCc6IFt7XG4gICAgICAgICdib3JkZXIteCc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItdy15JzogW3tcbiAgICAgICAgJ2JvcmRlci15Jzogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItdy1zJzogW3tcbiAgICAgICAgJ2JvcmRlci1zJzogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICAnYm9yZGVyLXctZSc6IFt7XG4gICAgICAgICdib3JkZXItZSc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci13LXQnOiBbe1xuICAgICAgICAnYm9yZGVyLXQnOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci13LXInOiBbe1xuICAgICAgICAnYm9yZGVyLXInOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggQm90dG9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItdy1iJzogW3tcbiAgICAgICAgJ2JvcmRlci1iJzogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci13LWwnOiBbe1xuICAgICAgICAnYm9yZGVyLWwnOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgV2lkdGggWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aCNiZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgICdkaXZpZGUteCc6IFt7XG4gICAgICAgICdkaXZpZGUteCc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERpdmlkZSBXaWR0aCBYIFJldmVyc2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGgjYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICAnZGl2aWRlLXgtcmV2ZXJzZSc6IFsnZGl2aWRlLXgtcmV2ZXJzZSddLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgV2lkdGggWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aCNiZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgICdkaXZpZGUteSc6IFt7XG4gICAgICAgICdkaXZpZGUteSc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERpdmlkZSBXaWR0aCBZIFJldmVyc2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGgjYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICAnZGl2aWRlLXktcmV2ZXJzZSc6IFsnZGl2aWRlLXktcmV2ZXJzZSddLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1zdHlsZSc6IFt7XG4gICAgICAgIGJvcmRlcjogWy4uLnNjYWxlTGluZVN0eWxlKCksICdoaWRkZW4nLCAnbm9uZSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGl2aWRlIFN0eWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXN0eWxlI3NldHRpbmctdGhlLWRpdmlkZXItc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ2RpdmlkZS1zdHlsZSc6IFt7XG4gICAgICAgIGRpdmlkZTogWy4uLnNjYWxlTGluZVN0eWxlKCksICdoaWRkZW4nLCAnbm9uZSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3InOiBbe1xuICAgICAgICBib3JkZXI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3IteCc6IFt7XG4gICAgICAgICdib3JkZXIteCc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3IteSc6IFt7XG4gICAgICAgICdib3JkZXIteSc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBTXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3Itcyc6IFt7XG4gICAgICAgICdib3JkZXItcyc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBFXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3ItZSc6IFt7XG4gICAgICAgICdib3JkZXItZSc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1jb2xvci10JzogW3tcbiAgICAgICAgJ2JvcmRlci10Jzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3Itcic6IFt7XG4gICAgICAgICdib3JkZXItcic6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1jb2xvci1iJzogW3tcbiAgICAgICAgJ2JvcmRlci1iJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1jb2xvci1sJzogW3tcbiAgICAgICAgJ2JvcmRlci1sJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGl2aWRlIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZGl2aWRlLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdkaXZpZGUtY29sb3InOiBbe1xuICAgICAgICBkaXZpZGU6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE91dGxpbmUgU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLXN0eWxlXG4gICAgICAgKi9cbiAgICAgICdvdXRsaW5lLXN0eWxlJzogW3tcbiAgICAgICAgb3V0bGluZTogWy4uLnNjYWxlTGluZVN0eWxlKCksICdub25lJywgJ2hpZGRlbiddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3V0bGluZSBPZmZzZXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLW9mZnNldFxuICAgICAgICovXG4gICAgICAnb3V0bGluZS1vZmZzZXQnOiBbe1xuICAgICAgICAnb3V0bGluZS1vZmZzZXQnOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3V0bGluZSBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL291dGxpbmUtd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ291dGxpbmUtdyc6IFt7XG4gICAgICAgIG91dGxpbmU6IFsnJywgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE91dGxpbmUgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdvdXRsaW5lLWNvbG9yJzogW3tcbiAgICAgICAgb3V0bGluZTogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIEVmZmVjdHMgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQm94IFNoYWRvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3dcbiAgICAgICAqL1xuICAgICAgc2hhZG93OiBbe1xuICAgICAgICBzaGFkb3c6IFtcbiAgICAgICAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgICcnLCAnbm9uZScsIHRoZW1lU2hhZG93LCBpc0FyYml0cmFyeVZhcmlhYmxlU2hhZG93LCBpc0FyYml0cmFyeVNoYWRvd11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3ggU2hhZG93IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNoYWRvdyNzZXR0aW5nLXRoZS1zaGFkb3ctY29sb3JcbiAgICAgICAqL1xuICAgICAgJ3NoYWRvdy1jb2xvcic6IFt7XG4gICAgICAgIHNoYWRvdzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgQm94IFNoYWRvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWFuLWluc2V0LXNoYWRvd1xuICAgICAgICovXG4gICAgICAnaW5zZXQtc2hhZG93JzogW3tcbiAgICAgICAgJ2luc2V0LXNoYWRvdyc6IFsnbm9uZScsIHRoZW1lSW5zZXRTaGFkb3csIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csIGlzQXJiaXRyYXJ5U2hhZG93XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEluc2V0IEJveCBTaGFkb3cgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLWluc2V0LXNoYWRvdy1jb2xvclxuICAgICAgICovXG4gICAgICAnaW5zZXQtc2hhZG93LWNvbG9yJzogW3tcbiAgICAgICAgJ2luc2V0LXNoYWRvdyc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJpbmcgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I2FkZGluZy1hLXJpbmdcbiAgICAgICAqL1xuICAgICAgJ3Jpbmctdyc6IFt7XG4gICAgICAgIHJpbmc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJpbmcgV2lkdGggSW5zZXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLXdpZHRoI2luc2V0LXJpbmdzXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvYmxvYi92NC4wLjAvcGFja2FnZXMvdGFpbHdpbmRjc3Mvc3JjL3V0aWxpdGllcy50cyNMNDE1OFxuICAgICAgICovXG4gICAgICAncmluZy13LWluc2V0JzogWydyaW5nLWluc2V0J10sXG4gICAgICAvKipcbiAgICAgICAqIFJpbmcgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLXJpbmctY29sb3JcbiAgICAgICAqL1xuICAgICAgJ3JpbmctY29sb3InOiBbe1xuICAgICAgICByaW5nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaW5nIE9mZnNldCBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3YzLnRhaWx3aW5kY3NzLmNvbS9kb2NzL3Jpbmctb2Zmc2V0LXdpZHRoXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvYmxvYi92NC4wLjAvcGFja2FnZXMvdGFpbHdpbmRjc3Mvc3JjL3V0aWxpdGllcy50cyNMNDE1OFxuICAgICAgICovXG4gICAgICAncmluZy1vZmZzZXQtdyc6IFt7XG4gICAgICAgICdyaW5nLW9mZnNldCc6IFtpc051bWJlciwgaXNBcmJpdHJhcnlMZW5ndGhdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmluZyBPZmZzZXQgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLW9mZnNldC1jb2xvclxuICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL2Jsb2IvdjQuMC4wL3BhY2thZ2VzL3RhaWx3aW5kY3NzL3NyYy91dGlsaXRpZXMudHMjTDQxNThcbiAgICAgICAqL1xuICAgICAgJ3Jpbmctb2Zmc2V0LWNvbG9yJzogW3tcbiAgICAgICAgJ3Jpbmctb2Zmc2V0Jzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgUmluZyBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWFuLWluc2V0LXJpbmdcbiAgICAgICAqL1xuICAgICAgJ2luc2V0LXJpbmctdyc6IFt7XG4gICAgICAgICdpbnNldC1yaW5nJzogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgUmluZyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjc2V0dGluZy10aGUtaW5zZXQtcmluZy1jb2xvclxuICAgICAgICovXG4gICAgICAnaW5zZXQtcmluZy1jb2xvcic6IFt7XG4gICAgICAgICdpbnNldC1yaW5nJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBTaGFkb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXNoYWRvd1xuICAgICAgICovXG4gICAgICAndGV4dC1zaGFkb3cnOiBbe1xuICAgICAgICAndGV4dC1zaGFkb3cnOiBbJ25vbmUnLCB0aGVtZVRleHRTaGFkb3csIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csIGlzQXJiaXRyYXJ5U2hhZG93XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgU2hhZG93IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1zaGFkb3cjc2V0dGluZy10aGUtc2hhZG93LWNvbG9yXG4gICAgICAgKi9cbiAgICAgICd0ZXh0LXNoYWRvdy1jb2xvcic6IFt7XG4gICAgICAgICd0ZXh0LXNoYWRvdyc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE9wYWNpdHlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vcGFjaXR5XG4gICAgICAgKi9cbiAgICAgIG9wYWNpdHk6IFt7XG4gICAgICAgIG9wYWNpdHk6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNaXggQmxlbmQgTW9kZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21peC1ibGVuZC1tb2RlXG4gICAgICAgKi9cbiAgICAgICdtaXgtYmxlbmQnOiBbe1xuICAgICAgICAnbWl4LWJsZW5kJzogWy4uLnNjYWxlQmxlbmRNb2RlKCksICdwbHVzLWRhcmtlcicsICdwbHVzLWxpZ2h0ZXInXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tncm91bmQgQmxlbmQgTW9kZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtYmxlbmQtbW9kZVxuICAgICAgICovXG4gICAgICAnYmctYmxlbmQnOiBbe1xuICAgICAgICAnYmctYmxlbmQnOiBzY2FsZUJsZW5kTW9kZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBDbGlwXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1jbGlwXG4gICAgICAgKi9cbiAgICAgICdtYXNrLWNsaXAnOiBbe1xuICAgICAgICAnbWFzay1jbGlwJzogWydib3JkZXInLCAncGFkZGluZycsICdjb250ZW50JywgJ2ZpbGwnLCAnc3Ryb2tlJywgJ3ZpZXcnXVxuICAgICAgfSwgJ21hc2stbm8tY2xpcCddLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIENvbXBvc2l0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stY29tcG9zaXRlXG4gICAgICAgKi9cbiAgICAgICdtYXNrLWNvbXBvc2l0ZSc6IFt7XG4gICAgICAgIG1hc2s6IFsnYWRkJywgJ3N1YnRyYWN0JywgJ2ludGVyc2VjdCcsICdleGNsdWRlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIEltYWdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1pbWFnZVxuICAgICAgICovXG4gICAgICAnbWFzay1pbWFnZS1saW5lYXItcG9zJzogW3tcbiAgICAgICAgJ21hc2stbGluZWFyJzogW2lzTnVtYmVyXVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1saW5lYXItZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay1saW5lYXItZnJvbSc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1saW5lYXItdG8tcG9zJzogW3tcbiAgICAgICAgJ21hc2stbGluZWFyLXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWxpbmVhci1mcm9tLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stbGluZWFyLWZyb20nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtbGluZWFyLXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stbGluZWFyLXRvJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXQtZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay10LWZyb20nOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtdC10by1wb3MnOiBbe1xuICAgICAgICAnbWFzay10LXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXQtZnJvbS1jb2xvcic6IFt7XG4gICAgICAgICdtYXNrLXQtZnJvbSc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS10LXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stdC10byc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yLWZyb20tcG9zJzogW3tcbiAgICAgICAgJ21hc2stci1mcm9tJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXItdG8tcG9zJzogW3tcbiAgICAgICAgJ21hc2stci10byc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yLWZyb20tY29sb3InOiBbe1xuICAgICAgICAnbWFzay1yLWZyb20nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2Utci10by1jb2xvcic6IFt7XG4gICAgICAgICdtYXNrLXItdG8nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtYi1mcm9tLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLWItZnJvbSc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1iLXRvLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLWItdG8nOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtYi1mcm9tLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stYi1mcm9tJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWItdG8tY29sb3InOiBbe1xuICAgICAgICAnbWFzay1iLXRvJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWwtZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay1sLWZyb20nOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtbC10by1wb3MnOiBbe1xuICAgICAgICAnbWFzay1sLXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWwtZnJvbS1jb2xvcic6IFt7XG4gICAgICAgICdtYXNrLWwtZnJvbSc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1sLXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stbC10byc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS14LWZyb20tcG9zJzogW3tcbiAgICAgICAgJ21hc2steC1mcm9tJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXgtdG8tcG9zJzogW3tcbiAgICAgICAgJ21hc2steC10byc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS14LWZyb20tY29sb3InOiBbe1xuICAgICAgICAnbWFzay14LWZyb20nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UteC10by1jb2xvcic6IFt7XG4gICAgICAgICdtYXNrLXgtdG8nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UteS1mcm9tLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLXktZnJvbSc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS15LXRvLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLXktdG8nOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UteS1mcm9tLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2steS1mcm9tJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXktdG8tY29sb3InOiBbe1xuICAgICAgICAnbWFzay15LXRvJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXJhZGlhbCc6IFt7XG4gICAgICAgICdtYXNrLXJhZGlhbCc6IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yYWRpYWwtZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay1yYWRpYWwtZnJvbSc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yYWRpYWwtdG8tcG9zJzogW3tcbiAgICAgICAgJ21hc2stcmFkaWFsLXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXJhZGlhbC1mcm9tLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stcmFkaWFsLWZyb20nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtcmFkaWFsLXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stcmFkaWFsLXRvJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXJhZGlhbC1zaGFwZSc6IFt7XG4gICAgICAgICdtYXNrLXJhZGlhbCc6IFsnY2lyY2xlJywgJ2VsbGlwc2UnXVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yYWRpYWwtc2l6ZSc6IFt7XG4gICAgICAgICdtYXNrLXJhZGlhbCc6IFt7XG4gICAgICAgICAgY2xvc2VzdDogWydzaWRlJywgJ2Nvcm5lciddLFxuICAgICAgICAgIGZhcnRoZXN0OiBbJ3NpZGUnLCAnY29ybmVyJ11cbiAgICAgICAgfV1cbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtcmFkaWFsLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLXJhZGlhbC1hdCc6IHNjYWxlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1jb25pYy1wb3MnOiBbe1xuICAgICAgICAnbWFzay1jb25pYyc6IFtpc051bWJlcl1cbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtY29uaWMtZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay1jb25pYy1mcm9tJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWNvbmljLXRvLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLWNvbmljLXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWNvbmljLWZyb20tY29sb3InOiBbe1xuICAgICAgICAnbWFzay1jb25pYy1mcm9tJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWNvbmljLXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stY29uaWMtdG8nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIE1vZGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLW1vZGVcbiAgICAgICAqL1xuICAgICAgJ21hc2stbW9kZSc6IFt7XG4gICAgICAgIG1hc2s6IFsnYWxwaGEnLCAnbHVtaW5hbmNlJywgJ21hdGNoJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stb3JpZ2luXG4gICAgICAgKi9cbiAgICAgICdtYXNrLW9yaWdpbic6IFt7XG4gICAgICAgICdtYXNrLW9yaWdpbic6IFsnYm9yZGVyJywgJ3BhZGRpbmcnLCAnY29udGVudCcsICdmaWxsJywgJ3N0cm9rZScsICd2aWV3J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1wb3NpdGlvblxuICAgICAgICovXG4gICAgICAnbWFzay1wb3NpdGlvbic6IFt7XG4gICAgICAgIG1hc2s6IHNjYWxlQmdQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBSZXBlYXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXJlcGVhdFxuICAgICAgICovXG4gICAgICAnbWFzay1yZXBlYXQnOiBbe1xuICAgICAgICBtYXNrOiBzY2FsZUJnUmVwZWF0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFNpemVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXNpemVcbiAgICAgICAqL1xuICAgICAgJ21hc2stc2l6ZSc6IFt7XG4gICAgICAgIG1hc2s6IHNjYWxlQmdTaXplKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFR5cGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXR5cGVcbiAgICAgICAqL1xuICAgICAgJ21hc2stdHlwZSc6IFt7XG4gICAgICAgICdtYXNrLXR5cGUnOiBbJ2FscGhhJywgJ2x1bWluYW5jZSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBJbWFnZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2staW1hZ2VcbiAgICAgICAqL1xuICAgICAgJ21hc2staW1hZ2UnOiBbe1xuICAgICAgICBtYXNrOiBbJ25vbmUnLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBGaWx0ZXJzIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZpbHRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpbHRlclxuICAgICAgICovXG4gICAgICBmaWx0ZXI6IFt7XG4gICAgICAgIGZpbHRlcjogW1xuICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgJycsICdub25lJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCbHVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmx1clxuICAgICAgICovXG4gICAgICBibHVyOiBbe1xuICAgICAgICBibHVyOiBzY2FsZUJsdXIoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJyaWdodG5lc3NcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9icmlnaHRuZXNzXG4gICAgICAgKi9cbiAgICAgIGJyaWdodG5lc3M6IFt7XG4gICAgICAgIGJyaWdodG5lc3M6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDb250cmFzdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbnRyYXN0XG4gICAgICAgKi9cbiAgICAgIGNvbnRyYXN0OiBbe1xuICAgICAgICBjb250cmFzdDogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERyb3AgU2hhZG93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZHJvcC1zaGFkb3dcbiAgICAgICAqL1xuICAgICAgJ2Ryb3Atc2hhZG93JzogW3tcbiAgICAgICAgJ2Ryb3Atc2hhZG93JzogW1xuICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAgJycsICdub25lJywgdGhlbWVEcm9wU2hhZG93LCBpc0FyYml0cmFyeVZhcmlhYmxlU2hhZG93LCBpc0FyYml0cmFyeVNoYWRvd11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEcm9wIFNoYWRvdyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpbHRlci1kcm9wLXNoYWRvdyNzZXR0aW5nLXRoZS1zaGFkb3ctY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2Ryb3Atc2hhZG93LWNvbG9yJzogW3tcbiAgICAgICAgJ2Ryb3Atc2hhZG93Jzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JheXNjYWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JheXNjYWxlXG4gICAgICAgKi9cbiAgICAgIGdyYXlzY2FsZTogW3tcbiAgICAgICAgZ3JheXNjYWxlOiBbJycsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEh1ZSBSb3RhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9odWUtcm90YXRlXG4gICAgICAgKi9cbiAgICAgICdodWUtcm90YXRlJzogW3tcbiAgICAgICAgJ2h1ZS1yb3RhdGUnOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW52ZXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaW52ZXJ0XG4gICAgICAgKi9cbiAgICAgIGludmVydDogW3tcbiAgICAgICAgaW52ZXJ0OiBbJycsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNhdHVyYXRlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2F0dXJhdGVcbiAgICAgICAqL1xuICAgICAgc2F0dXJhdGU6IFt7XG4gICAgICAgIHNhdHVyYXRlOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2VwaWFcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zZXBpYVxuICAgICAgICovXG4gICAgICBzZXBpYTogW3tcbiAgICAgICAgc2VwaWE6IFsnJywgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgRmlsdGVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtZmlsdGVyXG4gICAgICAgKi9cbiAgICAgICdiYWNrZHJvcC1maWx0ZXInOiBbe1xuICAgICAgICAnYmFja2Ryb3AtZmlsdGVyJzogW1xuICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgJycsICdub25lJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBCbHVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtYmx1clxuICAgICAgICovXG4gICAgICAnYmFja2Ryb3AtYmx1cic6IFt7XG4gICAgICAgICdiYWNrZHJvcC1ibHVyJzogc2NhbGVCbHVyKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBCcmlnaHRuZXNzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtYnJpZ2h0bmVzc1xuICAgICAgICovXG4gICAgICAnYmFja2Ryb3AtYnJpZ2h0bmVzcyc6IFt7XG4gICAgICAgICdiYWNrZHJvcC1icmlnaHRuZXNzJzogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIENvbnRyYXN0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtY29udHJhc3RcbiAgICAgICAqL1xuICAgICAgJ2JhY2tkcm9wLWNvbnRyYXN0JzogW3tcbiAgICAgICAgJ2JhY2tkcm9wLWNvbnRyYXN0JzogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIEdyYXlzY2FsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWdyYXlzY2FsZVxuICAgICAgICovXG4gICAgICAnYmFja2Ryb3AtZ3JheXNjYWxlJzogW3tcbiAgICAgICAgJ2JhY2tkcm9wLWdyYXlzY2FsZSc6IFsnJywgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgSHVlIFJvdGF0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWh1ZS1yb3RhdGVcbiAgICAgICAqL1xuICAgICAgJ2JhY2tkcm9wLWh1ZS1yb3RhdGUnOiBbe1xuICAgICAgICAnYmFja2Ryb3AtaHVlLXJvdGF0ZSc6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBJbnZlcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1pbnZlcnRcbiAgICAgICAqL1xuICAgICAgJ2JhY2tkcm9wLWludmVydCc6IFt7XG4gICAgICAgICdiYWNrZHJvcC1pbnZlcnQnOiBbJycsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIE9wYWNpdHlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1vcGFjaXR5XG4gICAgICAgKi9cbiAgICAgICdiYWNrZHJvcC1vcGFjaXR5JzogW3tcbiAgICAgICAgJ2JhY2tkcm9wLW9wYWNpdHknOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgU2F0dXJhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1zYXR1cmF0ZVxuICAgICAgICovXG4gICAgICAnYmFja2Ryb3Atc2F0dXJhdGUnOiBbe1xuICAgICAgICAnYmFja2Ryb3Atc2F0dXJhdGUnOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgU2VwaWFcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1zZXBpYVxuICAgICAgICovXG4gICAgICAnYmFja2Ryb3Atc2VwaWEnOiBbe1xuICAgICAgICAnYmFja2Ryb3Atc2VwaWEnOiBbJycsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFRhYmxlcyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xsYXBzZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xsYXBzZVxuICAgICAgICovXG4gICAgICAnYm9yZGVyLWNvbGxhcHNlJzogW3tcbiAgICAgICAgYm9yZGVyOiBbJ2NvbGxhcHNlJywgJ3NlcGFyYXRlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3BhY2luZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zcGFjaW5nXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItc3BhY2luZyc6IFt7XG4gICAgICAgICdib3JkZXItc3BhY2luZyc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3BhY2luZyBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXNwYWNpbmdcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1zcGFjaW5nLXgnOiBbe1xuICAgICAgICAnYm9yZGVyLXNwYWNpbmcteCc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3BhY2luZyBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXNwYWNpbmdcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1zcGFjaW5nLXknOiBbe1xuICAgICAgICAnYm9yZGVyLXNwYWNpbmcteSc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUYWJsZSBMYXlvdXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90YWJsZS1sYXlvdXRcbiAgICAgICAqL1xuICAgICAgJ3RhYmxlLWxheW91dCc6IFt7XG4gICAgICAgIHRhYmxlOiBbJ2F1dG8nLCAnZml4ZWQnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENhcHRpb24gU2lkZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NhcHRpb24tc2lkZVxuICAgICAgICovXG4gICAgICBjYXB0aW9uOiBbe1xuICAgICAgICBjYXB0aW9uOiBbJ3RvcCcsICdib3R0b20nXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBUcmFuc2l0aW9ucyBhbmQgQW5pbWF0aW9uIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gUHJvcGVydHlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLXByb3BlcnR5XG4gICAgICAgKi9cbiAgICAgIHRyYW5zaXRpb246IFt7XG4gICAgICAgIHRyYW5zaXRpb246IFsnJywgJ2FsbCcsICdjb2xvcnMnLCAnb3BhY2l0eScsICdzaGFkb3cnLCAndHJhbnNmb3JtJywgJ25vbmUnLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gQmVoYXZpb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgICd0cmFuc2l0aW9uLWJlaGF2aW9yJzogW3tcbiAgICAgICAgdHJhbnNpdGlvbjogWydub3JtYWwnLCAnZGlzY3JldGUnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gRHVyYXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWR1cmF0aW9uXG4gICAgICAgKi9cbiAgICAgIGR1cmF0aW9uOiBbe1xuICAgICAgICBkdXJhdGlvbjogW2lzTnVtYmVyLCAnaW5pdGlhbCcsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNpdGlvbiBUaW1pbmcgRnVuY3Rpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuICAgICAgICovXG4gICAgICBlYXNlOiBbe1xuICAgICAgICBlYXNlOiBbJ2xpbmVhcicsICdpbml0aWFsJywgdGhlbWVFYXNlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gRGVsYXlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWRlbGF5XG4gICAgICAgKi9cbiAgICAgIGRlbGF5OiBbe1xuICAgICAgICBkZWxheTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FuaW1hdGlvblxuICAgICAgICovXG4gICAgICBhbmltYXRlOiBbe1xuICAgICAgICBhbmltYXRlOiBbJ25vbmUnLCB0aGVtZUFuaW1hdGUsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFRyYW5zZm9ybXMgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQmFja2ZhY2UgVmlzaWJpbGl0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tmYWNlLXZpc2liaWxpdHlcbiAgICAgICAqL1xuICAgICAgYmFja2ZhY2U6IFt7XG4gICAgICAgIGJhY2tmYWNlOiBbJ2hpZGRlbicsICd2aXNpYmxlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQZXJzcGVjdGl2ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BlcnNwZWN0aXZlXG4gICAgICAgKi9cbiAgICAgIHBlcnNwZWN0aXZlOiBbe1xuICAgICAgICBwZXJzcGVjdGl2ZTogW3RoZW1lUGVyc3BlY3RpdmUsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGVyc3BlY3RpdmUgT3JpZ2luXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGVyc3BlY3RpdmUtb3JpZ2luXG4gICAgICAgKi9cbiAgICAgICdwZXJzcGVjdGl2ZS1vcmlnaW4nOiBbe1xuICAgICAgICAncGVyc3BlY3RpdmUtb3JpZ2luJzogc2NhbGVQb3NpdGlvbldpdGhBcmJpdHJhcnkoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJvdGF0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3JvdGF0ZVxuICAgICAgICovXG4gICAgICByb3RhdGU6IFt7XG4gICAgICAgIHJvdGF0ZTogc2NhbGVSb3RhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJvdGF0ZSBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvcm90YXRlXG4gICAgICAgKi9cbiAgICAgICdyb3RhdGUteCc6IFt7XG4gICAgICAgICdyb3RhdGUteCc6IHNjYWxlUm90YXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSb3RhdGUgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3JvdGF0ZVxuICAgICAgICovXG4gICAgICAncm90YXRlLXknOiBbe1xuICAgICAgICAncm90YXRlLXknOiBzY2FsZVJvdGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUm90YXRlIFpcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yb3RhdGVcbiAgICAgICAqL1xuICAgICAgJ3JvdGF0ZS16JzogW3tcbiAgICAgICAgJ3JvdGF0ZS16Jzogc2NhbGVSb3RhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjYWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2NhbGVcbiAgICAgICAqL1xuICAgICAgc2NhbGU6IFt7XG4gICAgICAgIHNjYWxlOiBzY2FsZVNjYWxlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY2FsZSBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2NhbGVcbiAgICAgICAqL1xuICAgICAgJ3NjYWxlLXgnOiBbe1xuICAgICAgICAnc2NhbGUteCc6IHNjYWxlU2NhbGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjYWxlIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY2FsZVxuICAgICAgICovXG4gICAgICAnc2NhbGUteSc6IFt7XG4gICAgICAgICdzY2FsZS15Jzogc2NhbGVTY2FsZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2NhbGUgWlxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgKi9cbiAgICAgICdzY2FsZS16JzogW3tcbiAgICAgICAgJ3NjYWxlLXonOiBzY2FsZVNjYWxlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY2FsZSAzRFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgKi9cbiAgICAgICdzY2FsZS0zZCc6IFsnc2NhbGUtM2QnXSxcbiAgICAgIC8qKlxuICAgICAgICogU2tld1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NrZXdcbiAgICAgICAqL1xuICAgICAgc2tldzogW3tcbiAgICAgICAgc2tldzogc2NhbGVTa2V3KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTa2V3IFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9za2V3XG4gICAgICAgKi9cbiAgICAgICdza2V3LXgnOiBbe1xuICAgICAgICAnc2tldy14Jzogc2NhbGVTa2V3KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTa2V3IFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9za2V3XG4gICAgICAgKi9cbiAgICAgICdza2V3LXknOiBbe1xuICAgICAgICAnc2tldy15Jzogc2NhbGVTa2V3KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2Zvcm1cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2Zvcm1cbiAgICAgICAqL1xuICAgICAgdHJhbnNmb3JtOiBbe1xuICAgICAgICB0cmFuc2Zvcm06IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlLCAnJywgJ25vbmUnLCAnZ3B1JywgJ2NwdSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNmb3JtIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zZm9ybS1vcmlnaW5cbiAgICAgICAqL1xuICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBbe1xuICAgICAgICBvcmlnaW46IHNjYWxlUG9zaXRpb25XaXRoQXJiaXRyYXJ5KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2Zvcm0gU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2Zvcm0tc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ3RyYW5zZm9ybS1zdHlsZSc6IFt7XG4gICAgICAgIHRyYW5zZm9ybTogWyczZCcsICdmbGF0J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAqL1xuICAgICAgdHJhbnNsYXRlOiBbe1xuICAgICAgICB0cmFuc2xhdGU6IHNjYWxlVHJhbnNsYXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGUgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICovXG4gICAgICAndHJhbnNsYXRlLXgnOiBbe1xuICAgICAgICAndHJhbnNsYXRlLXgnOiBzY2FsZVRyYW5zbGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNsYXRlIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAqL1xuICAgICAgJ3RyYW5zbGF0ZS15JzogW3tcbiAgICAgICAgJ3RyYW5zbGF0ZS15Jzogc2NhbGVUcmFuc2xhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZSBaXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNsYXRlXG4gICAgICAgKi9cbiAgICAgICd0cmFuc2xhdGUteic6IFt7XG4gICAgICAgICd0cmFuc2xhdGUteic6IHNjYWxlVHJhbnNsYXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGUgTm9uZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICovXG4gICAgICAndHJhbnNsYXRlLW5vbmUnOiBbJ3RyYW5zbGF0ZS1ub25lJ10sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBJbnRlcmFjdGl2aXR5IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEFjY2VudCBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FjY2VudC1jb2xvclxuICAgICAgICovXG4gICAgICBhY2NlbnQ6IFt7XG4gICAgICAgIGFjY2VudDogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQXBwZWFyYW5jZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FwcGVhcmFuY2VcbiAgICAgICAqL1xuICAgICAgYXBwZWFyYW5jZTogW3tcbiAgICAgICAgYXBwZWFyYW5jZTogWydub25lJywgJ2F1dG8nXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENhcmV0IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvanVzdC1pbi10aW1lLW1vZGUjY2FyZXQtY29sb3ItdXRpbGl0aWVzXG4gICAgICAgKi9cbiAgICAgICdjYXJldC1jb2xvcic6IFt7XG4gICAgICAgIGNhcmV0OiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDb2xvciBTY2hlbWVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb2xvci1zY2hlbWVcbiAgICAgICAqL1xuICAgICAgJ2NvbG9yLXNjaGVtZSc6IFt7XG4gICAgICAgIHNjaGVtZTogWydub3JtYWwnLCAnZGFyaycsICdsaWdodCcsICdsaWdodC1kYXJrJywgJ29ubHktZGFyaycsICdvbmx5LWxpZ2h0J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDdXJzb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jdXJzb3JcbiAgICAgICAqL1xuICAgICAgY3Vyc29yOiBbe1xuICAgICAgICBjdXJzb3I6IFsnYXV0bycsICdkZWZhdWx0JywgJ3BvaW50ZXInLCAnd2FpdCcsICd0ZXh0JywgJ21vdmUnLCAnaGVscCcsICdub3QtYWxsb3dlZCcsICdub25lJywgJ2NvbnRleHQtbWVudScsICdwcm9ncmVzcycsICdjZWxsJywgJ2Nyb3NzaGFpcicsICd2ZXJ0aWNhbC10ZXh0JywgJ2FsaWFzJywgJ2NvcHknLCAnbm8tZHJvcCcsICdncmFiJywgJ2dyYWJiaW5nJywgJ2FsbC1zY3JvbGwnLCAnY29sLXJlc2l6ZScsICdyb3ctcmVzaXplJywgJ24tcmVzaXplJywgJ2UtcmVzaXplJywgJ3MtcmVzaXplJywgJ3ctcmVzaXplJywgJ25lLXJlc2l6ZScsICdudy1yZXNpemUnLCAnc2UtcmVzaXplJywgJ3N3LXJlc2l6ZScsICdldy1yZXNpemUnLCAnbnMtcmVzaXplJywgJ25lc3ctcmVzaXplJywgJ253c2UtcmVzaXplJywgJ3pvb20taW4nLCAnem9vbS1vdXQnLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZpZWxkIFNpemluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpZWxkLXNpemluZ1xuICAgICAgICovXG4gICAgICAnZmllbGQtc2l6aW5nJzogW3tcbiAgICAgICAgJ2ZpZWxkLXNpemluZyc6IFsnZml4ZWQnLCAnY29udGVudCddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUG9pbnRlciBFdmVudHNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wb2ludGVyLWV2ZW50c1xuICAgICAgICovXG4gICAgICAncG9pbnRlci1ldmVudHMnOiBbe1xuICAgICAgICAncG9pbnRlci1ldmVudHMnOiBbJ2F1dG8nLCAnbm9uZSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmVzaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcmVzaXplXG4gICAgICAgKi9cbiAgICAgIHJlc2l6ZTogW3tcbiAgICAgICAgcmVzaXplOiBbJ25vbmUnLCAnJywgJ3knLCAneCddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIEJlaGF2aW9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtYmVoYXZpb3InOiBbe1xuICAgICAgICBzY3JvbGw6IFsnYXV0bycsICdzbW9vdGgnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW5cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtbSc6IFt7XG4gICAgICAgICdzY3JvbGwtbSc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtbXgnOiBbe1xuICAgICAgICAnc2Nyb2xsLW14Jzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW4gWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1teSc6IFt7XG4gICAgICAgICdzY3JvbGwtbXknOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1tcyc6IFt7XG4gICAgICAgICdzY3JvbGwtbXMnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtbWUnOiBbe1xuICAgICAgICAnc2Nyb2xsLW1lJzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW4gVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICAnc2Nyb2xsLW10JzogW3tcbiAgICAgICAgJ3Njcm9sbC1tdCc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICAnc2Nyb2xsLW1yJzogW3tcbiAgICAgICAgJ3Njcm9sbC1tcic6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1tYic6IFt7XG4gICAgICAgICdzY3JvbGwtbWInOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICAnc2Nyb2xsLW1sJzogW3tcbiAgICAgICAgJ3Njcm9sbC1tbCc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtcCc6IFt7XG4gICAgICAgICdzY3JvbGwtcCc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1weCc6IFt7XG4gICAgICAgICdzY3JvbGwtcHgnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtcHknOiBbe1xuICAgICAgICAnc2Nyb2xsLXB5Jzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBQYWRkaW5nIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1wcyc6IFt7XG4gICAgICAgICdzY3JvbGwtcHMnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1wZSc6IFt7XG4gICAgICAgICdzY3JvbGwtcGUnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1wdCc6IFt7XG4gICAgICAgICdzY3JvbGwtcHQnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICAnc2Nyb2xsLXByJzogW3tcbiAgICAgICAgJ3Njcm9sbC1wcic6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICAnc2Nyb2xsLXBiJzogW3tcbiAgICAgICAgJ3Njcm9sbC1wYic6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1wbCc6IFt7XG4gICAgICAgICdzY3JvbGwtcGwnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFNuYXAgQWxpZ25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtc25hcC1hbGlnblxuICAgICAgICovXG4gICAgICAnc25hcC1hbGlnbic6IFt7XG4gICAgICAgIHNuYXA6IFsnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdhbGlnbi1ub25lJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBTdG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtc3RvcFxuICAgICAgICovXG4gICAgICAnc25hcC1zdG9wJzogW3tcbiAgICAgICAgc25hcDogWydub3JtYWwnLCAnYWx3YXlzJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBUeXBlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtdHlwZVxuICAgICAgICovXG4gICAgICAnc25hcC10eXBlJzogW3tcbiAgICAgICAgc25hcDogWydub25lJywgJ3gnLCAneScsICdib3RoJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBUeXBlIFN0cmljdG5lc3NcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtc25hcC10eXBlXG4gICAgICAgKi9cbiAgICAgICdzbmFwLXN0cmljdG5lc3MnOiBbe1xuICAgICAgICBzbmFwOiBbJ21hbmRhdG9yeScsICdwcm94aW1pdHknXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvdWNoIEFjdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvdWNoLWFjdGlvblxuICAgICAgICovXG4gICAgICB0b3VjaDogW3tcbiAgICAgICAgdG91Y2g6IFsnYXV0bycsICdub25lJywgJ21hbmlwdWxhdGlvbiddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVG91Y2ggQWN0aW9uIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAqL1xuICAgICAgJ3RvdWNoLXgnOiBbe1xuICAgICAgICAndG91Y2gtcGFuJzogWyd4JywgJ2xlZnQnLCAncmlnaHQnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvdWNoIEFjdGlvbiBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG91Y2gtYWN0aW9uXG4gICAgICAgKi9cbiAgICAgICd0b3VjaC15JzogW3tcbiAgICAgICAgJ3RvdWNoLXBhbic6IFsneScsICd1cCcsICdkb3duJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3VjaCBBY3Rpb24gUGluY2ggWm9vbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvdWNoLWFjdGlvblxuICAgICAgICovXG4gICAgICAndG91Y2gtcHonOiBbJ3RvdWNoLXBpbmNoLXpvb20nXSxcbiAgICAgIC8qKlxuICAgICAgICogVXNlciBTZWxlY3RcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy91c2VyLXNlbGVjdFxuICAgICAgICovXG4gICAgICBzZWxlY3Q6IFt7XG4gICAgICAgIHNlbGVjdDogWydub25lJywgJ3RleHQnLCAnYWxsJywgJ2F1dG8nXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdpbGwgQ2hhbmdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2lsbC1jaGFuZ2VcbiAgICAgICAqL1xuICAgICAgJ3dpbGwtY2hhbmdlJzogW3tcbiAgICAgICAgJ3dpbGwtY2hhbmdlJzogWydhdXRvJywgJ3Njcm9sbCcsICdjb250ZW50cycsICd0cmFuc2Zvcm0nLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFNWRyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZpbGxcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9maWxsXG4gICAgICAgKi9cbiAgICAgIGZpbGw6IFt7XG4gICAgICAgIGZpbGw6IFsnbm9uZScsIC4uLnNjYWxlQ29sb3IoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTdHJva2UgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zdHJva2Utd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ3N0cm9rZS13JzogW3tcbiAgICAgICAgc3Ryb2tlOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoLCBpc0FyYml0cmFyeU51bWJlcl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTdHJva2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zdHJva2VcbiAgICAgICAqL1xuICAgICAgc3Ryb2tlOiBbe1xuICAgICAgICBzdHJva2U6IFsnbm9uZScsIC4uLnNjYWxlQ29sb3IoKV1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gQWNjZXNzaWJpbGl0eSAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBGb3JjZWQgQ29sb3IgQWRqdXN0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9yY2VkLWNvbG9yLWFkanVzdFxuICAgICAgICovXG4gICAgICAnZm9yY2VkLWNvbG9yLWFkanVzdCc6IFt7XG4gICAgICAgICdmb3JjZWQtY29sb3ItYWRqdXN0JzogWydhdXRvJywgJ25vbmUnXVxuICAgICAgfV1cbiAgICB9LFxuICAgIGNvbmZsaWN0aW5nQ2xhc3NHcm91cHM6IHtcbiAgICAgIG92ZXJmbG93OiBbJ292ZXJmbG93LXgnLCAnb3ZlcmZsb3cteSddLFxuICAgICAgb3ZlcnNjcm9sbDogWydvdmVyc2Nyb2xsLXgnLCAnb3ZlcnNjcm9sbC15J10sXG4gICAgICBpbnNldDogWydpbnNldC14JywgJ2luc2V0LXknLCAnc3RhcnQnLCAnZW5kJywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddLFxuICAgICAgJ2luc2V0LXgnOiBbJ3JpZ2h0JywgJ2xlZnQnXSxcbiAgICAgICdpbnNldC15JzogWyd0b3AnLCAnYm90dG9tJ10sXG4gICAgICBmbGV4OiBbJ2Jhc2lzJywgJ2dyb3cnLCAnc2hyaW5rJ10sXG4gICAgICBnYXA6IFsnZ2FwLXgnLCAnZ2FwLXknXSxcbiAgICAgIHA6IFsncHgnLCAncHknLCAncHMnLCAncGUnLCAncHQnLCAncHInLCAncGInLCAncGwnXSxcbiAgICAgIHB4OiBbJ3ByJywgJ3BsJ10sXG4gICAgICBweTogWydwdCcsICdwYiddLFxuICAgICAgbTogWydteCcsICdteScsICdtcycsICdtZScsICdtdCcsICdtcicsICdtYicsICdtbCddLFxuICAgICAgbXg6IFsnbXInLCAnbWwnXSxcbiAgICAgIG15OiBbJ210JywgJ21iJ10sXG4gICAgICBzaXplOiBbJ3cnLCAnaCddLFxuICAgICAgJ2ZvbnQtc2l6ZSc6IFsnbGVhZGluZyddLFxuICAgICAgJ2Z2bi1ub3JtYWwnOiBbJ2Z2bi1vcmRpbmFsJywgJ2Z2bi1zbGFzaGVkLXplcm8nLCAnZnZuLWZpZ3VyZScsICdmdm4tc3BhY2luZycsICdmdm4tZnJhY3Rpb24nXSxcbiAgICAgICdmdm4tb3JkaW5hbCc6IFsnZnZuLW5vcm1hbCddLFxuICAgICAgJ2Z2bi1zbGFzaGVkLXplcm8nOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICdmdm4tZmlndXJlJzogWydmdm4tbm9ybWFsJ10sXG4gICAgICAnZnZuLXNwYWNpbmcnOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICdmdm4tZnJhY3Rpb24nOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICdsaW5lLWNsYW1wJzogWydkaXNwbGF5JywgJ292ZXJmbG93J10sXG4gICAgICByb3VuZGVkOiBbJ3JvdW5kZWQtcycsICdyb3VuZGVkLWUnLCAncm91bmRlZC10JywgJ3JvdW5kZWQtcicsICdyb3VuZGVkLWInLCAncm91bmRlZC1sJywgJ3JvdW5kZWQtc3MnLCAncm91bmRlZC1zZScsICdyb3VuZGVkLWVlJywgJ3JvdW5kZWQtZXMnLCAncm91bmRlZC10bCcsICdyb3VuZGVkLXRyJywgJ3JvdW5kZWQtYnInLCAncm91bmRlZC1ibCddLFxuICAgICAgJ3JvdW5kZWQtcyc6IFsncm91bmRlZC1zcycsICdyb3VuZGVkLWVzJ10sXG4gICAgICAncm91bmRlZC1lJzogWydyb3VuZGVkLXNlJywgJ3JvdW5kZWQtZWUnXSxcbiAgICAgICdyb3VuZGVkLXQnOiBbJ3JvdW5kZWQtdGwnLCAncm91bmRlZC10ciddLFxuICAgICAgJ3JvdW5kZWQtcic6IFsncm91bmRlZC10cicsICdyb3VuZGVkLWJyJ10sXG4gICAgICAncm91bmRlZC1iJzogWydyb3VuZGVkLWJyJywgJ3JvdW5kZWQtYmwnXSxcbiAgICAgICdyb3VuZGVkLWwnOiBbJ3JvdW5kZWQtdGwnLCAncm91bmRlZC1ibCddLFxuICAgICAgJ2JvcmRlci1zcGFjaW5nJzogWydib3JkZXItc3BhY2luZy14JywgJ2JvcmRlci1zcGFjaW5nLXknXSxcbiAgICAgICdib3JkZXItdyc6IFsnYm9yZGVyLXcteCcsICdib3JkZXItdy15JywgJ2JvcmRlci13LXMnLCAnYm9yZGVyLXctZScsICdib3JkZXItdy10JywgJ2JvcmRlci13LXInLCAnYm9yZGVyLXctYicsICdib3JkZXItdy1sJ10sXG4gICAgICAnYm9yZGVyLXcteCc6IFsnYm9yZGVyLXctcicsICdib3JkZXItdy1sJ10sXG4gICAgICAnYm9yZGVyLXcteSc6IFsnYm9yZGVyLXctdCcsICdib3JkZXItdy1iJ10sXG4gICAgICAnYm9yZGVyLWNvbG9yJzogWydib3JkZXItY29sb3IteCcsICdib3JkZXItY29sb3IteScsICdib3JkZXItY29sb3ItcycsICdib3JkZXItY29sb3ItZScsICdib3JkZXItY29sb3ItdCcsICdib3JkZXItY29sb3ItcicsICdib3JkZXItY29sb3ItYicsICdib3JkZXItY29sb3ItbCddLFxuICAgICAgJ2JvcmRlci1jb2xvci14JzogWydib3JkZXItY29sb3ItcicsICdib3JkZXItY29sb3ItbCddLFxuICAgICAgJ2JvcmRlci1jb2xvci15JzogWydib3JkZXItY29sb3ItdCcsICdib3JkZXItY29sb3ItYiddLFxuICAgICAgdHJhbnNsYXRlOiBbJ3RyYW5zbGF0ZS14JywgJ3RyYW5zbGF0ZS15JywgJ3RyYW5zbGF0ZS1ub25lJ10sXG4gICAgICAndHJhbnNsYXRlLW5vbmUnOiBbJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGUteCcsICd0cmFuc2xhdGUteScsICd0cmFuc2xhdGUteiddLFxuICAgICAgJ3Njcm9sbC1tJzogWydzY3JvbGwtbXgnLCAnc2Nyb2xsLW15JywgJ3Njcm9sbC1tcycsICdzY3JvbGwtbWUnLCAnc2Nyb2xsLW10JywgJ3Njcm9sbC1tcicsICdzY3JvbGwtbWInLCAnc2Nyb2xsLW1sJ10sXG4gICAgICAnc2Nyb2xsLW14JzogWydzY3JvbGwtbXInLCAnc2Nyb2xsLW1sJ10sXG4gICAgICAnc2Nyb2xsLW15JzogWydzY3JvbGwtbXQnLCAnc2Nyb2xsLW1iJ10sXG4gICAgICAnc2Nyb2xsLXAnOiBbJ3Njcm9sbC1weCcsICdzY3JvbGwtcHknLCAnc2Nyb2xsLXBzJywgJ3Njcm9sbC1wZScsICdzY3JvbGwtcHQnLCAnc2Nyb2xsLXByJywgJ3Njcm9sbC1wYicsICdzY3JvbGwtcGwnXSxcbiAgICAgICdzY3JvbGwtcHgnOiBbJ3Njcm9sbC1wcicsICdzY3JvbGwtcGwnXSxcbiAgICAgICdzY3JvbGwtcHknOiBbJ3Njcm9sbC1wdCcsICdzY3JvbGwtcGInXSxcbiAgICAgIHRvdWNoOiBbJ3RvdWNoLXgnLCAndG91Y2gteScsICd0b3VjaC1weiddLFxuICAgICAgJ3RvdWNoLXgnOiBbJ3RvdWNoJ10sXG4gICAgICAndG91Y2gteSc6IFsndG91Y2gnXSxcbiAgICAgICd0b3VjaC1weic6IFsndG91Y2gnXVxuICAgIH0sXG4gICAgY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzOiB7XG4gICAgICAnZm9udC1zaXplJzogWydsZWFkaW5nJ11cbiAgICB9LFxuICAgIG9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzOiBbJyonLCAnKionLCAnYWZ0ZXInLCAnYmFja2Ryb3AnLCAnYmVmb3JlJywgJ2RldGFpbHMtY29udGVudCcsICdmaWxlJywgJ2ZpcnN0LWxldHRlcicsICdmaXJzdC1saW5lJywgJ21hcmtlcicsICdwbGFjZWhvbGRlcicsICdzZWxlY3Rpb24nXVxuICB9O1xufTtcblxuLyoqXG4gKiBAcGFyYW0gYmFzZUNvbmZpZyBDb25maWcgd2hlcmUgb3RoZXIgY29uZmlnIHdpbGwgYmUgbWVyZ2VkIGludG8uIFRoaXMgb2JqZWN0IHdpbGwgYmUgbXV0YXRlZC5cbiAqIEBwYXJhbSBjb25maWdFeHRlbnNpb24gUGFydGlhbCBjb25maWcgdG8gbWVyZ2UgaW50byB0aGUgYGJhc2VDb25maWdgLlxuICovXG5jb25zdCBtZXJnZUNvbmZpZ3MgPSAoYmFzZUNvbmZpZywge1xuICBjYWNoZVNpemUsXG4gIHByZWZpeCxcbiAgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUsXG4gIGV4dGVuZCA9IHt9LFxuICBvdmVycmlkZSA9IHt9XG59KSA9PiB7XG4gIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgJ2NhY2hlU2l6ZScsIGNhY2hlU2l6ZSk7XG4gIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgJ3ByZWZpeCcsIHByZWZpeCk7XG4gIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgJ2V4cGVyaW1lbnRhbFBhcnNlQ2xhc3NOYW1lJywgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy50aGVtZSwgb3ZlcnJpZGUudGhlbWUpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jbGFzc0dyb3Vwcywgb3ZlcnJpZGUuY2xhc3NHcm91cHMpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jb25mbGljdGluZ0NsYXNzR3JvdXBzLCBvdmVycmlkZS5jb25mbGljdGluZ0NsYXNzR3JvdXBzKTtcbiAgb3ZlcnJpZGVDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcuY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzLCBvdmVycmlkZS5jb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnMpO1xuICBvdmVycmlkZVByb3BlcnR5KGJhc2VDb25maWcsICdvcmRlclNlbnNpdGl2ZU1vZGlmaWVycycsIG92ZXJyaWRlLm9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzKTtcbiAgbWVyZ2VDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcudGhlbWUsIGV4dGVuZC50aGVtZSk7XG4gIG1lcmdlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNsYXNzR3JvdXBzLCBleHRlbmQuY2xhc3NHcm91cHMpO1xuICBtZXJnZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jb25mbGljdGluZ0NsYXNzR3JvdXBzLCBleHRlbmQuY29uZmxpY3RpbmdDbGFzc0dyb3Vwcyk7XG4gIG1lcmdlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVycywgZXh0ZW5kLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVycyk7XG4gIG1lcmdlQXJyYXlQcm9wZXJ0aWVzKGJhc2VDb25maWcsIGV4dGVuZCwgJ29yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzJyk7XG4gIHJldHVybiBiYXNlQ29uZmlnO1xufTtcbmNvbnN0IG92ZXJyaWRlUHJvcGVydHkgPSAoYmFzZU9iamVjdCwgb3ZlcnJpZGVLZXksIG92ZXJyaWRlVmFsdWUpID0+IHtcbiAgaWYgKG92ZXJyaWRlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGJhc2VPYmplY3Rbb3ZlcnJpZGVLZXldID0gb3ZlcnJpZGVWYWx1ZTtcbiAgfVxufTtcbmNvbnN0IG92ZXJyaWRlQ29uZmlnUHJvcGVydGllcyA9IChiYXNlT2JqZWN0LCBvdmVycmlkZU9iamVjdCkgPT4ge1xuICBpZiAob3ZlcnJpZGVPYmplY3QpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvdmVycmlkZU9iamVjdCkge1xuICAgICAgb3ZlcnJpZGVQcm9wZXJ0eShiYXNlT2JqZWN0LCBrZXksIG92ZXJyaWRlT2JqZWN0W2tleV0pO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG1lcmdlQ29uZmlnUHJvcGVydGllcyA9IChiYXNlT2JqZWN0LCBtZXJnZU9iamVjdCkgPT4ge1xuICBpZiAobWVyZ2VPYmplY3QpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXJnZU9iamVjdCkge1xuICAgICAgbWVyZ2VBcnJheVByb3BlcnRpZXMoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QsIGtleSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgbWVyZ2VBcnJheVByb3BlcnRpZXMgPSAoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QsIGtleSkgPT4ge1xuICBjb25zdCBtZXJnZVZhbHVlID0gbWVyZ2VPYmplY3Rba2V5XTtcbiAgaWYgKG1lcmdlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGJhc2VPYmplY3Rba2V5XSA9IGJhc2VPYmplY3Rba2V5XSA/IGJhc2VPYmplY3Rba2V5XS5jb25jYXQobWVyZ2VWYWx1ZSkgOiBtZXJnZVZhbHVlO1xuICB9XG59O1xuY29uc3QgZXh0ZW5kVGFpbHdpbmRNZXJnZSA9IChjb25maWdFeHRlbnNpb24sIC4uLmNyZWF0ZUNvbmZpZykgPT4gdHlwZW9mIGNvbmZpZ0V4dGVuc2lvbiA9PT0gJ2Z1bmN0aW9uJyA/IGNyZWF0ZVRhaWx3aW5kTWVyZ2UoZ2V0RGVmYXVsdENvbmZpZywgY29uZmlnRXh0ZW5zaW9uLCAuLi5jcmVhdGVDb25maWcpIDogY3JlYXRlVGFpbHdpbmRNZXJnZSgoKSA9PiBtZXJnZUNvbmZpZ3MoZ2V0RGVmYXVsdENvbmZpZygpLCBjb25maWdFeHRlbnNpb24pLCAuLi5jcmVhdGVDb25maWcpO1xuY29uc3QgdHdNZXJnZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVUYWlsd2luZE1lcmdlKGdldERlZmF1bHRDb25maWcpO1xuZXhwb3J0IHsgY3JlYXRlVGFpbHdpbmRNZXJnZSwgZXh0ZW5kVGFpbHdpbmRNZXJnZSwgZnJvbVRoZW1lLCBnZXREZWZhdWx0Q29uZmlnLCBtZXJnZUNvbmZpZ3MsIHR3Sm9pbiwgdHdNZXJnZSwgdmFsaWRhdG9ycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVuZGxlLW1qcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs":
/*!*************************************************!*\
  !*** ./node_modules/zustand/esm/middleware.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   combine: () => (/* binding */ combine),\n/* harmony export */   createJSONStorage: () => (/* binding */ createJSONStorage),\n/* harmony export */   devtools: () => (/* binding */ devtools),\n/* harmony export */   persist: () => (/* binding */ persist),\n/* harmony export */   redux: () => (/* binding */ redux),\n/* harmony export */   subscribeWithSelector: () => (/* binding */ subscribeWithSelector),\n/* harmony export */   unstable_ssrSafe: () => (/* binding */ ssrSafe)\n/* harmony export */ });\nconst reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : ( false ? 0 : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if (( false ? 0 : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nfunction ssrSafe(config, isSSR = typeof window === \"undefined\") {\n  return (set, get, api) => {\n    if (!isSSR) {\n      return config(set, get, api);\n    }\n    const ssrSet = () => {\n      throw new Error(\"Cannot set state of Zustand store in SSR\");\n    };\n    api.setState = ssrSet;\n    return config(ssrSet, get, api);\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9taWRkbGV3YXJlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDLFVBQVUsa0RBQWtEO0FBQzVEO0FBQ0E7QUFDQSx1REFBdUQsTUFBZSxHQUFHLENBQW9CO0FBQzdGLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsdUNBQXVDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUNBQXVDLHFCQUFxQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixNQUFNLEdBQUcsWUFBWTtBQUN0QyxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBZSxHQUFHLENBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLGlDQUFpQyxpQkFBaUI7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0M7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxhQUFhO0FBQzlFO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxVQUFVO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVvSCIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9taWRkbGV3YXJlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZWR1eEltcGwgPSAocmVkdWNlciwgaW5pdGlhbCkgPT4gKHNldCwgX2dldCwgYXBpKSA9PiB7XG4gIGFwaS5kaXNwYXRjaCA9IChhY3Rpb24pID0+IHtcbiAgICBzZXQoKHN0YXRlKSA9PiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pLCBmYWxzZSwgYWN0aW9uKTtcbiAgICByZXR1cm4gYWN0aW9uO1xuICB9O1xuICBhcGkuZGlzcGF0Y2hGcm9tRGV2dG9vbHMgPSB0cnVlO1xuICByZXR1cm4geyBkaXNwYXRjaDogKC4uLmFyZ3MpID0+IGFwaS5kaXNwYXRjaCguLi5hcmdzKSwgLi4uaW5pdGlhbCB9O1xufTtcbmNvbnN0IHJlZHV4ID0gcmVkdXhJbXBsO1xuXG5jb25zdCB0cmFja2VkQ29ubmVjdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuY29uc3QgZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZSA9IChuYW1lKSA9PiB7XG4gIGNvbnN0IGFwaSA9IHRyYWNrZWRDb25uZWN0aW9ucy5nZXQobmFtZSk7XG4gIGlmICghYXBpKSByZXR1cm4ge307XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXMoYXBpLnN0b3JlcykubWFwKChba2V5LCBhcGkyXSkgPT4gW2tleSwgYXBpMi5nZXRTdGF0ZSgpXSlcbiAgKTtcbn07XG5jb25zdCBleHRyYWN0Q29ubmVjdGlvbkluZm9ybWF0aW9uID0gKHN0b3JlLCBleHRlbnNpb25Db25uZWN0b3IsIG9wdGlvbnMpID0+IHtcbiAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ1bnRyYWNrZWRcIixcbiAgICAgIGNvbm5lY3Rpb246IGV4dGVuc2lvbkNvbm5lY3Rvci5jb25uZWN0KG9wdGlvbnMpXG4gICAgfTtcbiAgfVxuICBjb25zdCBleGlzdGluZ0Nvbm5lY3Rpb24gPSB0cmFja2VkQ29ubmVjdGlvbnMuZ2V0KG9wdGlvbnMubmFtZSk7XG4gIGlmIChleGlzdGluZ0Nvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4geyB0eXBlOiBcInRyYWNrZWRcIiwgc3RvcmUsIC4uLmV4aXN0aW5nQ29ubmVjdGlvbiB9O1xuICB9XG4gIGNvbnN0IG5ld0Nvbm5lY3Rpb24gPSB7XG4gICAgY29ubmVjdGlvbjogZXh0ZW5zaW9uQ29ubmVjdG9yLmNvbm5lY3Qob3B0aW9ucyksXG4gICAgc3RvcmVzOiB7fVxuICB9O1xuICB0cmFja2VkQ29ubmVjdGlvbnMuc2V0KG9wdGlvbnMubmFtZSwgbmV3Q29ubmVjdGlvbik7XG4gIHJldHVybiB7IHR5cGU6IFwidHJhY2tlZFwiLCBzdG9yZSwgLi4ubmV3Q29ubmVjdGlvbiB9O1xufTtcbmNvbnN0IHJlbW92ZVN0b3JlRnJvbVRyYWNrZWRDb25uZWN0aW9ucyA9IChuYW1lLCBzdG9yZSkgPT4ge1xuICBpZiAoc3RvcmUgPT09IHZvaWQgMCkgcmV0dXJuO1xuICBjb25zdCBjb25uZWN0aW9uSW5mbyA9IHRyYWNrZWRDb25uZWN0aW9ucy5nZXQobmFtZSk7XG4gIGlmICghY29ubmVjdGlvbkluZm8pIHJldHVybjtcbiAgZGVsZXRlIGNvbm5lY3Rpb25JbmZvLnN0b3Jlc1tzdG9yZV07XG4gIGlmIChPYmplY3Qua2V5cyhjb25uZWN0aW9uSW5mby5zdG9yZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgIHRyYWNrZWRDb25uZWN0aW9ucy5kZWxldGUobmFtZSk7XG4gIH1cbn07XG5jb25zdCBmaW5kQ2FsbGVyTmFtZSA9IChzdGFjaykgPT4ge1xuICB2YXIgX2EsIF9iO1xuICBpZiAoIXN0YWNrKSByZXR1cm4gdm9pZCAwO1xuICBjb25zdCB0cmFjZUxpbmVzID0gc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gIGNvbnN0IGFwaVNldFN0YXRlTGluZUluZGV4ID0gdHJhY2VMaW5lcy5maW5kSW5kZXgoXG4gICAgKHRyYWNlTGluZSkgPT4gdHJhY2VMaW5lLmluY2x1ZGVzKFwiYXBpLnNldFN0YXRlXCIpXG4gICk7XG4gIGlmIChhcGlTZXRTdGF0ZUxpbmVJbmRleCA8IDApIHJldHVybiB2b2lkIDA7XG4gIGNvbnN0IGNhbGxlckxpbmUgPSAoKF9hID0gdHJhY2VMaW5lc1thcGlTZXRTdGF0ZUxpbmVJbmRleCArIDFdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJpbSgpKSB8fCBcIlwiO1xuICByZXR1cm4gKF9iID0gLy4rICguKykgLisvLmV4ZWMoY2FsbGVyTGluZSkpID09IG51bGwgPyB2b2lkIDAgOiBfYlsxXTtcbn07XG5jb25zdCBkZXZ0b29sc0ltcGwgPSAoZm4sIGRldnRvb2xzT3B0aW9ucyA9IHt9KSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBjb25zdCB7IGVuYWJsZWQsIGFub255bW91c0FjdGlvblR5cGUsIHN0b3JlLCAuLi5vcHRpb25zIH0gPSBkZXZ0b29sc09wdGlvbnM7XG4gIGxldCBleHRlbnNpb25Db25uZWN0b3I7XG4gIHRyeSB7XG4gICAgZXh0ZW5zaW9uQ29ubmVjdG9yID0gKGVuYWJsZWQgIT0gbnVsbCA/IGVuYWJsZWQgOiAoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX187XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuICBpZiAoIWV4dGVuc2lvbkNvbm5lY3Rvcikge1xuICAgIHJldHVybiBmbihzZXQsIGdldCwgYXBpKTtcbiAgfVxuICBjb25zdCB7IGNvbm5lY3Rpb24sIC4uLmNvbm5lY3Rpb25JbmZvcm1hdGlvbiB9ID0gZXh0cmFjdENvbm5lY3Rpb25JbmZvcm1hdGlvbihzdG9yZSwgZXh0ZW5zaW9uQ29ubmVjdG9yLCBvcHRpb25zKTtcbiAgbGV0IGlzUmVjb3JkaW5nID0gdHJ1ZTtcbiAgYXBpLnNldFN0YXRlID0gKChzdGF0ZSwgcmVwbGFjZSwgbmFtZU9yQWN0aW9uKSA9PiB7XG4gICAgY29uc3QgciA9IHNldChzdGF0ZSwgcmVwbGFjZSk7XG4gICAgaWYgKCFpc1JlY29yZGluZykgcmV0dXJuIHI7XG4gICAgY29uc3QgYWN0aW9uID0gbmFtZU9yQWN0aW9uID09PSB2b2lkIDAgPyB7XG4gICAgICB0eXBlOiBhbm9ueW1vdXNBY3Rpb25UeXBlIHx8IGZpbmRDYWxsZXJOYW1lKG5ldyBFcnJvcigpLnN0YWNrKSB8fCBcImFub255bW91c1wiXG4gICAgfSA6IHR5cGVvZiBuYW1lT3JBY3Rpb24gPT09IFwic3RyaW5nXCIgPyB7IHR5cGU6IG5hbWVPckFjdGlvbiB9IDogbmFtZU9yQWN0aW9uO1xuICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLnNlbmQoYWN0aW9uLCBnZXQoKSk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5zZW5kKFxuICAgICAge1xuICAgICAgICAuLi5hY3Rpb24sXG4gICAgICAgIHR5cGU6IGAke3N0b3JlfS8ke2FjdGlvbi50eXBlfWBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIC4uLmdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSxcbiAgICAgICAgW3N0b3JlXTogYXBpLmdldFN0YXRlKClcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiByO1xuICB9KTtcbiAgYXBpLmRldnRvb2xzID0ge1xuICAgIGNsZWFudXA6ICgpID0+IHtcbiAgICAgIGlmIChjb25uZWN0aW9uICYmIHR5cGVvZiBjb25uZWN0aW9uLnVuc3Vic2NyaWJlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgICAgcmVtb3ZlU3RvcmVGcm9tVHJhY2tlZENvbm5lY3Rpb25zKG9wdGlvbnMubmFtZSwgc3RvcmUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0U3RhdGVGcm9tRGV2dG9vbHMgPSAoLi4uYSkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsSXNSZWNvcmRpbmcgPSBpc1JlY29yZGluZztcbiAgICBpc1JlY29yZGluZyA9IGZhbHNlO1xuICAgIHNldCguLi5hKTtcbiAgICBpc1JlY29yZGluZyA9IG9yaWdpbmFsSXNSZWNvcmRpbmc7XG4gIH07XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IGZuKGFwaS5zZXRTdGF0ZSwgZ2V0LCBhcGkpO1xuICBpZiAoY29ubmVjdGlvbkluZm9ybWF0aW9uLnR5cGUgPT09IFwidW50cmFja2VkXCIpIHtcbiAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoaW5pdGlhbFN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmVzW2Nvbm5lY3Rpb25JbmZvcm1hdGlvbi5zdG9yZV0gPSBhcGk7XG4gICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KFxuICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyhjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmVzKS5tYXAoKFtrZXksIHN0b3JlMl0pID0+IFtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAga2V5ID09PSBjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmUgPyBpbml0aWFsU3RhdGUgOiBzdG9yZTIuZ2V0U3RhdGUoKVxuICAgICAgICBdKVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgaWYgKGFwaS5kaXNwYXRjaEZyb21EZXZ0b29scyAmJiB0eXBlb2YgYXBpLmRpc3BhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBsZXQgZGlkV2FybkFib3V0UmVzZXJ2ZWRBY3Rpb25UeXBlID0gZmFsc2U7XG4gICAgY29uc3Qgb3JpZ2luYWxEaXNwYXRjaCA9IGFwaS5kaXNwYXRjaDtcbiAgICBhcGkuZGlzcGF0Y2ggPSAoLi4uYXJncykgPT4ge1xuICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIGFyZ3NbMF0udHlwZSA9PT0gXCJfX3NldFN0YXRlXCIgJiYgIWRpZFdhcm5BYm91dFJlc2VydmVkQWN0aW9uVHlwZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1t6dXN0YW5kIGRldnRvb2xzIG1pZGRsZXdhcmVdIFwiX19zZXRTdGF0ZVwiIGFjdGlvbiB0eXBlIGlzIHJlc2VydmVkIHRvIHNldCBzdGF0ZSBmcm9tIHRoZSBkZXZ0b29scy4gQXZvaWQgdXNpbmcgaXQuJ1xuICAgICAgICApO1xuICAgICAgICBkaWRXYXJuQWJvdXRSZXNlcnZlZEFjdGlvblR5cGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgb3JpZ2luYWxEaXNwYXRjaCguLi5hcmdzKTtcbiAgICB9O1xuICB9XG4gIGNvbm5lY3Rpb24uc3Vic2NyaWJlKChtZXNzYWdlKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICBjYXNlIFwiQUNUSU9OXCI6XG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5wYXlsb2FkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiW3p1c3RhbmQgZGV2dG9vbHMgbWlkZGxld2FyZV0gVW5zdXBwb3J0ZWQgYWN0aW9uIGZvcm1hdFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlSnNvblRoZW4oXG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkLFxuICAgICAgICAgIChhY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJfX3NldFN0YXRlXCIpIHtcbiAgICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhhY3Rpb24uc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aW9uLnN0YXRlKS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICBbenVzdGFuZCBkZXZ0b29scyBtaWRkbGV3YXJlXSBVbnN1cHBvcnRlZCBfX3NldFN0YXRlIGFjdGlvbiBmb3JtYXQuXG4gICAgICAgICAgICAgICAgICAgIFdoZW4gdXNpbmcgJ3N0b3JlJyBvcHRpb24gaW4gZGV2dG9vbHMoKSwgdGhlICdzdGF0ZScgc2hvdWxkIGhhdmUgb25seSBvbmUga2V5LCB3aGljaCBpcyBhIHZhbHVlIG9mICdzdG9yZScgdGhhdCB3YXMgcGFzc2VkIGluIGRldnRvb2xzKCksXG4gICAgICAgICAgICAgICAgICAgIGFuZCB2YWx1ZSBvZiB0aGlzIG9ubHkga2V5IHNob3VsZCBiZSBhIHN0YXRlIG9iamVjdC4gRXhhbXBsZTogeyBcInR5cGVcIjogXCJfX3NldFN0YXRlXCIsIFwic3RhdGVcIjogeyBcImFiYzEyM1N0b3JlXCI6IHsgXCJmb29cIjogXCJiYXJcIiB9IH0gfVxuICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBzdGF0ZUZyb21EZXZ0b29scyA9IGFjdGlvbi5zdGF0ZVtzdG9yZV07XG4gICAgICAgICAgICAgIGlmIChzdGF0ZUZyb21EZXZ0b29scyA9PT0gdm9pZCAwIHx8IHN0YXRlRnJvbURldnRvb2xzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShhcGkuZ2V0U3RhdGUoKSkgIT09IEpTT04uc3RyaW5naWZ5KHN0YXRlRnJvbURldnRvb2xzKSkge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKHN0YXRlRnJvbURldnRvb2xzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFwaS5kaXNwYXRjaEZyb21EZXZ0b29scykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcGkuZGlzcGF0Y2ggIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xuICAgICAgICAgICAgYXBpLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkRJU1BBVENIXCI6XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5wYXlsb2FkLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiUkVTRVRcIjpcbiAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZShvcHRpb25zLm5hbWUpKTtcbiAgICAgICAgICBjYXNlIFwiQ09NTUlUXCI6XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoYXBpLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSk7XG4gICAgICAgICAgY2FzZSBcIlJPTExCQUNLXCI6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VKc29uVGhlbihtZXNzYWdlLnN0YXRlLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGVbc3RvcmVdKTtcbiAgICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiSlVNUF9UT19TVEFURVwiOlxuICAgICAgICAgIGNhc2UgXCJKVU1QX1RPX0FDVElPTlwiOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSnNvblRoZW4obWVzc2FnZS5zdGF0ZSwgKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoYXBpLmdldFN0YXRlKCkpICE9PSBKU09OLnN0cmluZ2lmeShzdGF0ZVtzdG9yZV0pKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGVbc3RvcmVdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIklNUE9SVF9TVEFURVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IG5leHRMaWZ0ZWRTdGF0ZSB9ID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkU3RhdGUgPSAoX2EgPSBuZXh0TGlmdGVkU3RhdGUuY29tcHV0ZWRTdGF0ZXMuc2xpY2UoLTEpWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWxhc3RDb21wdXRlZFN0YXRlKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhsYXN0Q29tcHV0ZWRTdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhsYXN0Q29tcHV0ZWRTdGF0ZVtzdG9yZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5zZW5kKFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAvLyBGSVhNRSBuby1hbnlcbiAgICAgICAgICAgICAgbmV4dExpZnRlZFN0YXRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiUEFVU0VfUkVDT1JESU5HXCI6XG4gICAgICAgICAgICByZXR1cm4gaXNSZWNvcmRpbmcgPSAhaXNSZWNvcmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpbml0aWFsU3RhdGU7XG59O1xuY29uc3QgZGV2dG9vbHMgPSBkZXZ0b29sc0ltcGw7XG5jb25zdCBwYXJzZUpzb25UaGVuID0gKHN0cmluZ2lmaWVkLCBmbikgPT4ge1xuICBsZXQgcGFyc2VkO1xuICB0cnkge1xuICAgIHBhcnNlZCA9IEpTT04ucGFyc2Uoc3RyaW5naWZpZWQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiW3p1c3RhbmQgZGV2dG9vbHMgbWlkZGxld2FyZV0gQ291bGQgbm90IHBhcnNlIHRoZSByZWNlaXZlZCBqc29uXCIsXG4gICAgICBlXG4gICAgKTtcbiAgfVxuICBpZiAocGFyc2VkICE9PSB2b2lkIDApIGZuKHBhcnNlZCk7XG59O1xuXG5jb25zdCBzdWJzY3JpYmVXaXRoU2VsZWN0b3JJbXBsID0gKGZuKSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBjb25zdCBvcmlnU3Vic2NyaWJlID0gYXBpLnN1YnNjcmliZTtcbiAgYXBpLnN1YnNjcmliZSA9ICgoc2VsZWN0b3IsIG9wdExpc3RlbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgbGV0IGxpc3RlbmVyID0gc2VsZWN0b3I7XG4gICAgaWYgKG9wdExpc3RlbmVyKSB7XG4gICAgICBjb25zdCBlcXVhbGl0eUZuID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZXF1YWxpdHlGbikgfHwgT2JqZWN0LmlzO1xuICAgICAgbGV0IGN1cnJlbnRTbGljZSA9IHNlbGVjdG9yKGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgIGxpc3RlbmVyID0gKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRTbGljZSA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICAgICAgaWYgKCFlcXVhbGl0eUZuKGN1cnJlbnRTbGljZSwgbmV4dFNsaWNlKSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzU2xpY2UgPSBjdXJyZW50U2xpY2U7XG4gICAgICAgICAgb3B0TGlzdGVuZXIoY3VycmVudFNsaWNlID0gbmV4dFNsaWNlLCBwcmV2aW91c1NsaWNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmZpcmVJbW1lZGlhdGVseSkge1xuICAgICAgICBvcHRMaXN0ZW5lcihjdXJyZW50U2xpY2UsIGN1cnJlbnRTbGljZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcmlnU3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgfSk7XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IGZuKHNldCwgZ2V0LCBhcGkpO1xuICByZXR1cm4gaW5pdGlhbFN0YXRlO1xufTtcbmNvbnN0IHN1YnNjcmliZVdpdGhTZWxlY3RvciA9IHN1YnNjcmliZVdpdGhTZWxlY3RvckltcGw7XG5cbmZ1bmN0aW9uIGNvbWJpbmUoaW5pdGlhbFN0YXRlLCBjcmVhdGUpIHtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUsIGNyZWF0ZSguLi5hcmdzKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUpTT05TdG9yYWdlKGdldFN0b3JhZ2UsIG9wdGlvbnMpIHtcbiAgbGV0IHN0b3JhZ2U7XG4gIHRyeSB7XG4gICAgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwZXJzaXN0U3RvcmFnZSA9IHtcbiAgICBnZXRJdGVtOiAobmFtZSkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgcGFyc2UgPSAoc3RyMikgPT4ge1xuICAgICAgICBpZiAoc3RyMiA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cjIsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucmV2aXZlcik7XG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RyID0gKF9hID0gc3RvcmFnZS5nZXRJdGVtKG5hbWUpKSAhPSBudWxsID8gX2EgOiBudWxsO1xuICAgICAgaWYgKHN0ciBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHN0ci50aGVuKHBhcnNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJzZShzdHIpO1xuICAgIH0sXG4gICAgc2V0SXRlbTogKG5hbWUsIG5ld1ZhbHVlKSA9PiBzdG9yYWdlLnNldEl0ZW0obmFtZSwgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucmVwbGFjZXIpKSxcbiAgICByZW1vdmVJdGVtOiAobmFtZSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpXG4gIH07XG4gIHJldHVybiBwZXJzaXN0U3RvcmFnZTtcbn1cbmNvbnN0IHRvVGhlbmFibGUgPSAoZm4pID0+IChpbnB1dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZuKGlucHV0KTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRoZW4ob25GdWxmaWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRvVGhlbmFibGUob25GdWxmaWxsZWQpKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgY2F0Y2goX29uUmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aGVuKF9vbkZ1bGZpbGxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBjYXRjaChvblJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0b1RoZW5hYmxlKG9uUmVqZWN0ZWQpKGUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5jb25zdCBwZXJzaXN0SW1wbCA9IChjb25maWcsIGJhc2VPcHRpb25zKSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBsZXQgb3B0aW9ucyA9IHtcbiAgICBzdG9yYWdlOiBjcmVhdGVKU09OU3RvcmFnZSgoKSA9PiBsb2NhbFN0b3JhZ2UpLFxuICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gc3RhdGUsXG4gICAgdmVyc2lvbjogMCxcbiAgICBtZXJnZTogKHBlcnNpc3RlZFN0YXRlLCBjdXJyZW50U3RhdGUpID0+ICh7XG4gICAgICAuLi5jdXJyZW50U3RhdGUsXG4gICAgICAuLi5wZXJzaXN0ZWRTdGF0ZVxuICAgIH0pLFxuICAgIC4uLmJhc2VPcHRpb25zXG4gIH07XG4gIGxldCBoYXNIeWRyYXRlZCA9IGZhbHNlO1xuICBjb25zdCBoeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgc3RvcmFnZSA9IG9wdGlvbnMuc3RvcmFnZTtcbiAgaWYgKCFzdG9yYWdlKSB7XG4gICAgcmV0dXJuIGNvbmZpZyhcbiAgICAgICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgW3p1c3RhbmQgcGVyc2lzdCBtaWRkbGV3YXJlXSBVbmFibGUgdG8gdXBkYXRlIGl0ZW0gJyR7b3B0aW9ucy5uYW1lfScsIHRoZSBnaXZlbiBzdG9yYWdlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS5gXG4gICAgICAgICk7XG4gICAgICAgIHNldCguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICBnZXQsXG4gICAgICBhcGlcbiAgICApO1xuICB9XG4gIGNvbnN0IHNldEl0ZW0gPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBvcHRpb25zLnBhcnRpYWxpemUoeyAuLi5nZXQoKSB9KTtcbiAgICByZXR1cm4gc3RvcmFnZS5zZXRJdGVtKG9wdGlvbnMubmFtZSwge1xuICAgICAgc3RhdGUsXG4gICAgICB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb25cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgc2F2ZWRTZXRTdGF0ZSA9IGFwaS5zZXRTdGF0ZTtcbiAgYXBpLnNldFN0YXRlID0gKHN0YXRlLCByZXBsYWNlKSA9PiB7XG4gICAgc2F2ZWRTZXRTdGF0ZShzdGF0ZSwgcmVwbGFjZSk7XG4gICAgcmV0dXJuIHNldEl0ZW0oKTtcbiAgfTtcbiAgY29uc3QgY29uZmlnUmVzdWx0ID0gY29uZmlnKFxuICAgICguLi5hcmdzKSA9PiB7XG4gICAgICBzZXQoLi4uYXJncyk7XG4gICAgICByZXR1cm4gc2V0SXRlbSgpO1xuICAgIH0sXG4gICAgZ2V0LFxuICAgIGFwaVxuICApO1xuICBhcGkuZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gY29uZmlnUmVzdWx0O1xuICBsZXQgc3RhdGVGcm9tU3RvcmFnZTtcbiAgY29uc3QgaHlkcmF0ZSA9ICgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICghc3RvcmFnZSkgcmV0dXJuO1xuICAgIGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gICAgaHlkcmF0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIGNiKChfYTIgPSBnZXQoKSkgIT0gbnVsbCA/IF9hMiA6IGNvbmZpZ1Jlc3VsdCk7XG4gICAgfSk7XG4gICAgY29uc3QgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPSAoKF9iID0gb3B0aW9ucy5vblJlaHlkcmF0ZVN0b3JhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKG9wdGlvbnMsIChfYSA9IGdldCgpKSAhPSBudWxsID8gX2EgOiBjb25maWdSZXN1bHQpKSB8fCB2b2lkIDA7XG4gICAgcmV0dXJuIHRvVGhlbmFibGUoc3RvcmFnZS5nZXRJdGVtLmJpbmQoc3RvcmFnZSkpKG9wdGlvbnMubmFtZSkudGhlbigoZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlKSA9PiB7XG4gICAgICBpZiAoZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gPT09IFwibnVtYmVyXCIgJiYgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gIT09IG9wdGlvbnMudmVyc2lvbikge1xuICAgICAgICAgIGlmIChvcHRpb25zLm1pZ3JhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGlvbiA9IG9wdGlvbnMubWlncmF0ZShcbiAgICAgICAgICAgICAgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnN0YXRlLFxuICAgICAgICAgICAgICBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUudmVyc2lvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChtaWdyYXRpb24gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtaWdyYXRpb24udGhlbigocmVzdWx0KSA9PiBbdHJ1ZSwgcmVzdWx0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3RydWUsIG1pZ3JhdGlvbl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBgU3RhdGUgbG9hZGVkIGZyb20gc3RvcmFnZSBjb3VsZG4ndCBiZSBtaWdyYXRlZCBzaW5jZSBubyBtaWdyYXRlIGZ1bmN0aW9uIHdhcyBwcm92aWRlZGBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbZmFsc2UsIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS5zdGF0ZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbZmFsc2UsIHZvaWQgMF07XG4gICAgfSkudGhlbigobWlncmF0aW9uUmVzdWx0KSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgW21pZ3JhdGVkLCBtaWdyYXRlZFN0YXRlXSA9IG1pZ3JhdGlvblJlc3VsdDtcbiAgICAgIHN0YXRlRnJvbVN0b3JhZ2UgPSBvcHRpb25zLm1lcmdlKFxuICAgICAgICBtaWdyYXRlZFN0YXRlLFxuICAgICAgICAoX2EyID0gZ2V0KCkpICE9IG51bGwgPyBfYTIgOiBjb25maWdSZXN1bHRcbiAgICAgICk7XG4gICAgICBzZXQoc3RhdGVGcm9tU3RvcmFnZSwgdHJ1ZSk7XG4gICAgICBpZiAobWlncmF0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHNldEl0ZW0oKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayhzdGF0ZUZyb21TdG9yYWdlLCB2b2lkIDApO1xuICAgICAgc3RhdGVGcm9tU3RvcmFnZSA9IGdldCgpO1xuICAgICAgaGFzSHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiBjYihzdGF0ZUZyb21TdG9yYWdlKSk7XG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayh2b2lkIDAsIGUpO1xuICAgIH0pO1xuICB9O1xuICBhcGkucGVyc2lzdCA9IHtcbiAgICBzZXRPcHRpb25zOiAobmV3T3B0aW9ucykgPT4ge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ubmV3T3B0aW9uc1xuICAgICAgfTtcbiAgICAgIGlmIChuZXdPcHRpb25zLnN0b3JhZ2UpIHtcbiAgICAgICAgc3RvcmFnZSA9IG5ld09wdGlvbnMuc3RvcmFnZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsZWFyU3RvcmFnZTogKCkgPT4ge1xuICAgICAgc3RvcmFnZSA9PSBudWxsID8gdm9pZCAwIDogc3RvcmFnZS5yZW1vdmVJdGVtKG9wdGlvbnMubmFtZSk7XG4gICAgfSxcbiAgICBnZXRPcHRpb25zOiAoKSA9PiBvcHRpb25zLFxuICAgIHJlaHlkcmF0ZTogKCkgPT4gaHlkcmF0ZSgpLFxuICAgIGhhc0h5ZHJhdGVkOiAoKSA9PiBoYXNIeWRyYXRlZCxcbiAgICBvbkh5ZHJhdGU6IChjYikgPT4ge1xuICAgICAgaHlkcmF0aW9uTGlzdGVuZXJzLmFkZChjYik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBoeWRyYXRpb25MaXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBvbkZpbmlzaEh5ZHJhdGlvbjogKGNiKSA9PiB7XG4gICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuYWRkKGNiKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycy5kZWxldGUoY2IpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIGlmICghb3B0aW9ucy5za2lwSHlkcmF0aW9uKSB7XG4gICAgaHlkcmF0ZSgpO1xuICB9XG4gIHJldHVybiBzdGF0ZUZyb21TdG9yYWdlIHx8IGNvbmZpZ1Jlc3VsdDtcbn07XG5jb25zdCBwZXJzaXN0ID0gcGVyc2lzdEltcGw7XG5cbmZ1bmN0aW9uIHNzclNhZmUoY29uZmlnLCBpc1NTUiA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgcmV0dXJuIChzZXQsIGdldCwgYXBpKSA9PiB7XG4gICAgaWYgKCFpc1NTUikge1xuICAgICAgcmV0dXJuIGNvbmZpZyhzZXQsIGdldCwgYXBpKTtcbiAgICB9XG4gICAgY29uc3Qgc3NyU2V0ID0gKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBzdGF0ZSBvZiBadXN0YW5kIHN0b3JlIGluIFNTUlwiKTtcbiAgICB9O1xuICAgIGFwaS5zZXRTdGF0ZSA9IHNzclNldDtcbiAgICByZXR1cm4gY29uZmlnKHNzclNldCwgZ2V0LCBhcGkpO1xuICB9O1xufVxuXG5leHBvcnQgeyBjb21iaW5lLCBjcmVhdGVKU09OU3RvcmFnZSwgZGV2dG9vbHMsIHBlcnNpc3QsIHJlZHV4LCBzdWJzY3JpYmVXaXRoU2VsZWN0b3IsIHNzclNhZmUgYXMgdW5zdGFibGVfc3NyU2FmZSB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zustand/esm/react.mjs":
/*!********************************************!*\
  !*** ./node_modules/zustand/esm/react.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   useStore: () => (/* binding */ useStore)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var zustand_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand/vanilla */ \"(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs\");\n\n\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore(\n    api.subscribe,\n    react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => selector(api.getState()), [api, selector]),\n    react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = (0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_1__.createStore)(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9yZWFjdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQjtBQUNvQjs7QUFFOUM7QUFDQTtBQUNBLGdCQUFnQix1REFBMEI7QUFDMUM7QUFDQSxJQUFJLDhDQUFpQjtBQUNyQixJQUFJLDhDQUFpQjtBQUNyQjtBQUNBLEVBQUUsZ0RBQW1CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNERBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vcmVhY3QubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3p1c3RhbmQvdmFuaWxsYSc7XG5cbmNvbnN0IGlkZW50aXR5ID0gKGFyZykgPT4gYXJnO1xuZnVuY3Rpb24gdXNlU3RvcmUoYXBpLCBzZWxlY3RvciA9IGlkZW50aXR5KSB7XG4gIGNvbnN0IHNsaWNlID0gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgYXBpLnN1YnNjcmliZSxcbiAgICBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBzZWxlY3RvcihhcGkuZ2V0U3RhdGUoKSksIFthcGksIHNlbGVjdG9yXSksXG4gICAgUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gc2VsZWN0b3IoYXBpLmdldEluaXRpYWxTdGF0ZSgpKSwgW2FwaSwgc2VsZWN0b3JdKVxuICApO1xuICBSZWFjdC51c2VEZWJ1Z1ZhbHVlKHNsaWNlKTtcbiAgcmV0dXJuIHNsaWNlO1xufVxuY29uc3QgY3JlYXRlSW1wbCA9IChjcmVhdGVTdGF0ZSkgPT4ge1xuICBjb25zdCBhcGkgPSBjcmVhdGVTdG9yZShjcmVhdGVTdGF0ZSk7XG4gIGNvbnN0IHVzZUJvdW5kU3RvcmUgPSAoc2VsZWN0b3IpID0+IHVzZVN0b3JlKGFwaSwgc2VsZWN0b3IpO1xuICBPYmplY3QuYXNzaWduKHVzZUJvdW5kU3RvcmUsIGFwaSk7XG4gIHJldHVybiB1c2VCb3VuZFN0b3JlO1xufTtcbmNvbnN0IGNyZWF0ZSA9ICgoY3JlYXRlU3RhdGUpID0+IGNyZWF0ZVN0YXRlID8gY3JlYXRlSW1wbChjcmVhdGVTdGF0ZSkgOiBjcmVhdGVJbXBsKTtcblxuZXhwb3J0IHsgY3JlYXRlLCB1c2VTdG9yZSB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zustand/esm/react.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs":
/*!**********************************************!*\
  !*** ./node_modules/zustand/esm/vanilla.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStore: () => (/* binding */ createStore)\n/* harmony export */ });\nconst createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS92YW5pbGxhLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SEFBOEg7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUV1QiIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS92YW5pbGxhLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjcmVhdGVTdG9yZUltcGwgPSAoY3JlYXRlU3RhdGUpID0+IHtcbiAgbGV0IHN0YXRlO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBzZXRTdGF0ZSA9IChwYXJ0aWFsLCByZXBsYWNlKSA9PiB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gdHlwZW9mIHBhcnRpYWwgPT09IFwiZnVuY3Rpb25cIiA/IHBhcnRpYWwoc3RhdGUpIDogcGFydGlhbDtcbiAgICBpZiAoIU9iamVjdC5pcyhuZXh0U3RhdGUsIHN0YXRlKSkge1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgICAgc3RhdGUgPSAocmVwbGFjZSAhPSBudWxsID8gcmVwbGFjZSA6IHR5cGVvZiBuZXh0U3RhdGUgIT09IFwib2JqZWN0XCIgfHwgbmV4dFN0YXRlID09PSBudWxsKSA/IG5leHRTdGF0ZSA6IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSwgcHJldmlvdXNTdGF0ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiBzdGF0ZTtcbiAgY29uc3QgZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gaW5pdGlhbFN0YXRlO1xuICBjb25zdCBzdWJzY3JpYmUgPSAobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH07XG4gIGNvbnN0IGFwaSA9IHsgc2V0U3RhdGUsIGdldFN0YXRlLCBnZXRJbml0aWFsU3RhdGUsIHN1YnNjcmliZSB9O1xuICBjb25zdCBpbml0aWFsU3RhdGUgPSBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHNldFN0YXRlLCBnZXRTdGF0ZSwgYXBpKTtcbiAgcmV0dXJuIGFwaTtcbn07XG5jb25zdCBjcmVhdGVTdG9yZSA9ICgoY3JlYXRlU3RhdGUpID0+IGNyZWF0ZVN0YXRlID8gY3JlYXRlU3RvcmVJbXBsKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZVN0b3JlSW1wbCk7XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/_components/EvalBar.tsx":
/*!*****************************************!*\
  !*** ./src/app/_components/EvalBar.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EvalBar: () => (/* binding */ EvalBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ EvalBar auto */ \nvar _s = $RefreshSig$();\n\n\nfunction EvalBar(param) {\n    let { game, styles, onRemove, showRemoveButton = false, compact = false } = param;\n    _s();\n    const [timePassed, setTimePassed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isBlundering, setIsBlundering] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showResultFlash, setShowResultFlash] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const prevEvalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const prevResultRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EvalBar.useEffect\": ()=>{\n            audioRef.current = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2LkZWTi4J8eX6Fjo+NiIF4c3V9h46SkI2GfXh1eoKLkZOQi4N7dnR5goySlJCKgnp0dHmDjZSUkImAeHN0eYONk5KPiH95dHZ7hI6TkY2FfHd0eH2Gj5KQjIR7d3V5f4iRk5GMg3t2dXmAiZOTkYuCenV1eYGKk5ORioF5dXV5gomTk5GKgHl1dXqCipOTkYp/eHV1eoKLk5ORiX54dXZ6g4yTkpCIf3h1dnqDjJOSkIh+eHV2eoSMk5KQh3');\n        }\n    }[\"EvalBar.useEffect\"], []);\n    // Blunder detection\n    const handleBlunderCheck = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EvalBar.useCallback[handleBlunderCheck]\": ()=>{\n            if (prevEvalRef.current !== null && game.evaluation !== null) {\n                const prevEval = prevEvalRef.current;\n                const evalDiff = Math.abs(game.evaluation - prevEval);\n                if (evalDiff >= 2 && prevEval >= -4 && prevEval <= 4) {\n                    var _audioRef_current;\n                    setIsBlundering(true);\n                    (_audioRef_current = audioRef.current) === null || _audioRef_current === void 0 ? void 0 : _audioRef_current.play().catch({\n                        \"EvalBar.useCallback[handleBlunderCheck]\": ()=>{}\n                    }[\"EvalBar.useCallback[handleBlunderCheck]\"]);\n                    setTimeout({\n                        \"EvalBar.useCallback[handleBlunderCheck]\": ()=>setIsBlundering(false)\n                    }[\"EvalBar.useCallback[handleBlunderCheck]\"], 5000);\n                }\n            }\n            prevEvalRef.current = game.evaluation;\n        }\n    }[\"EvalBar.useCallback[handleBlunderCheck]\"], [\n        game.evaluation\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EvalBar.useEffect\": ()=>{\n            handleBlunderCheck();\n        }\n    }[\"EvalBar.useEffect\"], [\n        handleBlunderCheck\n    ]);\n    // Result detection\n    const handleResultCheck = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EvalBar.useCallback[handleResultCheck]\": ()=>{\n            if (prevResultRef.current === null && game.result !== null) {\n                var _audioRef_current;\n                setShowResultFlash(true);\n                (_audioRef_current = audioRef.current) === null || _audioRef_current === void 0 ? void 0 : _audioRef_current.play().catch({\n                    \"EvalBar.useCallback[handleResultCheck]\": ()=>{}\n                }[\"EvalBar.useCallback[handleResultCheck]\"]);\n                setTimeout({\n                    \"EvalBar.useCallback[handleResultCheck]\": ()=>setShowResultFlash(false)\n                }[\"EvalBar.useCallback[handleResultCheck]\"], 5000);\n            }\n            prevResultRef.current = game.result;\n        }\n    }[\"EvalBar.useCallback[handleResultCheck]\"], [\n        game.result\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EvalBar.useEffect\": ()=>{\n            handleResultCheck();\n        }\n    }[\"EvalBar.useEffect\"], [\n        handleResultCheck\n    ]);\n    // Clock countdown\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EvalBar.useEffect\": ()=>{\n            if (intervalRef.current) {\n                clearInterval(intervalRef.current);\n                intervalRef.current = null;\n            }\n            if (game.turn && !game.result) {\n                setTimePassed(0);\n                intervalRef.current = setInterval({\n                    \"EvalBar.useEffect\": ()=>{\n                        setTimePassed({\n                            \"EvalBar.useEffect\": (prev)=>prev + 1\n                        }[\"EvalBar.useEffect\"]);\n                    }\n                }[\"EvalBar.useEffect\"], 1000);\n            }\n            return ({\n                \"EvalBar.useEffect\": ()=>{\n                    if (intervalRef.current) {\n                        clearInterval(intervalRef.current);\n                        intervalRef.current = null;\n                    }\n                }\n            })[\"EvalBar.useEffect\"];\n        }\n    }[\"EvalBar.useEffect\"], [\n        game.turn,\n        game.result,\n        game.whiteTime,\n        game.blackTime\n    ]);\n    const whiteTime = game.turn === 'white' ? Math.max(0, game.whiteTime - timePassed) : game.whiteTime;\n    const blackTime = game.turn === 'black' ? Math.max(0, game.blackTime - timePassed) : game.blackTime;\n    const isWhiteLowTime = whiteTime <= 30;\n    const isBlackLowTime = blackTime <= 30;\n    const hasResult = game.result !== null;\n    const getResultDisplay = ()=>{\n        if (!game.result) return null;\n        if (game.result === '1-0') return {\n            text: '1-0',\n            color: '#ffffff',\n            label: 'White wins'\n        };\n        if (game.result === '0-1') return {\n            text: '0-1',\n            color: '#E79D29',\n            label: 'Black wins'\n        };\n        if (game.result === 'Draw' || game.result === '1/2-1/2') return {\n            text: '-',\n            color: '#888888',\n            label: 'Draw'\n        };\n        return {\n            text: game.result,\n            color: '#ffffff',\n            label: ''\n        };\n    };\n    const resultInfo = getResultDisplay();\n    const barHeight = compact ? Math.max(8, styles.barHeight - 4) : styles.barHeight;\n    const fontSize = compact ? Math.max(10, styles.fontSize - 2) : styles.fontSize;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex flex-col p-1.5 rounded transition-all duration-300\", isBlundering && \"ring-2 ring-red-500 animate-pulse\", showResultFlash && \"ring-2 ring-yellow-400 animate-pulse\"),\n        style: {\n            backgroundColor: styles.evalContainerBg,\n            border: \"1px solid \".concat(styles.evalContainerBorderColor),\n            minWidth: compact ? '120px' : '180px',\n            maxWidth: compact ? '200px' : '280px'\n        },\n        children: [\n            showRemoveButton && onRemove && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onRemove,\n                className: \"absolute -top-1 -right-1 w-4 h-4 bg-red-500 hover:bg-red-600 rounded-full text-white text-[10px] flex items-center justify-center z-10\",\n                children: \"\\xd7\"\n            }, void 0, false, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                lineNumber: 116,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center mb-0.5\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"font-bold truncate text-xs leading-tight px-1\",\n                        style: {\n                            color: styles.whitePlayerNameColor,\n                            maxWidth: '45%',\n                            fontSize: \"\".concat(fontSize, \"px\")\n                        },\n                        children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.formatPlayerName)(game.whitePlayer)\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                        lineNumber: 125,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"font-bold truncate text-xs leading-tight px-1 text-right\",\n                        style: {\n                            color: styles.blackPlayerNameColor,\n                            maxWidth: '45%',\n                            fontSize: \"\".concat(fontSize, \"px\")\n                        },\n                        children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.formatPlayerName)(game.blackPlayer)\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                        lineNumber: 135,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                lineNumber: 124,\n                columnNumber: 7\n            }, this),\n            styles.showClocks && !hasResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center mb-0.5\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"font-mono text-[10px] leading-none tabular-nums px-1\", isWhiteLowTime && \"text-red-500 font-bold\"),\n                        style: {\n                            color: isWhiteLowTime ? undefined : styles.whitePlayerNameColor,\n                            fontSize: \"\".concat(fontSize - 2, \"px\")\n                        },\n                        children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.formatClock)(whiteTime)\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                        lineNumber: 149,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-0 h-0 border-y-[4px] border-y-transparent border-r-[6px]\",\n                                style: {\n                                    borderRightColor: styles.moveIndicatorColor,\n                                    opacity: game.turn === 'white' ? 1 : 0.3\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                                lineNumber: 160,\n                                columnNumber: 13\n                            }, this),\n                            styles.showMoveNumber && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white text-[10px] font-bold min-w-[14px] text-center\",\n                                style: {\n                                    fontSize: \"\".concat(fontSize - 2, \"px\")\n                                },\n                                children: game.moveNumber || '-'\n                            }, void 0, false, {\n                                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                                lineNumber: 169,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-0 h-0 border-y-[4px] border-y-transparent border-l-[6px]\",\n                                style: {\n                                    borderLeftColor: styles.moveIndicatorColor,\n                                    opacity: game.turn === 'black' ? 1 : 0.3\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                                lineNumber: 177,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                        lineNumber: 159,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"font-mono text-[10px] leading-none tabular-nums px-1\", isBlackLowTime && \"text-red-500 font-bold\"),\n                        style: {\n                            color: isBlackLowTime ? undefined : styles.blackPlayerNameColor,\n                            fontSize: \"\".concat(fontSize - 2, \"px\")\n                        },\n                        children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.formatClock)(blackTime)\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                        lineNumber: 186,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                lineNumber: 148,\n                columnNumber: 9\n            }, this),\n            hasResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center py-1 rounded\",\n                style: {\n                    backgroundColor: 'rgba(0,0,0,0.3)'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"font-bold tracking-wider\",\n                    style: {\n                        color: resultInfo === null || resultInfo === void 0 ? void 0 : resultInfo.color,\n                        fontSize: \"\".concat(fontSize + 2, \"px\")\n                    },\n                    children: resultInfo === null || resultInfo === void 0 ? void 0 : resultInfo.text\n                }, void 0, false, {\n                    fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                    lineNumber: 203,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                lineNumber: 199,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full overflow-hidden relative flex items-center justify-center\",\n                style: {\n                    height: \"\".concat(barHeight, \"px\"),\n                    borderRadius: \"\".concat(styles.barBorderRadius, \"px\"),\n                    backgroundColor: styles.blackBarColor\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute left-0 top-0 h-full transition-all duration-700 ease-out\",\n                        style: {\n                            width: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.getEvalBarWidth)(game.evaluation, game.result),\n                            backgroundColor: styles.whiteBarColor\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                        lineNumber: 222,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-0 bottom-0 w-px bg-black/40\",\n                        style: {\n                            left: '50%'\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                        lineNumber: 230,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"relative z-10 font-bold tabular-nums\",\n                        style: {\n                            color: '#000',\n                            fontSize: \"\".concat(fontSize, \"px\"),\n                            textShadow: '0 0 4px rgba(255,255,255,0.9), 0 0 2px rgba(255,255,255,1)'\n                        },\n                        children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.formatEvaluation)(game.evaluation)\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                lineNumber: 214,\n                columnNumber: 9\n            }, this),\n            isBlundering && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute -top-2 -right-2 bg-red-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded animate-bounce\",\n                children: \"??\"\n            }, void 0, false, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n                lineNumber: 249,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/_components/EvalBar.tsx\",\n        lineNumber: 102,\n        columnNumber: 5\n    }, this);\n}\n_s(EvalBar, \"5i5ZN+TsBM4qUCfzy3EjiY2MLLo=\");\n_c = EvalBar;\nvar _c;\n$RefreshReg$(_c, \"EvalBar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvX2NvbXBvbmVudHMvRXZhbEJhci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVnRTtBQUNrQztBQVczRixTQUFTUyxRQUFRLEtBQW1GO1FBQW5GLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLG1CQUFtQixLQUFLLEVBQUVDLFVBQVUsS0FBSyxFQUFnQixHQUFuRjs7SUFDdEIsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdmLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ2dCLGNBQWNDLGdCQUFnQixHQUFHakIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDa0IsaUJBQWlCQyxtQkFBbUIsR0FBR25CLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU1vQixjQUFjbkIsNkNBQU1BLENBQWdCO0lBQzFDLE1BQU1vQixnQkFBZ0JwQiw2Q0FBTUEsQ0FBZ0I7SUFDNUMsTUFBTXFCLGNBQWNyQiw2Q0FBTUEsQ0FBd0M7SUFDbEUsTUFBTXNCLFdBQVd0Qiw2Q0FBTUEsQ0FBMEI7SUFFakRGLGdEQUFTQTs2QkFBQztZQUNSd0IsU0FBU0MsT0FBTyxHQUFHLElBQUlDLE1BQU07UUFDL0I7NEJBQUcsRUFBRTtJQUVMLG9CQUFvQjtJQUNwQixNQUFNQyxxQkFBcUJ4QixrREFBV0E7bURBQUM7WUFDckMsSUFBSWtCLFlBQVlJLE9BQU8sS0FBSyxRQUFRZixLQUFLa0IsVUFBVSxLQUFLLE1BQU07Z0JBQzVELE1BQU1DLFdBQVdSLFlBQVlJLE9BQU87Z0JBQ3BDLE1BQU1LLFdBQVdDLEtBQUtDLEdBQUcsQ0FBQ3RCLEtBQUtrQixVQUFVLEdBQUdDO2dCQUM1QyxJQUFJQyxZQUFZLEtBQUtELFlBQVksQ0FBQyxLQUFLQSxZQUFZLEdBQUc7d0JBRXBETDtvQkFEQU4sZ0JBQWdCO3FCQUNoQk0sb0JBQUFBLFNBQVNDLE9BQU8sY0FBaEJELHdDQUFBQSxrQkFBa0JTLElBQUksR0FBR0MsS0FBSzttRUFB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V0FBVTtvQkFDckIyQixjQUFjLEdBQTBCLE9BQXZCckUsT0FBT3NFLGVBQWUsRUFBQztvQkFDeEN2QixpQkFBaUIvQyxPQUFPdUUsYUFBYTtnQkFDdkM7O2tDQUVBLDhEQUFDM0I7d0JBQ0NDLFdBQVU7d0JBQ1ZDLE9BQU87NEJBQ0wwQixPQUFPNUUsMkRBQWVBLENBQUNHLEtBQUtrQixVQUFVLEVBQUVsQixLQUFLMkIsTUFBTTs0QkFDbkRxQixpQkFBaUIvQyxPQUFPeUUsYUFBYTt3QkFDdkM7Ozs7OztrQ0FHRiw4REFBQzdCO3dCQUNDQyxXQUFVO3dCQUNWQyxPQUFPOzRCQUFFNEIsTUFBTTt3QkFBTTs7Ozs7O2tDQUd2Qiw4REFBQ25CO3dCQUNDVixXQUFVO3dCQUNWQyxPQUFPOzRCQUNMUCxPQUFPOzRCQUNQSSxVQUFVLEdBQVksT0FBVEEsVUFBUzs0QkFDdEJnQyxZQUFZO3dCQUNkO2tDQUVDOUUsNERBQWdCQSxDQUFDRSxLQUFLa0IsVUFBVTs7Ozs7Ozs7Ozs7O1lBS3RDWCw4QkFDQyw4REFBQ3NDO2dCQUFJQyxXQUFVOzBCQUE0Rzs7Ozs7Ozs7Ozs7O0FBTW5JO0dBaFBnQi9DO0tBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvcmFrc2hpdC93b3Jrc3BhY2UvYXJjaGl2ZXMvcmVwb3MvY2hlc3MvZXZhbC1iYXIvc3JjL2FwcC9fY29tcG9uZW50cy9FdmFsQmFyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY24sIGZvcm1hdFBsYXllck5hbWUsIGZvcm1hdENsb2NrLCBnZXRFdmFsQmFyV2lkdGgsIGZvcm1hdEV2YWx1YXRpb24gfSBmcm9tICdAL2xpYi91dGlscydcbmltcG9ydCB0eXBlIHsgR2FtZURhdGEsIEN1c3RvbVN0eWxlcyB9IGZyb20gJ0AvbGliL3N0b3JlJ1xuXG5pbnRlcmZhY2UgRXZhbEJhclByb3BzIHtcbiAgZ2FtZTogR2FtZURhdGFcbiAgc3R5bGVzOiBDdXN0b21TdHlsZXNcbiAgb25SZW1vdmU/OiAoKSA9PiB2b2lkXG4gIHNob3dSZW1vdmVCdXR0b24/OiBib29sZWFuXG4gIGNvbXBhY3Q/OiBib29sZWFuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFdmFsQmFyKHsgZ2FtZSwgc3R5bGVzLCBvblJlbW92ZSwgc2hvd1JlbW92ZUJ1dHRvbiA9IGZhbHNlLCBjb21wYWN0ID0gZmFsc2UgfTogRXZhbEJhclByb3BzKSB7XG4gIGNvbnN0IFt0aW1lUGFzc2VkLCBzZXRUaW1lUGFzc2VkXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFtpc0JsdW5kZXJpbmcsIHNldElzQmx1bmRlcmluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3Nob3dSZXN1bHRGbGFzaCwgc2V0U2hvd1Jlc3VsdEZsYXNoXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBwcmV2RXZhbFJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBwcmV2UmVzdWx0UmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGludGVydmFsUmVmID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldEludGVydmFsPiB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGF1ZGlvUmVmID0gdXNlUmVmPEhUTUxBdWRpb0VsZW1lbnQgfCBudWxsPihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXVkaW9SZWYuY3VycmVudCA9IG5ldyBBdWRpbygnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSbm9HQUFCWFFWWkZabTEwSUJBQUFBQUJBQUVBUUI4QUFFQWZBQUFCQUFnQVpHRjBZUW9HQUFDQmhZcUZiRjFmZEgyTGtaV1RpNEo4ZVg2RmpvK05pSUY0YzNWOWg0NlNrSTJHZlhoMWVvS0xrWk9RaTRON2RuUjVnb3lTbEpDS2ducDBkSG1EalpTVWtJbUFlSE4wZVlPTms1S1BpSDk1ZEhaN2hJNlRrWTJGZkhkMGVIMkdqNUtRaklSN2QzVjVmNGlSazVHTWczdDJkWG1BaVpPVGtZdUNlblYxZVlHS2s1T1Jpb0Y1ZFhWNWdvbVRrNUdLZ0hsMWRYcUNpcE9Ua1lwL2VIVjFlb0tMazVPUmlYNTRkWFo2ZzR5VGtwQ0lmM2gxZG5xRGpKT1NrSWgrZUhWMmVvU01rNUtRaDMnKVxuICB9LCBbXSlcblxuICAvLyBCbHVuZGVyIGRldGVjdGlvblxuICBjb25zdCBoYW5kbGVCbHVuZGVyQ2hlY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHByZXZFdmFsUmVmLmN1cnJlbnQgIT09IG51bGwgJiYgZ2FtZS5ldmFsdWF0aW9uICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBwcmV2RXZhbCA9IHByZXZFdmFsUmVmLmN1cnJlbnRcbiAgICAgIGNvbnN0IGV2YWxEaWZmID0gTWF0aC5hYnMoZ2FtZS5ldmFsdWF0aW9uIC0gcHJldkV2YWwpXG4gICAgICBpZiAoZXZhbERpZmYgPj0gMiAmJiBwcmV2RXZhbCA+PSAtNCAmJiBwcmV2RXZhbCA8PSA0KSB7XG4gICAgICAgIHNldElzQmx1bmRlcmluZyh0cnVlKVxuICAgICAgICBhdWRpb1JlZi5jdXJyZW50Py5wbGF5KCkuY2F0Y2goKCkgPT4ge30pXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNCbHVuZGVyaW5nKGZhbHNlKSwgNTAwMClcbiAgICAgIH1cbiAgICB9XG4gICAgcHJldkV2YWxSZWYuY3VycmVudCA9IGdhbWUuZXZhbHVhdGlvblxuICB9LCBbZ2FtZS5ldmFsdWF0aW9uXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGhhbmRsZUJsdW5kZXJDaGVjaygpXG4gIH0sIFtoYW5kbGVCbHVuZGVyQ2hlY2tdKVxuXG4gIC8vIFJlc3VsdCBkZXRlY3Rpb25cbiAgY29uc3QgaGFuZGxlUmVzdWx0Q2hlY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHByZXZSZXN1bHRSZWYuY3VycmVudCA9PT0gbnVsbCAmJiBnYW1lLnJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgc2V0U2hvd1Jlc3VsdEZsYXNoKHRydWUpXG4gICAgICBhdWRpb1JlZi5jdXJyZW50Py5wbGF5KCkuY2F0Y2goKCkgPT4ge30pXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dSZXN1bHRGbGFzaChmYWxzZSksIDUwMDApXG4gICAgfVxuICAgIHByZXZSZXN1bHRSZWYuY3VycmVudCA9IGdhbWUucmVzdWx0XG4gIH0sIFtnYW1lLnJlc3VsdF0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBoYW5kbGVSZXN1bHRDaGVjaygpXG4gIH0sIFtoYW5kbGVSZXN1bHRDaGVja10pXG5cbiAgLy8gQ2xvY2sgY291bnRkb3duXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudClcbiAgICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgfVxuICAgIFxuICAgIGlmIChnYW1lLnR1cm4gJiYgIWdhbWUucmVzdWx0KSB7XG4gICAgICBzZXRUaW1lUGFzc2VkKDApXG4gICAgICBpbnRlcnZhbFJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBzZXRUaW1lUGFzc2VkKHByZXYgPT4gcHJldiArIDEpXG4gICAgICB9LCAxMDAwKVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFJlZi5jdXJyZW50KVxuICAgICAgICBpbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgfSwgW2dhbWUudHVybiwgZ2FtZS5yZXN1bHQsIGdhbWUud2hpdGVUaW1lLCBnYW1lLmJsYWNrVGltZV0pXG5cbiAgY29uc3Qgd2hpdGVUaW1lID0gZ2FtZS50dXJuID09PSAnd2hpdGUnID8gTWF0aC5tYXgoMCwgZ2FtZS53aGl0ZVRpbWUgLSB0aW1lUGFzc2VkKSA6IGdhbWUud2hpdGVUaW1lXG4gIGNvbnN0IGJsYWNrVGltZSA9IGdhbWUudHVybiA9PT0gJ2JsYWNrJyA/IE1hdGgubWF4KDAsIGdhbWUuYmxhY2tUaW1lIC0gdGltZVBhc3NlZCkgOiBnYW1lLmJsYWNrVGltZVxuICBjb25zdCBpc1doaXRlTG93VGltZSA9IHdoaXRlVGltZSA8PSAzMFxuICBjb25zdCBpc0JsYWNrTG93VGltZSA9IGJsYWNrVGltZSA8PSAzMFxuXG4gIGNvbnN0IGhhc1Jlc3VsdCA9IGdhbWUucmVzdWx0ICE9PSBudWxsXG5cbiAgY29uc3QgZ2V0UmVzdWx0RGlzcGxheSA9ICgpID0+IHtcbiAgICBpZiAoIWdhbWUucmVzdWx0KSByZXR1cm4gbnVsbFxuICAgIGlmIChnYW1lLnJlc3VsdCA9PT0gJzEtMCcpIHJldHVybiB7IHRleHQ6ICcxLTAnLCBjb2xvcjogJyNmZmZmZmYnLCBsYWJlbDogJ1doaXRlIHdpbnMnIH1cbiAgICBpZiAoZ2FtZS5yZXN1bHQgPT09ICcwLTEnKSByZXR1cm4geyB0ZXh0OiAnMC0xJywgY29sb3I6ICcjRTc5RDI5JywgbGFiZWw6ICdCbGFjayB3aW5zJyB9XG4gICAgaWYgKGdhbWUucmVzdWx0ID09PSAnRHJhdycgfHwgZ2FtZS5yZXN1bHQgPT09ICcxLzItMS8yJykgcmV0dXJuIHsgdGV4dDogJ8K9LcK9JywgY29sb3I6ICcjODg4ODg4JywgbGFiZWw6ICdEcmF3JyB9XG4gICAgcmV0dXJuIHsgdGV4dDogZ2FtZS5yZXN1bHQsIGNvbG9yOiAnI2ZmZmZmZicsIGxhYmVsOiAnJyB9XG4gIH1cblxuICBjb25zdCByZXN1bHRJbmZvID0gZ2V0UmVzdWx0RGlzcGxheSgpXG4gIGNvbnN0IGJhckhlaWdodCA9IGNvbXBhY3QgPyBNYXRoLm1heCg4LCBzdHlsZXMuYmFySGVpZ2h0IC0gNCkgOiBzdHlsZXMuYmFySGVpZ2h0XG4gIGNvbnN0IGZvbnRTaXplID0gY29tcGFjdCA/IE1hdGgubWF4KDEwLCBzdHlsZXMuZm9udFNpemUgLSAyKSA6IHN0eWxlcy5mb250U2l6ZVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJyZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHAtMS41IHJvdW5kZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCIsXG4gICAgICAgIGlzQmx1bmRlcmluZyAmJiBcInJpbmctMiByaW5nLXJlZC01MDAgYW5pbWF0ZS1wdWxzZVwiLFxuICAgICAgICBzaG93UmVzdWx0Rmxhc2ggJiYgXCJyaW5nLTIgcmluZy15ZWxsb3ctNDAwIGFuaW1hdGUtcHVsc2VcIlxuICAgICAgKX1cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogc3R5bGVzLmV2YWxDb250YWluZXJCZyxcbiAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7c3R5bGVzLmV2YWxDb250YWluZXJCb3JkZXJDb2xvcn1gLFxuICAgICAgICBtaW5XaWR0aDogY29tcGFjdCA/ICcxMjBweCcgOiAnMTgwcHgnLFxuICAgICAgICBtYXhXaWR0aDogY29tcGFjdCA/ICcyMDBweCcgOiAnMjgwcHgnLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7c2hvd1JlbW92ZUJ1dHRvbiAmJiBvblJlbW92ZSAmJiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvblJlbW92ZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTEgLXJpZ2h0LTEgdy00IGgtNCBiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC02MDAgcm91bmRlZC1mdWxsIHRleHQtd2hpdGUgdGV4dC1bMTBweF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei0xMFwiXG4gICAgICAgID5cbiAgICAgICAgICDDl1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTAuNVwiPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0cnVuY2F0ZSB0ZXh0LXhzIGxlYWRpbmctdGlnaHQgcHgtMVwiXG4gICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICBjb2xvcjogc3R5bGVzLndoaXRlUGxheWVyTmFtZUNvbG9yLCBcbiAgICAgICAgICAgIG1heFdpZHRoOiAnNDUlJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiBgJHtmb250U2l6ZX1weGBcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2Zvcm1hdFBsYXllck5hbWUoZ2FtZS53aGl0ZVBsYXllcil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9XCJmb250LWJvbGQgdHJ1bmNhdGUgdGV4dC14cyBsZWFkaW5nLXRpZ2h0IHB4LTEgdGV4dC1yaWdodFwiXG4gICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICBjb2xvcjogc3R5bGVzLmJsYWNrUGxheWVyTmFtZUNvbG9yLCBcbiAgICAgICAgICAgIG1heFdpZHRoOiAnNDUlJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiBgJHtmb250U2l6ZX1weGBcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2Zvcm1hdFBsYXllck5hbWUoZ2FtZS5ibGFja1BsYXllcil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7c3R5bGVzLnNob3dDbG9ja3MgJiYgIWhhc1Jlc3VsdCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTAuNVwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFwiZm9udC1tb25vIHRleHQtWzEwcHhdIGxlYWRpbmctbm9uZSB0YWJ1bGFyLW51bXMgcHgtMVwiLCBpc1doaXRlTG93VGltZSAmJiBcInRleHQtcmVkLTUwMCBmb250LWJvbGRcIil9XG4gICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgY29sb3I6IGlzV2hpdGVMb3dUaW1lID8gdW5kZWZpbmVkIDogc3R5bGVzLndoaXRlUGxheWVyTmFtZUNvbG9yLFxuICAgICAgICAgICAgICBmb250U2l6ZTogYCR7Zm9udFNpemUgLSAyfXB4YFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Zm9ybWF0Q2xvY2sod2hpdGVUaW1lKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTAgaC0wIGJvcmRlci15LVs0cHhdIGJvcmRlci15LXRyYW5zcGFyZW50IGJvcmRlci1yLVs2cHhdXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBib3JkZXJSaWdodENvbG9yOiBzdHlsZXMubW92ZUluZGljYXRvckNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGdhbWUudHVybiA9PT0gJ3doaXRlJyA/IDEgOiAwLjMsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7c3R5bGVzLnNob3dNb3ZlTnVtYmVyICYmIChcbiAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LVsxMHB4XSBmb250LWJvbGQgbWluLXctWzE0cHhdIHRleHQtY2VudGVyXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogYCR7Zm9udFNpemUgLSAyfXB4YCB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dhbWUubW92ZU51bWJlciB8fCAnLSd9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0wIGgtMCBib3JkZXIteS1bNHB4XSBib3JkZXIteS10cmFuc3BhcmVudCBib3JkZXItbC1bNnB4XVwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYm9yZGVyTGVmdENvbG9yOiBzdHlsZXMubW92ZUluZGljYXRvckNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGdhbWUudHVybiA9PT0gJ2JsYWNrJyA/IDEgOiAwLjMsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFwiZm9udC1tb25vIHRleHQtWzEwcHhdIGxlYWRpbmctbm9uZSB0YWJ1bGFyLW51bXMgcHgtMVwiLCBpc0JsYWNrTG93VGltZSAmJiBcInRleHQtcmVkLTUwMCBmb250LWJvbGRcIil9XG4gICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgY29sb3I6IGlzQmxhY2tMb3dUaW1lID8gdW5kZWZpbmVkIDogc3R5bGVzLmJsYWNrUGxheWVyTmFtZUNvbG9yLFxuICAgICAgICAgICAgICBmb250U2l6ZTogYCR7Zm9udFNpemUgLSAyfXB4YFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Zm9ybWF0Q2xvY2soYmxhY2tUaW1lKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge2hhc1Jlc3VsdCA/IChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xIHJvdW5kZWRcIlxuICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC4zKScgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRyYWNraW5nLXdpZGVyXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICBjb2xvcjogcmVzdWx0SW5mbz8uY29sb3IsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiBgJHtmb250U2l6ZSArIDJ9cHhgXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtyZXN1bHRJbmZvPy50ZXh0fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG92ZXJmbG93LWhpZGRlbiByZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGhlaWdodDogYCR7YmFySGVpZ2h0fXB4YCxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogYCR7c3R5bGVzLmJhckJvcmRlclJhZGl1c31weGAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHN0eWxlcy5ibGFja0JhckNvbG9yLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAgdG9wLTAgaC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTcwMCBlYXNlLW91dFwiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICB3aWR0aDogZ2V0RXZhbEJhcldpZHRoKGdhbWUuZXZhbHVhdGlvbiwgZ2FtZS5yZXN1bHQpLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHN0eWxlcy53aGl0ZUJhckNvbG9yLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGJvdHRvbS0wIHctcHggYmctYmxhY2svNDBcIlxuICAgICAgICAgICAgc3R5bGU9e3sgbGVmdDogJzUwJScgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMCBmb250LWJvbGQgdGFidWxhci1udW1zXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICBjb2xvcjogJyMwMDAnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogYCR7Zm9udFNpemV9cHhgLFxuICAgICAgICAgICAgICB0ZXh0U2hhZG93OiAnMCAwIDRweCByZ2JhKDI1NSwyNTUsMjU1LDAuOSksIDAgMCAycHggcmdiYSgyNTUsMjU1LDI1NSwxKSdcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2Zvcm1hdEV2YWx1YXRpb24oZ2FtZS5ldmFsdWF0aW9uKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge2lzQmx1bmRlcmluZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0yIC1yaWdodC0yIGJnLXJlZC02MDAgdGV4dC13aGl0ZSB0ZXh0LVsxMHB4XSBmb250LWJvbGQgcHgtMS41IHB5LTAuNSByb3VuZGVkIGFuaW1hdGUtYm91bmNlXCI+XG4gICAgICAgICAgPz9cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsImNuIiwiZm9ybWF0UGxheWVyTmFtZSIsImZvcm1hdENsb2NrIiwiZ2V0RXZhbEJhcldpZHRoIiwiZm9ybWF0RXZhbHVhdGlvbiIsIkV2YWxCYXIiLCJnYW1lIiwic3R5bGVzIiwib25SZW1vdmUiLCJzaG93UmVtb3ZlQnV0dG9uIiwiY29tcGFjdCIsInRpbWVQYXNzZWQiLCJzZXRUaW1lUGFzc2VkIiwiaXNCbHVuZGVyaW5nIiwic2V0SXNCbHVuZGVyaW5nIiwic2hvd1Jlc3VsdEZsYXNoIiwic2V0U2hvd1Jlc3VsdEZsYXNoIiwicHJldkV2YWxSZWYiLCJwcmV2UmVzdWx0UmVmIiwiaW50ZXJ2YWxSZWYiLCJhdWRpb1JlZiIsImN1cnJlbnQiLCJBdWRpbyIsImhhbmRsZUJsdW5kZXJDaGVjayIsImV2YWx1YXRpb24iLCJwcmV2RXZhbCIsImV2YWxEaWZmIiwiTWF0aCIsImFicyIsInBsYXkiLCJjYXRjaCIsInNldFRpbWVvdXQiLCJoYW5kbGVSZXN1bHRDaGVjayIsInJlc3VsdCIsImNsZWFySW50ZXJ2YWwiLCJ0dXJuIiwic2V0SW50ZXJ2YWwiLCJwcmV2Iiwid2hpdGVUaW1lIiwiYmxhY2tUaW1lIiwibWF4IiwiaXNXaGl0ZUxvd1RpbWUiLCJpc0JsYWNrTG93VGltZSIsImhhc1Jlc3VsdCIsImdldFJlc3VsdERpc3BsYXkiLCJ0ZXh0IiwiY29sb3IiLCJsYWJlbCIsInJlc3VsdEluZm8iLCJiYXJIZWlnaHQiLCJmb250U2l6ZSIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiZXZhbENvbnRhaW5lckJnIiwiYm9yZGVyIiwiZXZhbENvbnRhaW5lckJvcmRlckNvbG9yIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzcGFuIiwid2hpdGVQbGF5ZXJOYW1lQ29sb3IiLCJ3aGl0ZVBsYXllciIsImJsYWNrUGxheWVyTmFtZUNvbG9yIiwiYmxhY2tQbGF5ZXIiLCJzaG93Q2xvY2tzIiwidW5kZWZpbmVkIiwiYm9yZGVyUmlnaHRDb2xvciIsIm1vdmVJbmRpY2F0b3JDb2xvciIsIm9wYWNpdHkiLCJzaG93TW92ZU51bWJlciIsIm1vdmVOdW1iZXIiLCJib3JkZXJMZWZ0Q29sb3IiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJiYXJCb3JkZXJSYWRpdXMiLCJibGFja0JhckNvbG9yIiwid2lkdGgiLCJ3aGl0ZUJhckNvbG9yIiwibGVmdCIsInRleHRTaGFkb3ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/_components/EvalBar.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/b/[state]/page.tsx":
/*!************************************!*\
  !*** ./src/app/b/[state]/page.tsx ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BroadcastPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/store */ \"(app-pages-browser)/./src/lib/store.ts\");\n/* harmony import */ var _app_components_EvalBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/app/_components/EvalBar */ \"(app-pages-browser)/./src/app/_components/EvalBar.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction BroadcastPage(param) {\n    let { params } = param;\n    _s();\n    const resolvedParams = (0,react__WEBPACK_IMPORTED_MODULE_1__.use)(params);\n    const stateData = resolvedParams.state;\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const loadFromUrl = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore)({\n        \"BroadcastPage.useEvalStore[loadFromUrl]\": (state)=>state.loadFromUrl\n    }[\"BroadcastPage.useEvalStore[loadFromUrl]\"]);\n    const backgroundMode = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore)({\n        \"BroadcastPage.useEvalStore[backgroundMode]\": (state)=>state.backgroundMode\n    }[\"BroadcastPage.useEvalStore[backgroundMode]\"]);\n    const setBroadcastMode = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore)({\n        \"BroadcastPage.useEvalStore[setBroadcastMode]\": (state)=>state.setBroadcastMode\n    }[\"BroadcastPage.useEvalStore[setBroadcastMode]\"]);\n    const games = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore)({\n        \"BroadcastPage.useEvalStore[games]\": (state)=>state.games\n    }[\"BroadcastPage.useEvalStore[games]\"]);\n    const customStyles = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore)({\n        \"BroadcastPage.useEvalStore[customStyles]\": (state)=>state.customStyles\n    }[\"BroadcastPage.useEvalStore[customStyles]\"]);\n    const stopPolling = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore)({\n        \"BroadcastPage.useEvalStore[stopPolling]\": (state)=>state.stopPolling\n    }[\"BroadcastPage.useEvalStore[stopPolling]\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BroadcastPage.useEffect\": ()=>{\n            if (!stateData) {\n                router.push('/');\n                return;\n            }\n            setBroadcastMode(true);\n            loadFromUrl(stateData).then({\n                \"BroadcastPage.useEffect\": (success)=>{\n                    if (!success) {\n                        setError('Failed to load broadcast data');\n                    }\n                    setLoading(false);\n                }\n            }[\"BroadcastPage.useEffect\"]).catch({\n                \"BroadcastPage.useEffect\": (err)=>{\n                    console.error('Failed to load broadcast:', err);\n                    setError('Failed to load broadcast data');\n                    setLoading(false);\n                }\n            }[\"BroadcastPage.useEffect\"]);\n            return ({\n                \"BroadcastPage.useEffect\": ()=>{\n                    stopPolling();\n                }\n            })[\"BroadcastPage.useEffect\"];\n        }\n    }[\"BroadcastPage.useEffect\"], [\n        stateData,\n        router,\n        loadFromUrl,\n        setBroadcastMode,\n        stopPolling\n    ]);\n    const bgClass = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(backgroundMode === 'chroma' && 'bg-[#00ff00]', backgroundMode === 'transparent' && 'bg-transparent', backgroundMode === 'dark' && 'bg-[#0a0a0a]');\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"min-h-screen w-full flex items-center justify-center\", bgClass),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-white\"\n            }, void 0, false, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n                lineNumber: 63,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n            lineNumber: 62,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"min-h-screen w-full flex items-center justify-center\", bgClass),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-white text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xl mb-2\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n                        lineNumber: 72,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>router.push('/'),\n                        className: \"underline\",\n                        children: \"Go back\"\n                    }, void 0, false, {\n                        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n                        lineNumber: 73,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n                lineNumber: 71,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n            lineNumber: 70,\n            columnNumber: 7\n        }, this);\n    }\n    if (games.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"min-h-screen w-full flex items-center justify-center\", bgClass),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-white/50 text-sm\",\n                children: \"Waiting for games...\"\n            }, void 0, false, {\n                fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n                lineNumber: 82,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n            lineNumber: 81,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"min-h-screen w-full p-2\", bgClass),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full grid gap-2\",\n            style: {\n                gridTemplateColumns: \"repeat(\".concat(games.length, \", 1fr)\")\n            },\n            children: games.map((game)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_app_components_EvalBar__WEBPACK_IMPORTED_MODULE_4__.EvalBar, {\n                    game: game,\n                    styles: customStyles,\n                    showRemoveButton: false\n                }, \"\".concat(game.whitePlayer, \"-\").concat(game.blackPlayer), false, {\n                    fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n                    lineNumber: 96,\n                    columnNumber: 11\n                }, this))\n        }, void 0, false, {\n            fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n            lineNumber: 89,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/rakshit/workspace/archives/repos/chess/eval-bar/src/app/b/[state]/page.tsx\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, this);\n}\n_s(BroadcastPage, \"r4+QiyOCJIpjM5NLGekYorJBFMI=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore,\n        _lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore,\n        _lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore,\n        _lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore,\n        _lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore,\n        _lib_store__WEBPACK_IMPORTED_MODULE_3__.useEvalStore\n    ];\n});\n_c = BroadcastPage;\nvar _c;\n$RefreshReg$(_c, \"BroadcastPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYi9bc3RhdGVdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFZ0Q7QUFDTDtBQUNEO0FBQ1M7QUFDbkI7QUFNakIsU0FBU08sY0FBYyxLQUFxQjtRQUFyQixFQUFFQyxNQUFNLEVBQWEsR0FBckI7O0lBQ3BDLE1BQU1DLGlCQUFpQlAsMENBQUdBLENBQUNNO0lBQzNCLE1BQU1FLFlBQVlELGVBQWVFLEtBQUs7SUFDdEMsTUFBTUMsU0FBU1QsMERBQVNBO0lBRXhCLE1BQU0sQ0FBQ1UsU0FBU0MsV0FBVyxHQUFHYiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNjLE9BQU9DLFNBQVMsR0FBR2YsK0NBQVFBLENBQWdCO0lBRWxELE1BQU1nQixjQUFjYix3REFBWUE7bURBQUNPLENBQUFBLFFBQVNBLE1BQU1NLFdBQVc7O0lBQzNELE1BQU1DLGlCQUFpQmQsd0RBQVlBO3NEQUFDTyxDQUFBQSxRQUFTQSxNQUFNTyxjQUFjOztJQUNqRSxNQUFNQyxtQkFBbUJmLHdEQUFZQTt3REFBQ08sQ0FBQUEsUUFBU0EsTUFBTVEsZ0JBQWdCOztJQUNyRSxNQUFNQyxRQUFRaEIsd0RBQVlBOzZDQUFDTyxDQUFBQSxRQUFTQSxNQUFNUyxLQUFLOztJQUMvQyxNQUFNQyxlQUFlakIsd0RBQVlBO29EQUFDTyxDQUFBQSxRQUFTQSxNQUFNVSxZQUFZOztJQUM3RCxNQUFNQyxjQUFjbEIsd0RBQVlBO21EQUFDTyxDQUFBQSxRQUFTQSxNQUFNVyxXQUFXOztJQUUzRHRCLGdEQUFTQTttQ0FBQztZQUNSLElBQUksQ0FBQ1UsV0FBVztnQkFDZEUsT0FBT1csSUFBSSxDQUFDO2dCQUNaO1lBQ0Y7WUFFQUosaUJBQWlCO1lBRWpCRixZQUFZUCxXQUNUYyxJQUFJOzJDQUFDLENBQUNDO29CQUNMLElBQUksQ0FBQ0EsU0FBUzt3QkFDWlQsU0FBUztvQkFDWDtvQkFDQUYsV0FBVztnQkFDYjswQ0FDQ1ksS0FBSzsyQ0FBQyxDQUFDQztvQkFDTkMsUUFBUWIsS0FBSyxDQUFDLDZCQUE2Qlk7b0JBQzNDWCxTQUFTO29CQUNURixXQUFXO2dCQUNiOztZQUVGOzJDQUFPO29CQUNMUTtnQkFDRjs7UUFDRjtrQ0FBRztRQUFDWjtRQUFXRTtRQUFRSztRQUFhRTtRQUFrQkc7S0FBWTtJQUVsRSxNQUFNTyxVQUFVdkIsOENBQUVBLENBQ2hCWSxtQkFBbUIsWUFBWSxnQkFDL0JBLG1CQUFtQixpQkFBaUIsa0JBQ3BDQSxtQkFBbUIsVUFBVTtJQUcvQixJQUFJTCxTQUFTO1FBQ1gscUJBQ0UsOERBQUNpQjtZQUFJQyxXQUFXekIsOENBQUVBLENBQUMsd0RBQXdEdUI7c0JBQ3pFLDRFQUFDQztnQkFBSUMsV0FBVTs7Ozs7Ozs7Ozs7SUFHckI7SUFFQSxJQUFJaEIsT0FBTztRQUNULHFCQUNFLDhEQUFDZTtZQUFJQyxXQUFXekIsOENBQUVBLENBQUMsd0RBQXdEdUI7c0JBQ3pFLDRFQUFDQztnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNDO3dCQUFFRCxXQUFVO2tDQUFnQmhCOzs7Ozs7a0NBQzdCLDhEQUFDa0I7d0JBQU9DLFNBQVMsSUFBTXRCLE9BQU9XLElBQUksQ0FBQzt3QkFBTVEsV0FBVTtrQ0FBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJdkU7SUFFQSxJQUFJWCxNQUFNZSxNQUFNLEtBQUssR0FBRztRQUN0QixxQkFDRSw4REFBQ0w7WUFBSUMsV0FBV3pCLDhDQUFFQSxDQUFDLHdEQUF3RHVCO3NCQUN6RSw0RUFBQ0M7Z0JBQUlDLFdBQVU7MEJBQXdCOzs7Ozs7Ozs7OztJQUc3QztJQUVBLHFCQUNFLDhEQUFDRDtRQUFJQyxXQUFXekIsOENBQUVBLENBQUMsMkJBQTJCdUI7a0JBQzVDLDRFQUFDQztZQUNDQyxXQUFVO1lBQ1ZLLE9BQU87Z0JBQ0xDLHFCQUFxQixVQUF1QixPQUFiakIsTUFBTWUsTUFBTSxFQUFDO1lBQzlDO3NCQUVDZixNQUFNa0IsR0FBRyxDQUFDLENBQUNDLHFCQUNWLDhEQUFDbEMsNERBQU9BO29CQUVOa0MsTUFBTUE7b0JBQ05DLFFBQVFuQjtvQkFDUm9CLGtCQUFrQjttQkFIYixHQUF1QkYsT0FBcEJBLEtBQUtHLFdBQVcsRUFBQyxLQUFvQixPQUFqQkgsS0FBS0ksV0FBVzs7Ozs7Ozs7Ozs7Ozs7O0FBU3hEO0dBN0Z3QnBDOztRQUdQSixzREFBU0E7UUFLSkMsb0RBQVlBO1FBQ1RBLG9EQUFZQTtRQUNWQSxvREFBWUE7UUFDdkJBLG9EQUFZQTtRQUNMQSxvREFBWUE7UUFDYkEsb0RBQVlBOzs7S0FiVkciLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9zcmMvYXBwL2IvW3N0YXRlXS9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nXG5pbXBvcnQgeyB1c2VFdmFsU3RvcmUgfSBmcm9tICdAL2xpYi9zdG9yZSdcbmltcG9ydCB7IEV2YWxCYXIgfSBmcm9tICdAL2FwcC9fY29tcG9uZW50cy9FdmFsQmFyJ1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscydcblxuaW50ZXJmYWNlIFBhZ2VQcm9wcyB7XG4gIHBhcmFtczogUHJvbWlzZTx7IHN0YXRlOiBzdHJpbmcgfT5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQnJvYWRjYXN0UGFnZSh7IHBhcmFtcyB9OiBQYWdlUHJvcHMpIHtcbiAgY29uc3QgcmVzb2x2ZWRQYXJhbXMgPSB1c2UocGFyYW1zKVxuICBjb25zdCBzdGF0ZURhdGEgPSByZXNvbHZlZFBhcmFtcy5zdGF0ZVxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuICBcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gIGNvbnN0IGxvYWRGcm9tVXJsID0gdXNlRXZhbFN0b3JlKHN0YXRlID0+IHN0YXRlLmxvYWRGcm9tVXJsKVxuICBjb25zdCBiYWNrZ3JvdW5kTW9kZSA9IHVzZUV2YWxTdG9yZShzdGF0ZSA9PiBzdGF0ZS5iYWNrZ3JvdW5kTW9kZSlcbiAgY29uc3Qgc2V0QnJvYWRjYXN0TW9kZSA9IHVzZUV2YWxTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zZXRCcm9hZGNhc3RNb2RlKVxuICBjb25zdCBnYW1lcyA9IHVzZUV2YWxTdG9yZShzdGF0ZSA9PiBzdGF0ZS5nYW1lcylcbiAgY29uc3QgY3VzdG9tU3R5bGVzID0gdXNlRXZhbFN0b3JlKHN0YXRlID0+IHN0YXRlLmN1c3RvbVN0eWxlcylcbiAgY29uc3Qgc3RvcFBvbGxpbmcgPSB1c2VFdmFsU3RvcmUoc3RhdGUgPT4gc3RhdGUuc3RvcFBvbGxpbmcpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXN0YXRlRGF0YSkge1xuICAgICAgcm91dGVyLnB1c2goJy8nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0QnJvYWRjYXN0TW9kZSh0cnVlKVxuICAgIFxuICAgIGxvYWRGcm9tVXJsKHN0YXRlRGF0YSlcbiAgICAgIC50aGVuKChzdWNjZXNzKSA9PiB7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gbG9hZCBicm9hZGNhc3QgZGF0YScpXG4gICAgICAgIH1cbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBicm9hZGNhc3Q6JywgZXJyKVxuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvYWQgYnJvYWRjYXN0IGRhdGEnKVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgfSlcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdG9wUG9sbGluZygpXG4gICAgfVxuICB9LCBbc3RhdGVEYXRhLCByb3V0ZXIsIGxvYWRGcm9tVXJsLCBzZXRCcm9hZGNhc3RNb2RlLCBzdG9wUG9sbGluZ10pXG5cbiAgY29uc3QgYmdDbGFzcyA9IGNuKFxuICAgIGJhY2tncm91bmRNb2RlID09PSAnY2hyb21hJyAmJiAnYmctWyMwMGZmMDBdJyxcbiAgICBiYWNrZ3JvdW5kTW9kZSA9PT0gJ3RyYW5zcGFyZW50JyAmJiAnYmctdHJhbnNwYXJlbnQnLFxuICAgIGJhY2tncm91bmRNb2RlID09PSAnZGFyaycgJiYgJ2JnLVsjMGEwYTBhXSdcbiAgKVxuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbihcIm1pbi1oLXNjcmVlbiB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiwgYmdDbGFzcyl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci13aGl0ZVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbihcIm1pbi1oLXNjcmVlbiB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiwgYmdDbGFzcyl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIG1iLTJcIj57ZXJyb3J9PC9wPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goJy8nKX0gY2xhc3NOYW1lPVwidW5kZXJsaW5lXCI+R28gYmFjazwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGlmIChnYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKFwibWluLWgtc2NyZWVuIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiLCBiZ0NsYXNzKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS81MCB0ZXh0LXNtXCI+V2FpdGluZyBmb3IgZ2FtZXMuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NuKFwibWluLWgtc2NyZWVuIHctZnVsbCBwLTJcIiwgYmdDbGFzcyl9PlxuICAgICAgPGRpdiBcbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGdyaWQgZ2FwLTJcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IGByZXBlYXQoJHtnYW1lcy5sZW5ndGh9LCAxZnIpYCxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge2dhbWVzLm1hcCgoZ2FtZSkgPT4gKFxuICAgICAgICAgIDxFdmFsQmFyXG4gICAgICAgICAgICBrZXk9e2Ake2dhbWUud2hpdGVQbGF5ZXJ9LSR7Z2FtZS5ibGFja1BsYXllcn1gfVxuICAgICAgICAgICAgZ2FtZT17Z2FtZX1cbiAgICAgICAgICAgIHN0eWxlcz17Y3VzdG9tU3R5bGVzfVxuICAgICAgICAgICAgc2hvd1JlbW92ZUJ1dHRvbj17ZmFsc2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlIiwidXNlUm91dGVyIiwidXNlRXZhbFN0b3JlIiwiRXZhbEJhciIsImNuIiwiQnJvYWRjYXN0UGFnZSIsInBhcmFtcyIsInJlc29sdmVkUGFyYW1zIiwic3RhdGVEYXRhIiwic3RhdGUiLCJyb3V0ZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJsb2FkRnJvbVVybCIsImJhY2tncm91bmRNb2RlIiwic2V0QnJvYWRjYXN0TW9kZSIsImdhbWVzIiwiY3VzdG9tU3R5bGVzIiwic3RvcFBvbGxpbmciLCJwdXNoIiwidGhlbiIsInN1Y2Nlc3MiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJiZ0NsYXNzIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJsZW5ndGgiLCJzdHlsZSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJtYXAiLCJnYW1lIiwic3R5bGVzIiwic2hvd1JlbW92ZUJ1dHRvbiIsIndoaXRlUGxheWVyIiwiYmxhY2tQbGF5ZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/b/[state]/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/store.ts":
/*!**************************!*\
  !*** ./src/lib/store.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultStyles: () => (/* binding */ defaultStyles),\n/* harmony export */   useEvalStore: () => (/* binding */ useEvalStore)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/zustand/esm/react.mjs\");\n/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand/middleware */ \"(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* harmony import */ var chessops_pgn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! chessops/pgn */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/pgn.js\");\n/* harmony import */ var chessops_san__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! chessops/san */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/san.js\");\n/* harmony import */ var chessops_fen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! chessops/fen */ \"(app-pages-browser)/./node_modules/chessops/dist/esm/fen.js\");\n\n\n\n\n\n\nconst defaultStyles = {\n    evalContainerBg: '#1a1a2e',\n    blackBarColor: '#E79D29',\n    whiteBarColor: '#ffffff',\n    whitePlayerColor: 'transparent',\n    blackPlayerColor: 'transparent',\n    whitePlayerNameColor: '#ffffff',\n    blackPlayerNameColor: '#E79D29',\n    evalContainerBorderColor: '#3a3a5e',\n    moveIndicatorColor: '#FFA500',\n    barHeight: 14,\n    barBorderRadius: 4,\n    fontSize: 14,\n    showClocks: true,\n    showMoveNumber: true\n};\nconst useEvalStore = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_2__.persist)((set, get)=>({\n        currentTournament: null,\n        currentRoundId: null,\n        availableGames: [],\n        games: [],\n        customStyles: defaultStyles,\n        isBroadcastMode: false,\n        backgroundMode: 'chroma',\n        columns: 6,\n        pollingInterval: null,\n        streamReader: null,\n        setTournament: (tournament, roundId)=>{\n            get().stopPolling();\n            set({\n                currentTournament: tournament,\n                currentRoundId: roundId,\n                games: [],\n                availableGames: [],\n                isBroadcastMode: false\n            });\n            get().startPolling();\n        },\n        setRoundId: (roundId)=>{\n            get().stopPolling();\n            set({\n                currentRoundId: roundId,\n                games: [],\n                availableGames: []\n            });\n            get().startPolling();\n        },\n        addGame: (whitePlayer, blackPlayer)=>{\n            const { games } = get();\n            if (games.some((g)=>g.whitePlayer === whitePlayer && g.blackPlayer === blackPlayer)) {\n                return;\n            }\n            const newGame = {\n                whitePlayer,\n                blackPlayer,\n                evaluation: null,\n                lastFEN: '',\n                result: null,\n                whiteTime: 0,\n                blackTime: 0,\n                turn: '',\n                moveNumber: 0\n            };\n            set({\n                games: [\n                    ...games,\n                    newGame\n                ]\n            });\n        },\n        removeGame: (index)=>{\n            set({\n                games: get().games.filter((_, i)=>i !== index)\n            });\n        },\n        clearGames: ()=>{\n            set({\n                games: []\n            });\n        },\n        setCustomStyles: (styles)=>{\n            set({\n                customStyles: {\n                    ...get().customStyles,\n                    ...styles\n                }\n            });\n        },\n        resetStyles: ()=>{\n            set({\n                customStyles: defaultStyles\n            });\n        },\n        setBroadcastMode: (mode)=>{\n            set({\n                isBroadcastMode: mode\n            });\n        },\n        setBackgroundMode: (mode)=>{\n            set({\n                backgroundMode: mode\n            });\n        },\n        setColumns: (cols)=>{\n            set({\n                columns: cols\n            });\n        },\n        startPolling: ()=>{\n            const { currentRoundId, pollingInterval } = get();\n            if (!currentRoundId) return;\n            if (pollingInterval) {\n                clearInterval(pollingInterval);\n            }\n            // Start streaming connection\n            startStream(currentRoundId, get, set);\n        },\n        stopPolling: ()=>{\n            const { pollingInterval, streamReader } = get();\n            if (pollingInterval) {\n                clearInterval(pollingInterval);\n            }\n            if (streamReader) {\n                streamReader.cancel().catch(()=>{});\n            }\n            set({\n                pollingInterval: null,\n                streamReader: null\n            });\n        },\n        loadFromUrl: async (data)=>{\n            const decoded = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.decodeStateData)(data);\n            if (!decoded || !decoded.roundId) {\n                return false;\n            }\n            const customStylesFromUrl = decoded.customStyles ? {\n                ...defaultStyles,\n                ...decoded.customStyles\n            } : defaultStyles;\n            set({\n                currentTournament: decoded.tournamentId ? {\n                    id: decoded.tournamentId,\n                    name: 'Broadcast',\n                    slug: decoded.tournamentId,\n                    rounds: []\n                } : {\n                    id: decoded.roundId,\n                    name: 'Broadcast',\n                    slug: decoded.roundId,\n                    rounds: []\n                },\n                currentRoundId: decoded.roundId,\n                customStyles: customStylesFromUrl,\n                isBroadcastMode: true,\n                backgroundMode: decoded.backgroundMode || 'chroma',\n                games: [],\n                availableGames: []\n            });\n            get().startPolling();\n            // Add games after data is loaded\n            if (decoded.gameIDs && decoded.gameIDs.length > 0) {\n                setTimeout(()=>{\n                    const { availableGames } = get();\n                    decoded.gameIDs.forEach((gameId)=>{\n                        const [white, black] = gameId.split('-vs-');\n                        if (white && black) {\n                            const match = availableGames.find((g)=>{\n                                const lower = g.toLowerCase();\n                                return lower.includes(white.toLowerCase()) && lower.includes(black.toLowerCase());\n                            });\n                            if (match) {\n                                const [fullWhite, fullBlack] = match.split(' - ');\n                                get().addGame(fullWhite, fullBlack);\n                            } else {\n                                get().addGame(white, black);\n                            }\n                        }\n                    });\n                }, 2000);\n            }\n            return true;\n        },\n        generateShareUrl: ()=>{\n            const { currentTournament, currentRoundId, games, backgroundMode } = get();\n            if (!currentTournament || !currentRoundId) return '';\n            const gameStr = games.map((g)=>{\n                const w = g.whitePlayer.split(/[,\\s]+/).pop() || g.whitePlayer;\n                const b = g.blackPlayer.split(/[,\\s]+/).pop() || g.blackPlayer;\n                return \"\".concat(w, \"~\").concat(b);\n            }).join(',');\n            const bgChar = backgroundMode === 'chroma' ? 'c' : backgroundMode === 'transparent' ? 't' : 'd';\n            const shortData = \"\".concat(currentRoundId, \"|\").concat(gameStr, \"|\").concat(bgChar);\n            const encoded = btoa(shortData).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n            return encoded;\n        }\n    }), {\n    name: 'eval-bar-storage',\n    storage: (0,zustand_middleware__WEBPACK_IMPORTED_MODULE_2__.createJSONStorage)(()=>localStorage),\n    partialize: (state)=>({\n            customStyles: state.customStyles,\n            columns: state.columns,\n            backgroundMode: state.backgroundMode\n        })\n}));\n// Start streaming from Lichess\nasync function startStream(roundId, get, set) {\n    let isNewRound = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : true;\n    // Reset the games map when starting a new round\n    if (isNewRound) {\n        allGamesMap = new Map();\n    }\n    const streamUrl = \"https://lichess.org/api/stream/broadcast/round/\".concat(roundId, \".pgn\");\n    try {\n        const response = await fetch(streamUrl);\n        if (!response.ok) {\n            console.log(\"Stream returned \".concat(response.status, \", falling back to polling\"));\n            startPollingFallback(roundId, get, set);\n            return;\n        }\n        if (!response.body) {\n            console.log('No response body, falling back to polling');\n            startPollingFallback(roundId, get, set);\n            return;\n        }\n        const reader = response.body.getReader();\n        set({\n            streamReader: reader\n        });\n        let buffer = '';\n        const decoder = new TextDecoder();\n        let isFirstChunk = true;\n        const processStream = async ()=>{\n            try {\n                while(true){\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        // Process any remaining data in buffer\n                        if (buffer.trim()) {\n                            processPgnData(buffer, get, set, false);\n                        }\n                        console.log('Stream ended, restarting...');\n                        setTimeout(()=>startStream(roundId, get, set, false), 1000);\n                        return;\n                    }\n                    buffer += decoder.decode(value, {\n                        stream: true\n                    });\n                    // Process complete PGN games (separated by double newlines)\n                    const games = buffer.split('\\n\\n\\n');\n                    // Keep the last incomplete game in the buffer\n                    if (games.length > 1) {\n                        buffer = games.pop() || '';\n                        // Process all complete games\n                        const pgnText = games.join('\\n\\n\\n');\n                        if (pgnText.trim()) {\n                            processPgnData(pgnText, get, set, isFirstChunk);\n                            isFirstChunk = false;\n                        }\n                    }\n                }\n            } catch (error) {\n                if (error.name !== 'AbortError') {\n                    console.error('Stream error:', error);\n                    setTimeout(()=>startStream(roundId, get, set, false), 3000);\n                }\n            }\n        };\n        processStream();\n    } catch (error) {\n        console.error('Failed to start stream:', error);\n        startPollingFallback(roundId, get, set);\n    }\n}\n// Fallback to polling JSON API\nfunction startPollingFallback(roundId, get, set) {\n    console.log('Starting JSON API polling fallback');\n    const poll = async ()=>{\n        try {\n            const res = await fetch(\"/api/broadcast?roundId=\".concat(roundId));\n            if (!res.ok) return;\n            const data = await res.json();\n            if (data.games && Array.isArray(data.games)) {\n                processJsonData(data.games, get, set);\n            }\n        } catch (error) {\n            console.error('Polling error:', error);\n        }\n    };\n    poll();\n    const interval = setInterval(poll, 5000);\n    set({\n        pollingInterval: interval\n    });\n}\n// Module-level map to accumulate all games from stream\nlet allGamesMap = new Map();\n// Process PGN data from stream\nfunction processPgnData(pgnText, get, set) {\n    let isNewRound = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;\n    // Reset map if this is a new round\n    if (isNewRound) {\n        allGamesMap = new Map();\n    }\n    const pgnGames = pgnText.split('\\n\\n\\n').filter((g)=>g.trim());\n    for (const pgn of pgnGames){\n        const whiteMatch = pgn.match(/\\[White \"(.+?)\"\\]/);\n        const blackMatch = pgn.match(/\\[Black \"(.+?)\"\\]/);\n        if (whiteMatch && blackMatch) {\n            const name = \"\".concat(whiteMatch[1], \" - \").concat(blackMatch[1]);\n            // Always update with latest PGN for this game\n            allGamesMap.set(name, pgn);\n        }\n    }\n    // Get all game names from accumulated map\n    const gameNames = Array.from(allGamesMap.keys());\n    // Only update if we have games\n    if (gameNames.length > 0) {\n        set({\n            availableGames: gameNames\n        });\n    }\n    // Update selected games with latest data\n    const currentGames = get().games;\n    currentGames.forEach(async (game, index)=>{\n        const gameName = \"\".concat(game.whitePlayer, \" - \").concat(game.blackPlayer);\n        const pgn = allGamesMap.get(gameName);\n        if (!pgn) return;\n        const gameData = extractGameDataFromPgn(pgn);\n        if (gameData && gameData.lastFEN && gameData.lastFEN !== game.lastFEN) {\n            let evaluation = game.evaluation;\n            try {\n                const evalData = await fetchEvaluation(gameData.lastFEN);\n                evaluation = evalData.evaluation;\n            } catch (e) {}\n            set({\n                games: get().games.map((g, i)=>i === index ? {\n                        ...g,\n                        ...gameData,\n                        evaluation\n                    } : g)\n            });\n        }\n    });\n}\n// Process JSON data (fallback)\nfunction processJsonData(games, get, set) {\n    const gameNames = games.map((g)=>g.name).filter(Boolean);\n    set({\n        availableGames: gameNames\n    });\n    const currentGames = get().games;\n    currentGames.forEach(async (game, index)=>{\n        var _matchingGame_players;\n        const matchingGame = games.find((g)=>g.name === \"\".concat(game.whitePlayer, \" - \").concat(game.blackPlayer));\n        if (!(matchingGame === null || matchingGame === void 0 ? void 0 : matchingGame.fen) || matchingGame.fen === game.lastFEN) return;\n        let whiteTime = 0, blackTime = 0;\n        if (((_matchingGame_players = matchingGame.players) === null || _matchingGame_players === void 0 ? void 0 : _matchingGame_players.length) && matchingGame.players.length >= 2) {\n            whiteTime = matchingGame.players[0].clock ? Math.floor(matchingGame.players[0].clock / 100) : 0;\n            blackTime = matchingGame.players[1].clock ? Math.floor(matchingGame.players[1].clock / 100) : 0;\n        }\n        const fenParts = matchingGame.fen.split(' ');\n        const turn = fenParts[1] === 'w' ? 'white' : 'black';\n        let result = null;\n        if (matchingGame.status && matchingGame.status !== '*') {\n            result = matchingGame.status === '-' ? 'Draw' : matchingGame.status;\n        }\n        let evaluation = game.evaluation;\n        try {\n            const evalData = await fetchEvaluation(matchingGame.fen);\n            evaluation = evalData.evaluation;\n        } catch (e) {}\n        set({\n            games: get().games.map((g, i)=>i === index ? {\n                    ...g,\n                    lastFEN: matchingGame.fen,\n                    whiteTime,\n                    blackTime,\n                    turn: turn,\n                    result,\n                    evaluation,\n                    moveNumber: parseInt(fenParts[5]) || 1\n                } : g)\n        });\n    });\n}\n// Extract game data from PGN using chessops for proper FEN calculation\nfunction extractGameDataFromPgn(pgnText) {\n    try {\n        // Parse PGN using chessops\n        const games = (0,chessops_pgn__WEBPACK_IMPORTED_MODULE_3__.parsePgn)(pgnText);\n        if (games.length === 0) return null;\n        const game = games[0];\n        // Get starting position\n        const posResult = (0,chessops_pgn__WEBPACK_IMPORTED_MODULE_3__.startingPosition)(game.headers);\n        if (posResult.isErr) return null;\n        const pos = posResult.value;\n        let moveCount = 0;\n        // Replay all moves to get final position\n        for (const node of game.moves.mainline()){\n            const move = (0,chessops_san__WEBPACK_IMPORTED_MODULE_4__.parseSan)(pos, node.san);\n            if (!move) break; // Illegal move, stop here\n            pos.play(move);\n            moveCount++;\n        }\n        // Get final FEN\n        const lastFEN = (0,chessops_fen__WEBPACK_IMPORTED_MODULE_5__.makeFen)(pos.toSetup());\n        // Extract clocks from PGN comments\n        const clocks = pgnText.match(/\\[%clk (\\d+:\\d+:\\d+)\\]/g);\n        const clocksList = (clocks === null || clocks === void 0 ? void 0 : clocks.map((c)=>{\n            var _c_match;\n            return ((_c_match = c.match(/(\\d+:\\d+:\\d+)/)) === null || _c_match === void 0 ? void 0 : _c_match[1]) || '0:00:00';\n        })) || [];\n        // Extract result\n        let result = null;\n        const resultHeader = game.headers.get('Result');\n        if (resultHeader && resultHeader !== '*') {\n            result = resultHeader === '1/2-1/2' ? 'Draw' : resultHeader;\n        }\n        // Calculate times from clocks\n        let whiteTime = 0, blackTime = 0;\n        let turn = pos.turn;\n        if (clocksList.length >= 1) {\n            const parseClock = (c)=>{\n                const parts = c.split(':').map(Number);\n                if (parts.length === 3) {\n                    return parts[0] * 3600 + parts[1] * 60 + parts[2];\n                }\n                return 0;\n            };\n            // Clocks alternate: white, black, white, black...\n            // Last clock is from the player who just moved\n            if (clocksList.length >= 2) {\n                if (clocksList.length % 2 === 0) {\n                    // Last move was black\n                    whiteTime = parseClock(clocksList[clocksList.length - 2]);\n                    blackTime = parseClock(clocksList[clocksList.length - 1]);\n                } else {\n                    // Last move was white\n                    whiteTime = parseClock(clocksList[clocksList.length - 1]);\n                    blackTime = parseClock(clocksList[clocksList.length - 2]);\n                }\n            } else if (clocksList.length === 1) {\n                whiteTime = parseClock(clocksList[0]);\n            }\n        }\n        return {\n            lastFEN,\n            result,\n            whiteTime,\n            blackTime,\n            turn,\n            moveNumber: Math.floor(moveCount / 2) + 1\n        };\n    } catch (error) {\n        console.error('PGN parsing error:', error);\n        return null;\n    }\n}\nasync function fetchEvaluation(fen) {\n    const res = await fetch(\"/api/eval?fen=\".concat(encodeURIComponent(fen)));\n    if (!res.ok) throw new Error('Failed');\n    return res.json();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEcsTUFBTSxHQUFHLE1BQU0sR0FBRztvQkFDL0Isc0JBQXNCO29CQUN0QmhDLFlBQVl5SSxXQUFXSCxVQUFVLENBQUNBLFdBQVd0RyxNQUFNLEdBQUcsRUFBRTtvQkFDeEQvQixZQUFZd0ksV0FBV0gsVUFBVSxDQUFDQSxXQUFXdEcsTUFBTSxHQUFHLEVBQUU7Z0JBQzFELE9BQU87b0JBQ0wsc0JBQXNCO29CQUN0QmhDLFlBQVl5SSxXQUFXSCxVQUFVLENBQUNBLFdBQVd0RyxNQUFNLEdBQUcsRUFBRTtvQkFDeEQvQixZQUFZd0ksV0FBV0gsVUFBVSxDQUFDQSxXQUFXdEcsTUFBTSxHQUFHLEVBQUU7Z0JBQzFEO1lBQ0YsT0FBTyxJQUFJc0csV0FBV3RHLE1BQU0sS0FBSyxHQUFHO2dCQUNsQ2hDLFlBQVl5SSxXQUFXSCxVQUFVLENBQUMsRUFBRTtZQUN0QztRQUNGO1FBRUEsT0FBTztZQUNMeEk7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUMsWUFBWWtILEtBQUtDLEtBQUssQ0FBQ08sWUFBWSxLQUFLO1FBQzFDO0lBQ0YsRUFBRSxPQUFPcEMsT0FBTztRQUNkcEIsUUFBUW9CLEtBQUssQ0FBQyxzQkFBc0JBO1FBQ3BDLE9BQU87SUFDVDtBQUNGO0FBRUEsZUFBZXNCLGdCQUFnQkcsR0FBVztJQUN4QyxNQUFNdkIsTUFBTSxNQUFNeEIsTUFBTSxpQkFBeUMsT0FBeEJ5RSxtQkFBbUIxQjtJQUM1RCxJQUFJLENBQUN2QixJQUFJdkIsRUFBRSxFQUFFLE1BQU0sSUFBSXlFLE1BQU07SUFDN0IsT0FBT2xELElBQUlDLElBQUk7QUFDakIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWtzaGl0L3dvcmtzcGFjZS9hcmNoaXZlcy9yZXBvcy9jaGVzcy9ldmFsLWJhci9zcmMvbGliL3N0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnXG5pbXBvcnQgeyBwZXJzaXN0LCBjcmVhdGVKU09OU3RvcmFnZSB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSdcbmltcG9ydCB7IGRlY29kZVN0YXRlRGF0YSB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBwYXJzZVBnbiwgc3RhcnRpbmdQb3NpdGlvbiwgdHlwZSBQZ25Ob2RlRGF0YSB9IGZyb20gJ2NoZXNzb3BzL3BnbidcbmltcG9ydCB7IHBhcnNlU2FuIH0gZnJvbSAnY2hlc3NvcHMvc2FuJ1xuaW1wb3J0IHsgbWFrZUZlbiB9IGZyb20gJ2NoZXNzb3BzL2ZlbidcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lRGF0YSB7XG4gIHdoaXRlUGxheWVyOiBzdHJpbmdcbiAgYmxhY2tQbGF5ZXI6IHN0cmluZ1xuICBldmFsdWF0aW9uOiBudW1iZXIgfCBudWxsXG4gIGxhc3RGRU46IHN0cmluZ1xuICByZXN1bHQ6IHN0cmluZyB8IG51bGxcbiAgd2hpdGVUaW1lOiBudW1iZXJcbiAgYmxhY2tUaW1lOiBudW1iZXJcbiAgdHVybjogJ3doaXRlJyB8ICdibGFjaycgfCAnJ1xuICBtb3ZlTnVtYmVyOiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb3VybmFtZW50RGF0YSB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHNsdWc6IHN0cmluZ1xuICByb3VuZHM6IEFycmF5PHtcbiAgICBpZDogc3RyaW5nXG4gICAgbmFtZTogc3RyaW5nXG4gICAgc2x1Zzogc3RyaW5nXG4gICAgb25nb2luZz86IGJvb2xlYW5cbiAgICBmaW5pc2hlZD86IGJvb2xlYW5cbiAgfT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21TdHlsZXMge1xuICBldmFsQ29udGFpbmVyQmc6IHN0cmluZ1xuICBibGFja0JhckNvbG9yOiBzdHJpbmdcbiAgd2hpdGVCYXJDb2xvcjogc3RyaW5nXG4gIHdoaXRlUGxheWVyQ29sb3I6IHN0cmluZ1xuICBibGFja1BsYXllckNvbG9yOiBzdHJpbmdcbiAgd2hpdGVQbGF5ZXJOYW1lQ29sb3I6IHN0cmluZ1xuICBibGFja1BsYXllck5hbWVDb2xvcjogc3RyaW5nXG4gIGV2YWxDb250YWluZXJCb3JkZXJDb2xvcjogc3RyaW5nXG4gIG1vdmVJbmRpY2F0b3JDb2xvcjogc3RyaW5nXG4gIGJhckhlaWdodDogbnVtYmVyXG4gIGJhckJvcmRlclJhZGl1czogbnVtYmVyXG4gIGZvbnRTaXplOiBudW1iZXJcbiAgc2hvd0Nsb2NrczogYm9vbGVhblxuICBzaG93TW92ZU51bWJlcjogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdFN0eWxlczogQ3VzdG9tU3R5bGVzID0ge1xuICBldmFsQ29udGFpbmVyQmc6ICcjMWExYTJlJyxcbiAgYmxhY2tCYXJDb2xvcjogJyNFNzlEMjknLFxuICB3aGl0ZUJhckNvbG9yOiAnI2ZmZmZmZicsXG4gIHdoaXRlUGxheWVyQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gIGJsYWNrUGxheWVyQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gIHdoaXRlUGxheWVyTmFtZUNvbG9yOiAnI2ZmZmZmZicsXG4gIGJsYWNrUGxheWVyTmFtZUNvbG9yOiAnI0U3OUQyOScsXG4gIGV2YWxDb250YWluZXJCb3JkZXJDb2xvcjogJyMzYTNhNWUnLFxuICBtb3ZlSW5kaWNhdG9yQ29sb3I6ICcjRkZBNTAwJyxcbiAgYmFySGVpZ2h0OiAxNCxcbiAgYmFyQm9yZGVyUmFkaXVzOiA0LFxuICBmb250U2l6ZTogMTQsXG4gIHNob3dDbG9ja3M6IHRydWUsXG4gIHNob3dNb3ZlTnVtYmVyOiB0cnVlLFxufVxuXG5pbnRlcmZhY2UgTGljaGVzc0dhbWUge1xuICBuYW1lOiBzdHJpbmdcbiAgZmVuPzogc3RyaW5nXG4gIHN0YXR1cz86IHN0cmluZ1xuICBsYXN0TW92ZT86IHN0cmluZ1xuICBwbGF5ZXJzPzogQXJyYXk8e1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIGNsb2NrPzogbnVtYmVyXG4gICAgcmF0aW5nPzogbnVtYmVyXG4gIH0+XG59XG5cbmludGVyZmFjZSBFdmFsU3RvcmUge1xuICBjdXJyZW50VG91cm5hbWVudDogVG91cm5hbWVudERhdGEgfCBudWxsXG4gIGN1cnJlbnRSb3VuZElkOiBzdHJpbmcgfCBudWxsXG4gIGF2YWlsYWJsZUdhbWVzOiBzdHJpbmdbXVxuICBnYW1lczogR2FtZURhdGFbXVxuICBjdXN0b21TdHlsZXM6IEN1c3RvbVN0eWxlc1xuICBpc0Jyb2FkY2FzdE1vZGU6IGJvb2xlYW5cbiAgYmFja2dyb3VuZE1vZGU6ICdjaHJvbWEnIHwgJ3RyYW5zcGFyZW50JyB8ICdkYXJrJ1xuICBjb2x1bW5zOiBudW1iZXJcbiAgcG9sbGluZ0ludGVydmFsOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD4gfCBudWxsXG4gIHN0cmVhbVJlYWRlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFVpbnQ4QXJyYXk+IHwgbnVsbFxuICBcbiAgc2V0VG91cm5hbWVudDogKHRvdXJuYW1lbnQ6IFRvdXJuYW1lbnREYXRhLCByb3VuZElkOiBzdHJpbmcpID0+IHZvaWRcbiAgc2V0Um91bmRJZDogKHJvdW5kSWQ6IHN0cmluZykgPT4gdm9pZFxuICBhZGRHYW1lOiAod2hpdGVQbGF5ZXI6IHN0cmluZywgYmxhY2tQbGF5ZXI6IHN0cmluZykgPT4gdm9pZFxuICByZW1vdmVHYW1lOiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZFxuICBjbGVhckdhbWVzOiAoKSA9PiB2b2lkXG4gIHNldEN1c3RvbVN0eWxlczogKHN0eWxlczogUGFydGlhbDxDdXN0b21TdHlsZXM+KSA9PiB2b2lkXG4gIHJlc2V0U3R5bGVzOiAoKSA9PiB2b2lkXG4gIHNldEJyb2FkY2FzdE1vZGU6IChtb2RlOiBib29sZWFuKSA9PiB2b2lkXG4gIHNldEJhY2tncm91bmRNb2RlOiAobW9kZTogJ2Nocm9tYScgfCAndHJhbnNwYXJlbnQnIHwgJ2RhcmsnKSA9PiB2b2lkXG4gIHNldENvbHVtbnM6IChjb2xzOiBudW1iZXIpID0+IHZvaWRcbiAgc3RhcnRQb2xsaW5nOiAoKSA9PiB2b2lkXG4gIHN0b3BQb2xsaW5nOiAoKSA9PiB2b2lkXG4gIGxvYWRGcm9tVXJsOiAoZGF0YTogc3RyaW5nKSA9PiBQcm9taXNlPGJvb2xlYW4+XG4gIGdlbmVyYXRlU2hhcmVVcmw6ICgpID0+IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgdXNlRXZhbFN0b3JlID0gY3JlYXRlPEV2YWxTdG9yZT4oKShcbiAgcGVyc2lzdChcbiAgICAoc2V0LCBnZXQpID0+ICh7XG4gICAgICBjdXJyZW50VG91cm5hbWVudDogbnVsbCxcbiAgICAgIGN1cnJlbnRSb3VuZElkOiBudWxsLFxuICAgICAgYXZhaWxhYmxlR2FtZXM6IFtdLFxuICAgICAgZ2FtZXM6IFtdLFxuICAgICAgY3VzdG9tU3R5bGVzOiBkZWZhdWx0U3R5bGVzLFxuICAgICAgaXNCcm9hZGNhc3RNb2RlOiBmYWxzZSxcbiAgICAgIGJhY2tncm91bmRNb2RlOiAnY2hyb21hJyxcbiAgICAgIGNvbHVtbnM6IDYsXG4gICAgICBwb2xsaW5nSW50ZXJ2YWw6IG51bGwsXG4gICAgICBzdHJlYW1SZWFkZXI6IG51bGwsXG5cbiAgICAgIHNldFRvdXJuYW1lbnQ6ICh0b3VybmFtZW50LCByb3VuZElkKSA9PiB7XG4gICAgICAgIGdldCgpLnN0b3BQb2xsaW5nKClcbiAgICAgICAgc2V0KHtcbiAgICAgICAgICBjdXJyZW50VG91cm5hbWVudDogdG91cm5hbWVudCxcbiAgICAgICAgICBjdXJyZW50Um91bmRJZDogcm91bmRJZCxcbiAgICAgICAgICBnYW1lczogW10sXG4gICAgICAgICAgYXZhaWxhYmxlR2FtZXM6IFtdLFxuICAgICAgICAgIGlzQnJvYWRjYXN0TW9kZTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICAgIGdldCgpLnN0YXJ0UG9sbGluZygpXG4gICAgICB9LFxuXG4gICAgICBzZXRSb3VuZElkOiAocm91bmRJZCkgPT4ge1xuICAgICAgICBnZXQoKS5zdG9wUG9sbGluZygpXG4gICAgICAgIHNldCh7IGN1cnJlbnRSb3VuZElkOiByb3VuZElkLCBnYW1lczogW10sIGF2YWlsYWJsZUdhbWVzOiBbXSB9KVxuICAgICAgICBnZXQoKS5zdGFydFBvbGxpbmcoKVxuICAgICAgfSxcblxuICAgICAgYWRkR2FtZTogKHdoaXRlUGxheWVyLCBibGFja1BsYXllcikgPT4ge1xuICAgICAgICBjb25zdCB7IGdhbWVzIH0gPSBnZXQoKVxuICAgICAgICBpZiAoZ2FtZXMuc29tZShnID0+IGcud2hpdGVQbGF5ZXIgPT09IHdoaXRlUGxheWVyICYmIGcuYmxhY2tQbGF5ZXIgPT09IGJsYWNrUGxheWVyKSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3R2FtZTogR2FtZURhdGEgPSB7XG4gICAgICAgICAgd2hpdGVQbGF5ZXIsXG4gICAgICAgICAgYmxhY2tQbGF5ZXIsXG4gICAgICAgICAgZXZhbHVhdGlvbjogbnVsbCxcbiAgICAgICAgICBsYXN0RkVOOiAnJyxcbiAgICAgICAgICByZXN1bHQ6IG51bGwsXG4gICAgICAgICAgd2hpdGVUaW1lOiAwLFxuICAgICAgICAgIGJsYWNrVGltZTogMCxcbiAgICAgICAgICB0dXJuOiAnJyxcbiAgICAgICAgICBtb3ZlTnVtYmVyOiAwLFxuICAgICAgICB9XG5cbiAgICAgICAgc2V0KHsgZ2FtZXM6IFsuLi5nYW1lcywgbmV3R2FtZV0gfSlcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZUdhbWU6IChpbmRleCkgPT4ge1xuICAgICAgICBzZXQoeyBnYW1lczogZ2V0KCkuZ2FtZXMuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCkgfSlcbiAgICAgIH0sXG5cbiAgICAgIGNsZWFyR2FtZXM6ICgpID0+IHtcbiAgICAgICAgc2V0KHsgZ2FtZXM6IFtdIH0pXG4gICAgICB9LFxuXG4gICAgICBzZXRDdXN0b21TdHlsZXM6IChzdHlsZXMpID0+IHtcbiAgICAgICAgc2V0KHsgY3VzdG9tU3R5bGVzOiB7IC4uLmdldCgpLmN1c3RvbVN0eWxlcywgLi4uc3R5bGVzIH0gfSlcbiAgICAgIH0sXG5cbiAgICAgIHJlc2V0U3R5bGVzOiAoKSA9PiB7XG4gICAgICAgIHNldCh7IGN1c3RvbVN0eWxlczogZGVmYXVsdFN0eWxlcyB9KVxuICAgICAgfSxcblxuICAgICAgc2V0QnJvYWRjYXN0TW9kZTogKG1vZGUpID0+IHtcbiAgICAgICAgc2V0KHsgaXNCcm9hZGNhc3RNb2RlOiBtb2RlIH0pXG4gICAgICB9LFxuXG4gICAgICBzZXRCYWNrZ3JvdW5kTW9kZTogKG1vZGUpID0+IHtcbiAgICAgICAgc2V0KHsgYmFja2dyb3VuZE1vZGU6IG1vZGUgfSlcbiAgICAgIH0sXG5cbiAgICAgIHNldENvbHVtbnM6IChjb2xzKSA9PiB7XG4gICAgICAgIHNldCh7IGNvbHVtbnM6IGNvbHMgfSlcbiAgICAgIH0sXG5cbiAgICAgIHN0YXJ0UG9sbGluZzogKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRSb3VuZElkLCBwb2xsaW5nSW50ZXJ2YWwgfSA9IGdldCgpXG4gICAgICAgIGlmICghY3VycmVudFJvdW5kSWQpIHJldHVyblxuICAgICAgICBcbiAgICAgICAgaWYgKHBvbGxpbmdJbnRlcnZhbCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbGluZ0ludGVydmFsKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgc3RyZWFtaW5nIGNvbm5lY3Rpb25cbiAgICAgICAgc3RhcnRTdHJlYW0oY3VycmVudFJvdW5kSWQsIGdldCwgc2V0KVxuICAgICAgfSxcblxuICAgICAgc3RvcFBvbGxpbmc6ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBwb2xsaW5nSW50ZXJ2YWwsIHN0cmVhbVJlYWRlciB9ID0gZ2V0KClcbiAgICAgICAgaWYgKHBvbGxpbmdJbnRlcnZhbCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbGluZ0ludGVydmFsKVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW1SZWFkZXIpIHtcbiAgICAgICAgICBzdHJlYW1SZWFkZXIuY2FuY2VsKCkuY2F0Y2goKCkgPT4ge30pXG4gICAgICAgIH1cbiAgICAgICAgc2V0KHsgcG9sbGluZ0ludGVydmFsOiBudWxsLCBzdHJlYW1SZWFkZXI6IG51bGwgfSlcbiAgICAgIH0sXG5cbiAgICAgIGxvYWRGcm9tVXJsOiBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlU3RhdGVEYXRhKGRhdGEpXG4gICAgICAgIGlmICghZGVjb2RlZCB8fCAhZGVjb2RlZC5yb3VuZElkKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXN0b21TdHlsZXNGcm9tVXJsID0gZGVjb2RlZC5jdXN0b21TdHlsZXMgXG4gICAgICAgICAgPyB7IC4uLmRlZmF1bHRTdHlsZXMsIC4uLmRlY29kZWQuY3VzdG9tU3R5bGVzIH0gYXMgQ3VzdG9tU3R5bGVzXG4gICAgICAgICAgOiBkZWZhdWx0U3R5bGVzXG5cbiAgICAgICAgc2V0KHtcbiAgICAgICAgICBjdXJyZW50VG91cm5hbWVudDogZGVjb2RlZC50b3VybmFtZW50SWRcbiAgICAgICAgICAgID8geyBpZDogZGVjb2RlZC50b3VybmFtZW50SWQsIG5hbWU6ICdCcm9hZGNhc3QnLCBzbHVnOiBkZWNvZGVkLnRvdXJuYW1lbnRJZCwgcm91bmRzOiBbXSB9XG4gICAgICAgICAgICA6IHsgaWQ6IGRlY29kZWQucm91bmRJZCwgbmFtZTogJ0Jyb2FkY2FzdCcsIHNsdWc6IGRlY29kZWQucm91bmRJZCwgcm91bmRzOiBbXSB9LFxuICAgICAgICAgIGN1cnJlbnRSb3VuZElkOiBkZWNvZGVkLnJvdW5kSWQsXG4gICAgICAgICAgY3VzdG9tU3R5bGVzOiBjdXN0b21TdHlsZXNGcm9tVXJsLFxuICAgICAgICAgIGlzQnJvYWRjYXN0TW9kZTogdHJ1ZSxcbiAgICAgICAgICBiYWNrZ3JvdW5kTW9kZTogKGRlY29kZWQuYmFja2dyb3VuZE1vZGUgYXMgJ2Nocm9tYScgfCAndHJhbnNwYXJlbnQnIHwgJ2RhcmsnKSB8fCAnY2hyb21hJyxcbiAgICAgICAgICBnYW1lczogW10sXG4gICAgICAgICAgYXZhaWxhYmxlR2FtZXM6IFtdLFxuICAgICAgICB9KVxuXG4gICAgICAgIGdldCgpLnN0YXJ0UG9sbGluZygpXG5cbiAgICAgICAgLy8gQWRkIGdhbWVzIGFmdGVyIGRhdGEgaXMgbG9hZGVkXG4gICAgICAgIGlmIChkZWNvZGVkLmdhbWVJRHMgJiYgZGVjb2RlZC5nYW1lSURzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgYXZhaWxhYmxlR2FtZXMgfSA9IGdldCgpXG4gICAgICAgICAgICBkZWNvZGVkLmdhbWVJRHMuZm9yRWFjaChnYW1lSWQgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBbd2hpdGUsIGJsYWNrXSA9IGdhbWVJZC5zcGxpdCgnLXZzLScpXG4gICAgICAgICAgICAgIGlmICh3aGl0ZSAmJiBibGFjaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gYXZhaWxhYmxlR2FtZXMuZmluZChnID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyID0gZy50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbG93ZXIuaW5jbHVkZXMod2hpdGUudG9Mb3dlckNhc2UoKSkgJiYgbG93ZXIuaW5jbHVkZXMoYmxhY2sudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgW2Z1bGxXaGl0ZSwgZnVsbEJsYWNrXSA9IG1hdGNoLnNwbGl0KCcgLSAnKVxuICAgICAgICAgICAgICAgICAgZ2V0KCkuYWRkR2FtZShmdWxsV2hpdGUsIGZ1bGxCbGFjaylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZ2V0KCkuYWRkR2FtZSh3aGl0ZSwgYmxhY2spXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sIDIwMDApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSxcblxuICAgICAgZ2VuZXJhdGVTaGFyZVVybDogKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUb3VybmFtZW50LCBjdXJyZW50Um91bmRJZCwgZ2FtZXMsIGJhY2tncm91bmRNb2RlIH0gPSBnZXQoKVxuICAgICAgICBpZiAoIWN1cnJlbnRUb3VybmFtZW50IHx8ICFjdXJyZW50Um91bmRJZCkgcmV0dXJuICcnXG4gICAgICAgIFxuICAgICAgICBjb25zdCBnYW1lU3RyID0gZ2FtZXMubWFwKGcgPT4ge1xuICAgICAgICAgIGNvbnN0IHcgPSBnLndoaXRlUGxheWVyLnNwbGl0KC9bLFxcc10rLykucG9wKCkgfHwgZy53aGl0ZVBsYXllclxuICAgICAgICAgIGNvbnN0IGIgPSBnLmJsYWNrUGxheWVyLnNwbGl0KC9bLFxcc10rLykucG9wKCkgfHwgZy5ibGFja1BsYXllclxuICAgICAgICAgIHJldHVybiBgJHt3fX4ke2J9YFxuICAgICAgICB9KS5qb2luKCcsJylcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJnQ2hhciA9IGJhY2tncm91bmRNb2RlID09PSAnY2hyb21hJyA/ICdjJyA6IGJhY2tncm91bmRNb2RlID09PSAndHJhbnNwYXJlbnQnID8gJ3QnIDogJ2QnXG4gICAgICAgIGNvbnN0IHNob3J0RGF0YSA9IGAke2N1cnJlbnRSb3VuZElkfXwke2dhbWVTdHJ9fCR7YmdDaGFyfWBcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGJ0b2Eoc2hvcnREYXRhKS5yZXBsYWNlKC89L2csICcnKS5yZXBsYWNlKC9cXCsvZywgJy0nKS5yZXBsYWNlKC9cXC8vZywgJ18nKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGVuY29kZWRcbiAgICAgIH0sXG4gICAgfSksXG4gICAge1xuICAgICAgbmFtZTogJ2V2YWwtYmFyLXN0b3JhZ2UnLFxuICAgICAgc3RvcmFnZTogY3JlYXRlSlNPTlN0b3JhZ2UoKCkgPT4gbG9jYWxTdG9yYWdlKSxcbiAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgY3VzdG9tU3R5bGVzOiBzdGF0ZS5jdXN0b21TdHlsZXMsXG4gICAgICAgIGNvbHVtbnM6IHN0YXRlLmNvbHVtbnMsXG4gICAgICAgIGJhY2tncm91bmRNb2RlOiBzdGF0ZS5iYWNrZ3JvdW5kTW9kZSxcbiAgICAgIH0pLFxuICAgIH1cbiAgKVxuKVxuXG4vLyBTdGFydCBzdHJlYW1pbmcgZnJvbSBMaWNoZXNzXG5hc3luYyBmdW5jdGlvbiBzdGFydFN0cmVhbShcbiAgcm91bmRJZDogc3RyaW5nLFxuICBnZXQ6ICgpID0+IEV2YWxTdG9yZSxcbiAgc2V0OiAocGFydGlhbDogUGFydGlhbDxFdmFsU3RvcmU+KSA9PiB2b2lkLFxuICBpc05ld1JvdW5kOiBib29sZWFuID0gdHJ1ZVxuKSB7XG4gIC8vIFJlc2V0IHRoZSBnYW1lcyBtYXAgd2hlbiBzdGFydGluZyBhIG5ldyByb3VuZFxuICBpZiAoaXNOZXdSb3VuZCkge1xuICAgIGFsbEdhbWVzTWFwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKVxuICB9XG4gIFxuICBjb25zdCBzdHJlYW1VcmwgPSBgaHR0cHM6Ly9saWNoZXNzLm9yZy9hcGkvc3RyZWFtL2Jyb2FkY2FzdC9yb3VuZC8ke3JvdW5kSWR9LnBnbmBcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzdHJlYW1VcmwpXG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc29sZS5sb2coYFN0cmVhbSByZXR1cm5lZCAke3Jlc3BvbnNlLnN0YXR1c30sIGZhbGxpbmcgYmFjayB0byBwb2xsaW5nYClcbiAgICAgIHN0YXJ0UG9sbGluZ0ZhbGxiYWNrKHJvdW5kSWQsIGdldCwgc2V0KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gcmVzcG9uc2UgYm9keSwgZmFsbGluZyBiYWNrIHRvIHBvbGxpbmcnKVxuICAgICAgc3RhcnRQb2xsaW5nRmFsbGJhY2socm91bmRJZCwgZ2V0LCBzZXQpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpXG4gICAgc2V0KHsgc3RyZWFtUmVhZGVyOiByZWFkZXIgfSlcbiAgICBcbiAgICBsZXQgYnVmZmVyID0gJydcbiAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKClcbiAgICBsZXQgaXNGaXJzdENodW5rID0gdHJ1ZVxuICAgIFxuICAgIGNvbnN0IHByb2Nlc3NTdHJlYW0gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKClcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgLy8gUHJvY2VzcyBhbnkgcmVtYWluaW5nIGRhdGEgaW4gYnVmZmVyXG4gICAgICAgICAgICBpZiAoYnVmZmVyLnRyaW0oKSkge1xuICAgICAgICAgICAgICBwcm9jZXNzUGduRGF0YShidWZmZXIsIGdldCwgc2V0LCBmYWxzZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdHJlYW0gZW5kZWQsIHJlc3RhcnRpbmcuLi4nKVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzdGFydFN0cmVhbShyb3VuZElkLCBnZXQsIHNldCwgZmFsc2UpLCAxMDAwKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGJ1ZmZlciArPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQcm9jZXNzIGNvbXBsZXRlIFBHTiBnYW1lcyAoc2VwYXJhdGVkIGJ5IGRvdWJsZSBuZXdsaW5lcylcbiAgICAgICAgICBjb25zdCBnYW1lcyA9IGJ1ZmZlci5zcGxpdCgnXFxuXFxuXFxuJylcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBLZWVwIHRoZSBsYXN0IGluY29tcGxldGUgZ2FtZSBpbiB0aGUgYnVmZmVyXG4gICAgICAgICAgaWYgKGdhbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IGdhbWVzLnBvcCgpIHx8ICcnXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgYWxsIGNvbXBsZXRlIGdhbWVzXG4gICAgICAgICAgICBjb25zdCBwZ25UZXh0ID0gZ2FtZXMuam9pbignXFxuXFxuXFxuJylcbiAgICAgICAgICAgIGlmIChwZ25UZXh0LnRyaW0oKSkge1xuICAgICAgICAgICAgICBwcm9jZXNzUGduRGF0YShwZ25UZXh0LCBnZXQsIHNldCwgaXNGaXJzdENodW5rKVxuICAgICAgICAgICAgICBpc0ZpcnN0Q2h1bmsgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKChlcnJvciBhcyBFcnJvcikubmFtZSAhPT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc3RhcnRTdHJlYW0ocm91bmRJZCwgZ2V0LCBzZXQsIGZhbHNlKSwgMzAwMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm9jZXNzU3RyZWFtKClcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3RhcnQgc3RyZWFtOicsIGVycm9yKVxuICAgIHN0YXJ0UG9sbGluZ0ZhbGxiYWNrKHJvdW5kSWQsIGdldCwgc2V0KVxuICB9XG59XG5cbi8vIEZhbGxiYWNrIHRvIHBvbGxpbmcgSlNPTiBBUElcbmZ1bmN0aW9uIHN0YXJ0UG9sbGluZ0ZhbGxiYWNrKFxuICByb3VuZElkOiBzdHJpbmcsXG4gIGdldDogKCkgPT4gRXZhbFN0b3JlLFxuICBzZXQ6IChwYXJ0aWFsOiBQYXJ0aWFsPEV2YWxTdG9yZT4pID0+IHZvaWRcbikge1xuICBjb25zb2xlLmxvZygnU3RhcnRpbmcgSlNPTiBBUEkgcG9sbGluZyBmYWxsYmFjaycpXG4gIFxuICBjb25zdCBwb2xsID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9icm9hZGNhc3Q/cm91bmRJZD0ke3JvdW5kSWR9YClcbiAgICAgIGlmICghcmVzLm9rKSByZXR1cm5cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgIGlmIChkYXRhLmdhbWVzICYmIEFycmF5LmlzQXJyYXkoZGF0YS5nYW1lcykpIHtcbiAgICAgICAgcHJvY2Vzc0pzb25EYXRhKGRhdGEuZ2FtZXMsIGdldCwgc2V0KVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQb2xsaW5nIGVycm9yOicsIGVycm9yKVxuICAgIH1cbiAgfVxuICBcbiAgcG9sbCgpXG4gIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwocG9sbCwgNTAwMClcbiAgc2V0KHsgcG9sbGluZ0ludGVydmFsOiBpbnRlcnZhbCB9KVxufVxuXG4vLyBNb2R1bGUtbGV2ZWwgbWFwIHRvIGFjY3VtdWxhdGUgYWxsIGdhbWVzIGZyb20gc3RyZWFtXG5sZXQgYWxsR2FtZXNNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpXG5cbi8vIFByb2Nlc3MgUEdOIGRhdGEgZnJvbSBzdHJlYW1cbmZ1bmN0aW9uIHByb2Nlc3NQZ25EYXRhKFxuICBwZ25UZXh0OiBzdHJpbmcsXG4gIGdldDogKCkgPT4gRXZhbFN0b3JlLFxuICBzZXQ6IChwYXJ0aWFsOiBQYXJ0aWFsPEV2YWxTdG9yZT4pID0+IHZvaWQsXG4gIGlzTmV3Um91bmQ6IGJvb2xlYW4gPSBmYWxzZVxuKSB7XG4gIC8vIFJlc2V0IG1hcCBpZiB0aGlzIGlzIGEgbmV3IHJvdW5kXG4gIGlmIChpc05ld1JvdW5kKSB7XG4gICAgYWxsR2FtZXNNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpXG4gIH1cbiAgXG4gIGNvbnN0IHBnbkdhbWVzID0gcGduVGV4dC5zcGxpdCgnXFxuXFxuXFxuJykuZmlsdGVyKGcgPT4gZy50cmltKCkpXG4gIFxuICBmb3IgKGNvbnN0IHBnbiBvZiBwZ25HYW1lcykge1xuICAgIGNvbnN0IHdoaXRlTWF0Y2ggPSBwZ24ubWF0Y2goL1xcW1doaXRlIFwiKC4rPylcIlxcXS8pXG4gICAgY29uc3QgYmxhY2tNYXRjaCA9IHBnbi5tYXRjaCgvXFxbQmxhY2sgXCIoLis/KVwiXFxdLylcbiAgICBpZiAod2hpdGVNYXRjaCAmJiBibGFja01hdGNoKSB7XG4gICAgICBjb25zdCBuYW1lID0gYCR7d2hpdGVNYXRjaFsxXX0gLSAke2JsYWNrTWF0Y2hbMV19YFxuICAgICAgLy8gQWx3YXlzIHVwZGF0ZSB3aXRoIGxhdGVzdCBQR04gZm9yIHRoaXMgZ2FtZVxuICAgICAgYWxsR2FtZXNNYXAuc2V0KG5hbWUsIHBnbilcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEdldCBhbGwgZ2FtZSBuYW1lcyBmcm9tIGFjY3VtdWxhdGVkIG1hcFxuICBjb25zdCBnYW1lTmFtZXMgPSBBcnJheS5mcm9tKGFsbEdhbWVzTWFwLmtleXMoKSlcbiAgXG4gIC8vIE9ubHkgdXBkYXRlIGlmIHdlIGhhdmUgZ2FtZXNcbiAgaWYgKGdhbWVOYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgc2V0KHsgYXZhaWxhYmxlR2FtZXM6IGdhbWVOYW1lcyB9KVxuICB9XG4gIFxuICAvLyBVcGRhdGUgc2VsZWN0ZWQgZ2FtZXMgd2l0aCBsYXRlc3QgZGF0YVxuICBjb25zdCBjdXJyZW50R2FtZXMgPSBnZXQoKS5nYW1lc1xuICBjdXJyZW50R2FtZXMuZm9yRWFjaChhc3luYyAoZ2FtZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBnYW1lTmFtZSA9IGAke2dhbWUud2hpdGVQbGF5ZXJ9IC0gJHtnYW1lLmJsYWNrUGxheWVyfWBcbiAgICBjb25zdCBwZ24gPSBhbGxHYW1lc01hcC5nZXQoZ2FtZU5hbWUpXG4gICAgaWYgKCFwZ24pIHJldHVyblxuICAgIFxuICAgIGNvbnN0IGdhbWVEYXRhID0gZXh0cmFjdEdhbWVEYXRhRnJvbVBnbihwZ24pXG4gICAgaWYgKGdhbWVEYXRhICYmIGdhbWVEYXRhLmxhc3RGRU4gJiYgZ2FtZURhdGEubGFzdEZFTiAhPT0gZ2FtZS5sYXN0RkVOKSB7XG4gICAgICBsZXQgZXZhbHVhdGlvbiA9IGdhbWUuZXZhbHVhdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXZhbERhdGEgPSBhd2FpdCBmZXRjaEV2YWx1YXRpb24oZ2FtZURhdGEubGFzdEZFTilcbiAgICAgICAgZXZhbHVhdGlvbiA9IGV2YWxEYXRhLmV2YWx1YXRpb25cbiAgICAgIH0gY2F0Y2gge31cbiAgICAgIFxuICAgICAgc2V0KHtcbiAgICAgICAgZ2FtZXM6IGdldCgpLmdhbWVzLm1hcCgoZywgaSkgPT5cbiAgICAgICAgICBpID09PSBpbmRleCA/IHsgLi4uZywgLi4uZ2FtZURhdGEsIGV2YWx1YXRpb24gfSA6IGdcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG59XG5cbi8vIFByb2Nlc3MgSlNPTiBkYXRhIChmYWxsYmFjaylcbmZ1bmN0aW9uIHByb2Nlc3NKc29uRGF0YShcbiAgZ2FtZXM6IExpY2hlc3NHYW1lW10sXG4gIGdldDogKCkgPT4gRXZhbFN0b3JlLFxuICBzZXQ6IChwYXJ0aWFsOiBQYXJ0aWFsPEV2YWxTdG9yZT4pID0+IHZvaWRcbikge1xuICBjb25zdCBnYW1lTmFtZXMgPSBnYW1lcy5tYXAoZyA9PiBnLm5hbWUpLmZpbHRlcihCb29sZWFuKVxuICBzZXQoeyBhdmFpbGFibGVHYW1lczogZ2FtZU5hbWVzIH0pXG4gIFxuICBjb25zdCBjdXJyZW50R2FtZXMgPSBnZXQoKS5nYW1lc1xuICBjdXJyZW50R2FtZXMuZm9yRWFjaChhc3luYyAoZ2FtZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBtYXRjaGluZ0dhbWUgPSBnYW1lcy5maW5kKGcgPT4gXG4gICAgICBnLm5hbWUgPT09IGAke2dhbWUud2hpdGVQbGF5ZXJ9IC0gJHtnYW1lLmJsYWNrUGxheWVyfWBcbiAgICApXG4gICAgXG4gICAgaWYgKCFtYXRjaGluZ0dhbWU/LmZlbiB8fCBtYXRjaGluZ0dhbWUuZmVuID09PSBnYW1lLmxhc3RGRU4pIHJldHVyblxuICAgIFxuICAgIGxldCB3aGl0ZVRpbWUgPSAwLCBibGFja1RpbWUgPSAwXG4gICAgaWYgKG1hdGNoaW5nR2FtZS5wbGF5ZXJzPy5sZW5ndGggJiYgbWF0Y2hpbmdHYW1lLnBsYXllcnMubGVuZ3RoID49IDIpIHtcbiAgICAgIHdoaXRlVGltZSA9IG1hdGNoaW5nR2FtZS5wbGF5ZXJzWzBdLmNsb2NrID8gTWF0aC5mbG9vcihtYXRjaGluZ0dhbWUucGxheWVyc1swXS5jbG9jayAvIDEwMCkgOiAwXG4gICAgICBibGFja1RpbWUgPSBtYXRjaGluZ0dhbWUucGxheWVyc1sxXS5jbG9jayA/IE1hdGguZmxvb3IobWF0Y2hpbmdHYW1lLnBsYXllcnNbMV0uY2xvY2sgLyAxMDApIDogMFxuICAgIH1cbiAgICBcbiAgICBjb25zdCBmZW5QYXJ0cyA9IG1hdGNoaW5nR2FtZS5mZW4uc3BsaXQoJyAnKVxuICAgIGNvbnN0IHR1cm4gPSBmZW5QYXJ0c1sxXSA9PT0gJ3cnID8gJ3doaXRlJyA6ICdibGFjaydcbiAgICBcbiAgICBsZXQgcmVzdWx0OiBzdHJpbmcgfCBudWxsID0gbnVsbFxuICAgIGlmIChtYXRjaGluZ0dhbWUuc3RhdHVzICYmIG1hdGNoaW5nR2FtZS5zdGF0dXMgIT09ICcqJykge1xuICAgICAgcmVzdWx0ID0gbWF0Y2hpbmdHYW1lLnN0YXR1cyA9PT0gJ8K9LcK9JyA/ICdEcmF3JyA6IG1hdGNoaW5nR2FtZS5zdGF0dXNcbiAgICB9XG4gICAgXG4gICAgbGV0IGV2YWx1YXRpb24gPSBnYW1lLmV2YWx1YXRpb25cbiAgICB0cnkge1xuICAgICAgY29uc3QgZXZhbERhdGEgPSBhd2FpdCBmZXRjaEV2YWx1YXRpb24obWF0Y2hpbmdHYW1lLmZlbilcbiAgICAgIGV2YWx1YXRpb24gPSBldmFsRGF0YS5ldmFsdWF0aW9uXG4gICAgfSBjYXRjaCB7fVxuICAgIFxuICAgIHNldCh7XG4gICAgICBnYW1lczogZ2V0KCkuZ2FtZXMubWFwKChnLCBpKSA9PlxuICAgICAgICBpID09PSBpbmRleCA/IHtcbiAgICAgICAgICAuLi5nLFxuICAgICAgICAgIGxhc3RGRU46IG1hdGNoaW5nR2FtZS5mZW4hLFxuICAgICAgICAgIHdoaXRlVGltZSxcbiAgICAgICAgICBibGFja1RpbWUsXG4gICAgICAgICAgdHVybjogdHVybiBhcyAnd2hpdGUnIHwgJ2JsYWNrJyxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgZXZhbHVhdGlvbixcbiAgICAgICAgICBtb3ZlTnVtYmVyOiBwYXJzZUludChmZW5QYXJ0c1s1XSkgfHwgMSxcbiAgICAgICAgfSA6IGdcbiAgICAgIClcbiAgICB9KVxuICB9KVxufVxuXG4vLyBFeHRyYWN0IGdhbWUgZGF0YSBmcm9tIFBHTiB1c2luZyBjaGVzc29wcyBmb3IgcHJvcGVyIEZFTiBjYWxjdWxhdGlvblxuZnVuY3Rpb24gZXh0cmFjdEdhbWVEYXRhRnJvbVBnbihwZ25UZXh0OiBzdHJpbmcpOiBQYXJ0aWFsPEdhbWVEYXRhPiB8IG51bGwge1xuICB0cnkge1xuICAgIC8vIFBhcnNlIFBHTiB1c2luZyBjaGVzc29wc1xuICAgIGNvbnN0IGdhbWVzID0gcGFyc2VQZ24ocGduVGV4dClcbiAgICBpZiAoZ2FtZXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbFxuICAgIFxuICAgIGNvbnN0IGdhbWUgPSBnYW1lc1swXVxuICAgIFxuICAgIC8vIEdldCBzdGFydGluZyBwb3NpdGlvblxuICAgIGNvbnN0IHBvc1Jlc3VsdCA9IHN0YXJ0aW5nUG9zaXRpb24oZ2FtZS5oZWFkZXJzKVxuICAgIGlmIChwb3NSZXN1bHQuaXNFcnIpIHJldHVybiBudWxsXG4gICAgXG4gICAgY29uc3QgcG9zID0gcG9zUmVzdWx0LnZhbHVlXG4gICAgbGV0IG1vdmVDb3VudCA9IDBcbiAgICBcbiAgICAvLyBSZXBsYXkgYWxsIG1vdmVzIHRvIGdldCBmaW5hbCBwb3NpdGlvblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBnYW1lLm1vdmVzLm1haW5saW5lKCkpIHtcbiAgICAgIGNvbnN0IG1vdmUgPSBwYXJzZVNhbihwb3MsIG5vZGUuc2FuKVxuICAgICAgaWYgKCFtb3ZlKSBicmVhayAvLyBJbGxlZ2FsIG1vdmUsIHN0b3AgaGVyZVxuICAgICAgcG9zLnBsYXkobW92ZSlcbiAgICAgIG1vdmVDb3VudCsrXG4gICAgfVxuICAgIFxuICAgIC8vIEdldCBmaW5hbCBGRU5cbiAgICBjb25zdCBsYXN0RkVOID0gbWFrZUZlbihwb3MudG9TZXR1cCgpKVxuICAgIFxuICAgIC8vIEV4dHJhY3QgY2xvY2tzIGZyb20gUEdOIGNvbW1lbnRzXG4gICAgY29uc3QgY2xvY2tzID0gcGduVGV4dC5tYXRjaCgvXFxbJWNsayAoXFxkKzpcXGQrOlxcZCspXFxdL2cpXG4gICAgY29uc3QgY2xvY2tzTGlzdCA9IGNsb2Nrcz8ubWFwKGMgPT4gYy5tYXRjaCgvKFxcZCs6XFxkKzpcXGQrKS8pPy5bMV0gfHwgJzA6MDA6MDAnKSB8fCBbXVxuICAgIFxuICAgIC8vIEV4dHJhY3QgcmVzdWx0XG4gICAgbGV0IHJlc3VsdDogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgICBjb25zdCByZXN1bHRIZWFkZXIgPSBnYW1lLmhlYWRlcnMuZ2V0KCdSZXN1bHQnKVxuICAgIGlmIChyZXN1bHRIZWFkZXIgJiYgcmVzdWx0SGVhZGVyICE9PSAnKicpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdEhlYWRlciA9PT0gJzEvMi0xLzInID8gJ0RyYXcnIDogcmVzdWx0SGVhZGVyXG4gICAgfVxuICAgIFxuICAgIC8vIENhbGN1bGF0ZSB0aW1lcyBmcm9tIGNsb2Nrc1xuICAgIGxldCB3aGl0ZVRpbWUgPSAwLCBibGFja1RpbWUgPSAwXG4gICAgbGV0IHR1cm46ICd3aGl0ZScgfCAnYmxhY2snIHwgJycgPSBwb3MudHVyblxuICAgIFxuICAgIGlmIChjbG9ja3NMaXN0Lmxlbmd0aCA+PSAxKSB7XG4gICAgICBjb25zdCBwYXJzZUNsb2NrID0gKGM6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGMuc3BsaXQoJzonKS5tYXAoTnVtYmVyKVxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnRzWzBdICogMzYwMCArIHBhcnRzWzFdICogNjAgKyBwYXJ0c1syXVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsb2NrcyBhbHRlcm5hdGU6IHdoaXRlLCBibGFjaywgd2hpdGUsIGJsYWNrLi4uXG4gICAgICAvLyBMYXN0IGNsb2NrIGlzIGZyb20gdGhlIHBsYXllciB3aG8ganVzdCBtb3ZlZFxuICAgICAgaWYgKGNsb2Nrc0xpc3QubGVuZ3RoID49IDIpIHtcbiAgICAgICAgaWYgKGNsb2Nrc0xpc3QubGVuZ3RoICUgMiA9PT0gMCkge1xuICAgICAgICAgIC8vIExhc3QgbW92ZSB3YXMgYmxhY2tcbiAgICAgICAgICB3aGl0ZVRpbWUgPSBwYXJzZUNsb2NrKGNsb2Nrc0xpc3RbY2xvY2tzTGlzdC5sZW5ndGggLSAyXSlcbiAgICAgICAgICBibGFja1RpbWUgPSBwYXJzZUNsb2NrKGNsb2Nrc0xpc3RbY2xvY2tzTGlzdC5sZW5ndGggLSAxXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMYXN0IG1vdmUgd2FzIHdoaXRlXG4gICAgICAgICAgd2hpdGVUaW1lID0gcGFyc2VDbG9jayhjbG9ja3NMaXN0W2Nsb2Nrc0xpc3QubGVuZ3RoIC0gMV0pXG4gICAgICAgICAgYmxhY2tUaW1lID0gcGFyc2VDbG9jayhjbG9ja3NMaXN0W2Nsb2Nrc0xpc3QubGVuZ3RoIC0gMl0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2xvY2tzTGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgd2hpdGVUaW1lID0gcGFyc2VDbG9jayhjbG9ja3NMaXN0WzBdKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdEZFTixcbiAgICAgIHJlc3VsdCxcbiAgICAgIHdoaXRlVGltZSxcbiAgICAgIGJsYWNrVGltZSxcbiAgICAgIHR1cm4sXG4gICAgICBtb3ZlTnVtYmVyOiBNYXRoLmZsb29yKG1vdmVDb3VudCAvIDIpICsgMSxcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUEdOIHBhcnNpbmcgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaEV2YWx1YXRpb24oZmVuOiBzdHJpbmcpOiBQcm9taXNlPHsgZXZhbHVhdGlvbjogbnVtYmVyIH0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvZXZhbD9mZW49JHtlbmNvZGVVUklDb21wb25lbnQoZmVuKX1gKVxuICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQnKVxuICByZXR1cm4gcmVzLmpzb24oKVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZSIsInBlcnNpc3QiLCJjcmVhdGVKU09OU3RvcmFnZSIsImRlY29kZVN0YXRlRGF0YSIsInBhcnNlUGduIiwic3RhcnRpbmdQb3NpdGlvbiIsInBhcnNlU2FuIiwibWFrZUZlbiIsImRlZmF1bHRTdHlsZXMiLCJldmFsQ29udGFpbmVyQmciLCJibGFja0JhckNvbG9yIiwid2hpdGVCYXJDb2xvciIsIndoaXRlUGxheWVyQ29sb3IiLCJibGFja1BsYXllckNvbG9yIiwid2hpdGVQbGF5ZXJOYW1lQ29sb3IiLCJibGFja1BsYXllck5hbWVDb2xvciIsImV2YWxDb250YWluZXJCb3JkZXJDb2xvciIsIm1vdmVJbmRpY2F0b3JDb2xvciIsImJhckhlaWdodCIsImJhckJvcmRlclJhZGl1cyIsImZvbnRTaXplIiwic2hvd0Nsb2NrcyIsInNob3dNb3ZlTnVtYmVyIiwidXNlRXZhbFN0b3JlIiwic2V0IiwiZ2V0IiwiY3VycmVudFRvdXJuYW1lbnQiLCJjdXJyZW50Um91bmRJZCIsImF2YWlsYWJsZUdhbWVzIiwiZ2FtZXMiLCJjdXN0b21TdHlsZXMiLCJpc0Jyb2FkY2FzdE1vZGUiLCJiYWNrZ3JvdW5kTW9kZSIsImNvbHVtbnMiLCJwb2xsaW5nSW50ZXJ2YWwiLCJzdHJlYW1SZWFkZXIiLCJzZXRUb3VybmFtZW50IiwidG91cm5hbWVudCIsInJvdW5kSWQiLCJzdG9wUG9sbGluZyIsInN0YXJ0UG9sbGluZyIsInNldFJvdW5kSWQiLCJhZGRHYW1lIiwid2hpdGVQbGF5ZXIiLCJibGFja1BsYXllciIsInNvbWUiLCJnIiwibmV3R2FtZSIsImV2YWx1YXRpb24iLCJsYXN0RkVOIiwicmVzdWx0Iiwid2hpdGVUaW1lIiwiYmxhY2tUaW1lIiwidHVybiIsIm1vdmVOdW1iZXIiLCJyZW1vdmVHYW1lIiwiaW5kZXgiLCJmaWx0ZXIiLCJfIiwiaSIsImNsZWFyR2FtZXMiLCJzZXRDdXN0b21TdHlsZXMiLCJzdHlsZXMiLCJyZXNldFN0eWxlcyIsInNldEJyb2FkY2FzdE1vZGUiLCJtb2RlIiwic2V0QmFja2dyb3VuZE1vZGUiLCJzZXRDb2x1bW5zIiwiY29scyIsImNsZWFySW50ZXJ2YWwiLCJzdGFydFN0cmVhbSIsImNhbmNlbCIsImNhdGNoIiwibG9hZEZyb21VcmwiLCJkYXRhIiwiZGVjb2RlZCIsImN1c3RvbVN0eWxlc0Zyb21VcmwiLCJ0b3VybmFtZW50SWQiLCJpZCIsIm5hbWUiLCJzbHVnIiwicm91bmRzIiwiZ2FtZUlEcyIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJmb3JFYWNoIiwiZ2FtZUlkIiwid2hpdGUiLCJibGFjayIsInNwbGl0IiwibWF0Y2giLCJmaW5kIiwibG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZnVsbFdoaXRlIiwiZnVsbEJsYWNrIiwiZ2VuZXJhdGVTaGFyZVVybCIsImdhbWVTdHIiLCJtYXAiLCJ3IiwicG9wIiwiYiIsImpvaW4iLCJiZ0NoYXIiLCJzaG9ydERhdGEiLCJlbmNvZGVkIiwiYnRvYSIsInJlcGxhY2UiLCJzdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwicGFydGlhbGl6ZSIsInN0YXRlIiwiaXNOZXdSb3VuZCIsImFsbEdhbWVzTWFwIiwiTWFwIiwic3RyZWFtVXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsInN0YXJ0UG9sbGluZ0ZhbGxiYWNrIiwiYm9keSIsInJlYWRlciIsImdldFJlYWRlciIsImJ1ZmZlciIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsImlzRmlyc3RDaHVuayIsInByb2Nlc3NTdHJlYW0iLCJkb25lIiwidmFsdWUiLCJyZWFkIiwidHJpbSIsInByb2Nlc3NQZ25EYXRhIiwiZGVjb2RlIiwic3RyZWFtIiwicGduVGV4dCIsImVycm9yIiwicG9sbCIsInJlcyIsImpzb24iLCJBcnJheSIsImlzQXJyYXkiLCJwcm9jZXNzSnNvbkRhdGEiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwicGduR2FtZXMiLCJwZ24iLCJ3aGl0ZU1hdGNoIiwiYmxhY2tNYXRjaCIsImdhbWVOYW1lcyIsImZyb20iLCJrZXlzIiwiY3VycmVudEdhbWVzIiwiZ2FtZSIsImdhbWVOYW1lIiwiZ2FtZURhdGEiLCJleHRyYWN0R2FtZURhdGFGcm9tUGduIiwiZXZhbERhdGEiLCJmZXRjaEV2YWx1YXRpb24iLCJCb29sZWFuIiwibWF0Y2hpbmdHYW1lIiwiZmVuIiwicGxheWVycyIsImNsb2NrIiwiTWF0aCIsImZsb29yIiwiZmVuUGFydHMiLCJwYXJzZUludCIsInBvc1Jlc3VsdCIsImhlYWRlcnMiLCJpc0VyciIsInBvcyIsIm1vdmVDb3VudCIsIm5vZGUiLCJtb3ZlcyIsIm1haW5saW5lIiwibW92ZSIsInNhbiIsInBsYXkiLCJ0b1NldHVwIiwiY2xvY2tzIiwiY2xvY2tzTGlzdCIsImMiLCJyZXN1bHRIZWFkZXIiLCJwYXJzZUNsb2NrIiwicGFydHMiLCJOdW1iZXIiLCJlbmNvZGVVUklDb21wb25lbnQiLCJFcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/store.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clockToSeconds: () => (/* binding */ clockToSeconds),\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   decodeStateData: () => (/* binding */ decodeStateData),\n/* harmony export */   formatClock: () => (/* binding */ formatClock),\n/* harmony export */   formatEvaluation: () => (/* binding */ formatEvaluation),\n/* harmony export */   formatPlayerName: () => (/* binding */ formatPlayerName),\n/* harmony export */   generateShareUrl: () => (/* binding */ generateShareUrl),\n/* harmony export */   getEvalBarWidth: () => (/* binding */ getEvalBarWidth)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(app-pages-browser)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(app-pages-browser)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn() {\n    for(var _len = arguments.length, inputs = new Array(_len), _key = 0; _key < _len; _key++){\n        inputs[_key] = arguments[_key];\n    }\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nfunction formatPlayerName(name) {\n    if (!name) return '';\n    const aliases = {\n        'Praggnanandhaa': 'Pragg',\n        'Rameshbabu Praggnanandhaa': 'Pragg',\n        'Alireza Firouzja': 'Alireza',\n        'Alireza Dharia': 'Alireza',\n        'Ian Nepomniachtchi': 'Nepo',\n        'Ding Liren': 'Ding',\n        'Hikaru Nakamura': 'Hikaru',\n        'Anish Giri': 'Giri',\n        'Wesley So': 'Wesley',\n        'Levon Aronian': 'Levon',\n        'Maxime Vachier-Lagrave': 'MVL',\n        'Fabiano Caruana': 'Fabiano',\n        'Viswanathan Anand': 'Anand',\n        'Arjun Erigaisi': 'Arjun',\n        'Gukesh D': 'Gukesh',\n        'Vidit Gujrathi': 'Vidit',\n        'Praveen Balakrishnan': 'Praveen'\n    };\n    const lastName = name.split(/[,\\s]+/).pop() || name;\n    return aliases[name] || lastName;\n}\nfunction formatClock(seconds) {\n    if (seconds <= 0) return '0:00';\n    const h = Math.floor(seconds / 3600);\n    const m = Math.floor(seconds % 3600 / 60);\n    const s = seconds % 60;\n    if (h > 0) {\n        return \"\".concat(h, \":\").concat(m.toString().padStart(2, '0'), \":\").concat(s.toString().padStart(2, '0'));\n    }\n    return \"\".concat(m, \":\").concat(s.toString().padStart(2, '0'));\n}\nfunction getEvalBarWidth(evaluation, result) {\n    if (result) return '0%';\n    if (evaluation === null) return '50%';\n    const clamped = Math.max(-10, Math.min(10, evaluation));\n    const percent = 50 + clamped * 5;\n    return \"\".concat(Math.max(5, Math.min(95, percent)), \"%\");\n}\nfunction formatEvaluation(evaluation) {\n    if (evaluation === null) return '';\n    if (evaluation > 0) return \"+\".concat(evaluation.toFixed(1));\n    if (evaluation < 0) return evaluation.toFixed(1);\n    return '0.0';\n}\nfunction clockToSeconds(clock) {\n    const time = clock.split(':');\n    const hours = Number(time[0]);\n    const minutes = Number(time[1]);\n    const seconds = Number(time[2]);\n    return hours * 3600 + minutes * 60 + seconds;\n}\nfunction decodeStateData(data) {\n    try {\n        let decoded = data.replace(/-/g, '+').replace(/_/g, '/');\n        while(decoded.length % 4)decoded += '=';\n        try {\n            decoded = atob(decoded);\n        } catch (e) {\n            decoded = atob(data);\n        }\n        if (decoded.includes('|') && !decoded.startsWith('{')) {\n            const [roundId, gamesStr, bgChar] = decoded.split('|');\n            return {\n                roundId,\n                gameIDs: gamesStr ? gamesStr.split(',').map((g)=>{\n                    const [w, b] = g.split('~');\n                    return \"\".concat(w, \"-vs-\").concat(b);\n                }) : [],\n                backgroundMode: bgChar === 'c' ? 'chroma' : bgChar === 't' ? 'transparent' : 'dark'\n            };\n        }\n        const parsed = JSON.parse(decoded);\n        return {\n            tournamentId: parsed.tournamentId,\n            roundId: parsed.roundId,\n            gameIDs: parsed.gameIDs || [],\n            customStyles: parsed.customStyles,\n            backgroundMode: parsed.backgroundMode\n        };\n    } catch (e) {\n        return null;\n    }\n}\nfunction generateShareUrl(tournamentId, roundId, games, backgroundMode, customStyles) {\n    const gameStr = games.map((g)=>{\n        const w = g.whitePlayer.split(/[,\\s]+/).pop() || g.whitePlayer;\n        const b = g.blackPlayer.split(/[,\\s]+/).pop() || g.blackPlayer;\n        return \"\".concat(w, \"~\").concat(b);\n    }).join(',');\n    const bgChar = backgroundMode === 'chroma' ? 'c' : backgroundMode === 'transparent' ? 't' : 'd';\n    const shortData = \"\".concat(roundId, \"|\").concat(gameStr, \"|\").concat(bgChar);\n    const encoded = btoa(shortData).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n    return encoded;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1qQixTQUFTTSxtQkFBbUIsV0FBVyxNQUFNQSxtQkFBbUIsZ0JBQWdCLE1BQU07SUFDNUYsTUFBTVksWUFBWSxHQUFjSixPQUFYaEIsU0FBUSxLQUFjRSxPQUFYYyxTQUFRLEtBQVUsT0FBUGQ7SUFDM0MsTUFBTW1CLFVBQVVDLEtBQUtGLFdBQVd6QixPQUFPLENBQUMsTUFBTSxJQUFJQSxPQUFPLENBQUMsT0FBTyxLQUFLQSxPQUFPLENBQUMsT0FBTztJQUVyRixPQUFPMEI7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL3Jha3NoaXQvd29ya3NwYWNlL2FyY2hpdmVzL3JlcG9zL2NoZXNzL2V2YWwtYmFyL3NyYy9saWIvdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xzeCwgdHlwZSBDbGFzc1ZhbHVlIH0gZnJvbSAnY2xzeCdcbmltcG9ydCB7IHR3TWVyZ2UgfSBmcm9tICd0YWlsd2luZC1tZXJnZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFBsYXllck5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFuYW1lKSByZXR1cm4gJydcbiAgXG4gIGNvbnN0IGFsaWFzZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgJ1ByYWdnbmFuYW5kaGFhJzogJ1ByYWdnJyxcbiAgICAnUmFtZXNoYmFidSBQcmFnZ25hbmFuZGhhYSc6ICdQcmFnZycsXG4gICAgJ0FsaXJlemEgRmlyb3V6amEnOiAnQWxpcmV6YScsXG4gICAgJ0FsaXJlemEgRGhhcmlhJzogJ0FsaXJlemEnLFxuICAgICdJYW4gTmVwb21uaWFjaHRjaGknOiAnTmVwbycsXG4gICAgJ0RpbmcgTGlyZW4nOiAnRGluZycsXG4gICAgJ0hpa2FydSBOYWthbXVyYSc6ICdIaWthcnUnLFxuICAgICdBbmlzaCBHaXJpJzogJ0dpcmknLFxuICAgICdXZXNsZXkgU28nOiAnV2VzbGV5JyxcbiAgICAnTGV2b24gQXJvbmlhbic6ICdMZXZvbicsXG4gICAgJ01heGltZSBWYWNoaWVyLUxhZ3JhdmUnOiAnTVZMJyxcbiAgICAnRmFiaWFubyBDYXJ1YW5hJzogJ0ZhYmlhbm8nLFxuICAgICdWaXN3YW5hdGhhbiBBbmFuZCc6ICdBbmFuZCcsXG4gICAgJ0FyanVuIEVyaWdhaXNpJzogJ0FyanVuJyxcbiAgICAnR3VrZXNoIEQnOiAnR3VrZXNoJyxcbiAgICAnVmlkaXQgR3VqcmF0aGknOiAnVmlkaXQnLFxuICAgICdQcmF2ZWVuIEJhbGFrcmlzaG5hbic6ICdQcmF2ZWVuJyxcbiAgfVxuXG4gIGNvbnN0IGxhc3ROYW1lID0gbmFtZS5zcGxpdCgvWyxcXHNdKy8pLnBvcCgpIHx8IG5hbWVcbiAgcmV0dXJuIGFsaWFzZXNbbmFtZV0gfHwgbGFzdE5hbWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdENsb2NrKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChzZWNvbmRzIDw9IDApIHJldHVybiAnMDowMCdcbiAgY29uc3QgaCA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApXG4gIGNvbnN0IG0gPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MClcbiAgY29uc3QgcyA9IHNlY29uZHMgJSA2MFxuICBcbiAgaWYgKGggPiAwKSB7XG4gICAgcmV0dXJuIGAke2h9OiR7bS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7cy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YFxuICB9XG4gIHJldHVybiBgJHttfToke3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEV2YWxCYXJXaWR0aChldmFsdWF0aW9uOiBudW1iZXIgfCBudWxsLCByZXN1bHQ6IHN0cmluZyB8IG51bGwpOiBzdHJpbmcge1xuICBpZiAocmVzdWx0KSByZXR1cm4gJzAlJ1xuICBpZiAoZXZhbHVhdGlvbiA9PT0gbnVsbCkgcmV0dXJuICc1MCUnXG4gIFxuICBjb25zdCBjbGFtcGVkID0gTWF0aC5tYXgoLTEwLCBNYXRoLm1pbigxMCwgZXZhbHVhdGlvbikpXG4gIGNvbnN0IHBlcmNlbnQgPSA1MCArIChjbGFtcGVkICogNSlcbiAgcmV0dXJuIGAke01hdGgubWF4KDUsIE1hdGgubWluKDk1LCBwZXJjZW50KSl9JWBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEV2YWx1YXRpb24oZXZhbHVhdGlvbjogbnVtYmVyIHwgbnVsbCk6IHN0cmluZyB7XG4gIGlmIChldmFsdWF0aW9uID09PSBudWxsKSByZXR1cm4gJydcbiAgaWYgKGV2YWx1YXRpb24gPiAwKSByZXR1cm4gYCske2V2YWx1YXRpb24udG9GaXhlZCgxKX1gXG4gIGlmIChldmFsdWF0aW9uIDwgMCkgcmV0dXJuIGV2YWx1YXRpb24udG9GaXhlZCgxKVxuICByZXR1cm4gJzAuMCdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb2NrVG9TZWNvbmRzKGNsb2NrOiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCB0aW1lID0gY2xvY2suc3BsaXQoJzonKVxuICBjb25zdCBob3VycyA9IE51bWJlcih0aW1lWzBdKVxuICBjb25zdCBtaW51dGVzID0gTnVtYmVyKHRpbWVbMV0pXG4gIGNvbnN0IHNlY29uZHMgPSBOdW1iZXIodGltZVsyXSlcbiAgcmV0dXJuIChob3VycyAqIDM2MDApICsgKG1pbnV0ZXMgKiA2MCkgKyBzZWNvbmRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVTdGF0ZURhdGEoZGF0YTogc3RyaW5nKToge1xuICB0b3VybmFtZW50SWQ/OiBzdHJpbmdcbiAgcm91bmRJZDogc3RyaW5nXG4gIGdhbWVJRHM6IHN0cmluZ1tdXG4gIGN1c3RvbVN0eWxlcz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4gIGJhY2tncm91bmRNb2RlPzogc3RyaW5nXG59IHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgbGV0IGRlY29kZWQgPSBkYXRhLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJylcbiAgICB3aGlsZSAoZGVjb2RlZC5sZW5ndGggJSA0KSBkZWNvZGVkICs9ICc9J1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBkZWNvZGVkID0gYXRvYihkZWNvZGVkKVxuICAgIH0gY2F0Y2gge1xuICAgICAgZGVjb2RlZCA9IGF0b2IoZGF0YSlcbiAgICB9XG5cbiAgICBpZiAoZGVjb2RlZC5pbmNsdWRlcygnfCcpICYmICFkZWNvZGVkLnN0YXJ0c1dpdGgoJ3snKSkge1xuICAgICAgY29uc3QgW3JvdW5kSWQsIGdhbWVzU3RyLCBiZ0NoYXJdID0gZGVjb2RlZC5zcGxpdCgnfCcpXG4gICAgICByZXR1cm4ge1xuICAgICAgICByb3VuZElkLFxuICAgICAgICBnYW1lSURzOiBnYW1lc1N0ciA/IGdhbWVzU3RyLnNwbGl0KCcsJykubWFwKGcgPT4ge1xuICAgICAgICAgIGNvbnN0IFt3LCBiXSA9IGcuc3BsaXQoJ34nKVxuICAgICAgICAgIHJldHVybiBgJHt3fS12cy0ke2J9YFxuICAgICAgICB9KSA6IFtdLFxuICAgICAgICBiYWNrZ3JvdW5kTW9kZTogYmdDaGFyID09PSAnYycgPyAnY2hyb21hJyA6IGJnQ2hhciA9PT0gJ3QnID8gJ3RyYW5zcGFyZW50JyA6ICdkYXJrJyxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGRlY29kZWQpXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdXJuYW1lbnRJZDogcGFyc2VkLnRvdXJuYW1lbnRJZCxcbiAgICAgIHJvdW5kSWQ6IHBhcnNlZC5yb3VuZElkLFxuICAgICAgZ2FtZUlEczogcGFyc2VkLmdhbWVJRHMgfHwgW10sXG4gICAgICBjdXN0b21TdHlsZXM6IHBhcnNlZC5jdXN0b21TdHlsZXMsXG4gICAgICBiYWNrZ3JvdW5kTW9kZTogcGFyc2VkLmJhY2tncm91bmRNb2RlLFxuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTaGFyZVVybChcbiAgdG91cm5hbWVudElkOiBzdHJpbmcsXG4gIHJvdW5kSWQ6IHN0cmluZyxcbiAgZ2FtZXM6IEFycmF5PHsgd2hpdGVQbGF5ZXI6IHN0cmluZzsgYmxhY2tQbGF5ZXI6IHN0cmluZyB9PixcbiAgYmFja2dyb3VuZE1vZGU6IHN0cmluZyxcbiAgY3VzdG9tU3R5bGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuKTogc3RyaW5nIHtcbiAgY29uc3QgZ2FtZVN0ciA9IGdhbWVzLm1hcChnID0+IHtcbiAgICBjb25zdCB3ID0gZy53aGl0ZVBsYXllci5zcGxpdCgvWyxcXHNdKy8pLnBvcCgpIHx8IGcud2hpdGVQbGF5ZXJcbiAgICBjb25zdCBiID0gZy5ibGFja1BsYXllci5zcGxpdCgvWyxcXHNdKy8pLnBvcCgpIHx8IGcuYmxhY2tQbGF5ZXJcbiAgICByZXR1cm4gYCR7d31+JHtifWBcbiAgfSkuam9pbignLCcpXG4gIFxuICBjb25zdCBiZ0NoYXIgPSBiYWNrZ3JvdW5kTW9kZSA9PT0gJ2Nocm9tYScgPyAnYycgOiBiYWNrZ3JvdW5kTW9kZSA9PT0gJ3RyYW5zcGFyZW50JyA/ICd0JyA6ICdkJ1xuICBjb25zdCBzaG9ydERhdGEgPSBgJHtyb3VuZElkfXwke2dhbWVTdHJ9fCR7YmdDaGFyfWBcbiAgY29uc3QgZW5jb2RlZCA9IGJ0b2Eoc2hvcnREYXRhKS5yZXBsYWNlKC89L2csICcnKS5yZXBsYWNlKC9cXCsvZywgJy0nKS5yZXBsYWNlKC9cXC8vZywgJ18nKVxuICBcbiAgcmV0dXJuIGVuY29kZWRcbn1cbiJdLCJuYW1lcyI6WyJjbHN4IiwidHdNZXJnZSIsImNuIiwiaW5wdXRzIiwiZm9ybWF0UGxheWVyTmFtZSIsIm5hbWUiLCJhbGlhc2VzIiwibGFzdE5hbWUiLCJzcGxpdCIsInBvcCIsImZvcm1hdENsb2NrIiwic2Vjb25kcyIsImgiLCJNYXRoIiwiZmxvb3IiLCJtIiwicyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJnZXRFdmFsQmFyV2lkdGgiLCJldmFsdWF0aW9uIiwicmVzdWx0IiwiY2xhbXBlZCIsIm1heCIsIm1pbiIsInBlcmNlbnQiLCJmb3JtYXRFdmFsdWF0aW9uIiwidG9GaXhlZCIsImNsb2NrVG9TZWNvbmRzIiwiY2xvY2siLCJ0aW1lIiwiaG91cnMiLCJOdW1iZXIiLCJtaW51dGVzIiwiZGVjb2RlU3RhdGVEYXRhIiwiZGF0YSIsImRlY29kZWQiLCJyZXBsYWNlIiwibGVuZ3RoIiwiYXRvYiIsImluY2x1ZGVzIiwic3RhcnRzV2l0aCIsInJvdW5kSWQiLCJnYW1lc1N0ciIsImJnQ2hhciIsImdhbWVJRHMiLCJtYXAiLCJnIiwidyIsImIiLCJiYWNrZ3JvdW5kTW9kZSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsInRvdXJuYW1lbnRJZCIsImN1c3RvbVN0eWxlcyIsImdlbmVyYXRlU2hhcmVVcmwiLCJnYW1lcyIsImdhbWVTdHIiLCJ3aGl0ZVBsYXllciIsImJsYWNrUGxheWVyIiwiam9pbiIsInNob3J0RGF0YSIsImVuY29kZWQiLCJidG9hIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/utils.ts\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Frakshit%2Fworkspace%2Farchives%2Frepos%2Fchess%2Feval-bar%2Fsrc%2Fapp%2Fb%2F%5Bstate%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);